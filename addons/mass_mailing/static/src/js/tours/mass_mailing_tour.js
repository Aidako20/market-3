flectra.define('mass_mailing.mass_mailing_tour',function(require){
    "usestrict";

    varcore=require('web.core');
    var_t=core._t;
    vartour=require('web_tour.tour');
    varnow=moment();

    tour.register('mass_mailing_tour',{
        url:'/web',
        rainbowManMessage:_t('Congratulations,Iloveyourfirstmailing.:)'),
        sequence:200,
    },[tour.stepUtils.showAppsMenuItem(),{
        trigger:'.o_app[data-menu-xmlid="mass_mailing.mass_mailing_menu_root"]',
        content:_t("Let'strytheEmailMarketingapp."),
        width:210,
        position:'bottom',
        edition:'enterprise',
    },{
        trigger:'.o_app[data-menu-xmlid="mass_mailing.mass_mailing_menu_root"]',
        content:_t("Let'strytheEmailMarketingapp."),
        edition:'community',
    },{
        trigger:'.o-kanban-button-new',
        extra_trigger:'.oe_kanban_mass_mailing',
        content:_t("Startbycreatingyourfirst<b>Mailing</b>."),
        position:'bottom',
    },{
        trigger:'input[name="subject"]',
        content:_t('Pickthe<b>emailsubject</b>.'),
        position:'right',
        run:'text'+now.format("MMMM")+"Newsletter",
    },{
        trigger:'div[name="contact_list_ids"]>.o_input_dropdown>input[type="text"]',
        run:'click',
        auto:true,
    },{
        trigger:'li.ui-menu-item',
        run:'click',
        auto:true,
    },{
        trigger:'div[name="body_arch"]iframe#newsletter',
        content:_t('Choosethis<b>theme</b>.'),
        position:'left',
        edition:'enterprise',
        run:'click',
    },{
        trigger:'div[name="body_arch"]iframe#default',
        content:_t('Choosethis<b>theme</b>.'),
        position:'right',
        edition:'community',
        run:'click',
    },{
        trigger:'div[name="body_arch"]iframediv.o_mail_block_paragraph',
        content:_t('Clickonthisparagraphtoeditit.'),
        position:'top',
        edition:'enterprise',
        run:'click',
    },{
        trigger:'div[name="body_arch"]iframediv.o_mail_block_title_text',
        content:_t('Clickonthisparagraphtoeditit.'),
        position:'top',
        edition:'community',
        run:'click',
    },{
        trigger:'button[name="action_test"]',
        content:_t("Testthismailingbysendingacopytoyourself."),
        position:'bottom',
    },{
        trigger:'button[name="send_mail_test"]',
        content:_t("Checktheemailaddressandclicksend."),
        position:'bottom',
    },{
        trigger:'button[name="action_put_in_queue"]',
        content:_t("Readyfortake-off!"),
        position:'bottom',
    },{
        trigger:'.btn-primary:contains("Ok")',
        content:_t("Don'tworry,themailingcontactwecreatedisaninternaluser."),
        position:'bottom',
        run:"click",
    },{
        trigger:'.o_back_button',
        content:_t("Byusingthe<b>Breadcrumb</b>,youcannavigatebacktotheoverview."),
        position:'bottom',
        run:'click',
    }]
    );
});
