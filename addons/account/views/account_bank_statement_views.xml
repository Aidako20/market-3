<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
    <data>

        <recordid="view_account_bnk_stmt_cashbox"model="ir.ui.view">
            <fieldname="name">account.bnk_stmt_cashbox.form</field>
            <fieldname="model">account.bank.statement.cashbox</field>
            <fieldname="arch"type="xml">
                <form>
                    <sheet>
                        <fieldname="start_bank_stmt_ids"invisible="1"/>
                        <fieldname="end_bank_stmt_ids"invisible="1"/>
                        <fieldname="currency_id"invisible="1"/>
                        <fieldname="cashbox_lines_ids"nolabel="1"context="{'default_currency_id':currency_id}">
                            <treeeditable="bottom">
                                <fieldname="currency_id"invisible="1"/>
                                <fieldname="number"/>
                                <fieldname="coin_value"widget="monetary"options="{'currency_field':'currency_id'}"/>
                                <fieldname="subtotal"widget="monetary"options="{'currency_field':'currency_id'}"/>
                            </tree>
                        </field>
                        <div>
                            <group>
                                <groupclass="oe_subtotal_footeroe_right"cols="6">
                                    <fieldname="currency_id"invisible="1"/>
                                    <divclass="o_td_label"></div>
                                    <fieldname="total"widget="monetary"options="{'currency_field':'currency_id'}"/>
                                </group>
                            </group>
                        </div>
                    </sheet>
                </form>
            </field>
        </record>

        <recordid="view_account_bnk_stmt_cashbox_footer"model="ir.ui.view">
            <fieldname="name">account.bnk_stmt_cashbox.form</field>
            <fieldname="model">account.bank.statement.cashbox</field>
            <fieldname="priority">1000</field>
            <fieldname="mode">primary</field>
            <fieldname="inherit_id"ref="view_account_bnk_stmt_cashbox"/>
            <fieldname="arch"type="xml">
                <xpathexpr="//sheet"position="after">
                    <footer>
                        <buttonstring="Confirm"class="btn-primary"special="save"/>
                        <buttonstring="Cancel"class="btn-secondary"special="cancel"/>
                    </footer>
                </xpath>
            </field>
        </record>

        <recordid="view_account_bnk_stmt_check"model="ir.ui.view">
            <fieldname="name">account.bnk_stmt_check.form</field>
            <fieldname="model">account.bank.statement.closebalance</field>
            <fieldname="arch"type="xml">
                <form>
                <div>
                    <p>Theclosingbalanceisdifferentthanthecomputedone!</p>
                    <p>Confirmingthiswillcreateautomaticallyajournalentrywiththedifferenceintheprofit/lossaccountsetonthecashjournal.</p>
                    <footer>
                        <buttonstring="Confirm"name="validate"type="object"class="btn-primary"/>
                        <buttonstring="Cancel"class="btn-secondary"special="cancel"/>
                    </footer>
                </div>
                </form>
            </field>
        </record>

        <recordid="action_view_account_bnk_stmt_check"model="ir.actions.act_window">
            <fieldname="name">CheckClosingBalance</field>
            <fieldname="res_model">account.bank.statement.closebalance</field>
            <fieldname="view_mode">tree,form</field>
            <fieldname="view_id"ref="view_account_bnk_stmt_check"/>
            <fieldname="target">new</field>
        </record>

        <recordid="view_bank_statement_tree"model="ir.ui.view">
            <fieldname="name">account.bank.statement.tree</field>
            <fieldname="model">account.bank.statement</field>
            <fieldname="arch"type="xml">
                <treedecoration-danger="notis_difference_zero"decoration-info="state=='open'andis_difference_zero"string="Statements">
                    <fieldname="name"/>
                    <fieldname="date"/>
                    <fieldname="journal_id"/>
                    <fieldname="company_id"groups="base.group_multi_company"/>
                    <fieldname="balance_start"/>
                    <fieldname="balance_end_real"/>
                    <fieldname="balance_end"invisible="1"/>
                    <fieldname="currency_id"invisible="1"/>
                    <fieldname="state"/>
                    <fieldname="is_difference_zero"invisible="1"/>
                </tree>
            </field>
        </record>

        <recordid="view_bank_statement_search"model="ir.ui.view">
            <fieldname="name">account.bank.statement.search</field>
            <fieldname="model">account.bank.statement</field>
            <fieldname="arch"type="xml">
                <searchstring="SearchBankStatements">
                    <fieldname="name"string="BankStatement"/>
                    <fieldname="date"/>
                    <filterstring="New"name="draft"domain="[('state','=','open')]"/>
                    <filterstring="Processing"name="processing"domain="[('state','=','posted')]"/>
                    <filterstring="Validated"name="confirmed"domain="[('state','=','confirm')]"/>
                    <separator/>
                    <filtername="filter_date"date="date"/>
                    <fieldname="journal_id"domain="[('type','in',('bank','cash'))]"/>
                    <groupexpand="0"string="GroupBy">
                        <filterstring="Journal"name="journal"context="{'group_by':'journal_id'}"/>
                        <filterstring="Status"name="status"context="{'group_by':'state'}"/>
                        <filterstring="Date"name="date"context="{'group_by':'date'}"/>
                    </group>
                </search>
            </field>
        </record>

        <recordid="view_bank_statement_form"model="ir.ui.view">
            <fieldname="name">account.bank.statement.form</field>
            <fieldname="model">account.bank.statement</field>
            <fieldname="priority">1</field>
            <fieldname="arch"type="xml">
                <formstring="BankStatement">
                <header>
                    <buttonstring="Post"states="open"class="oe_highlight"
                            name="button_post"type="object"/>
                    <buttonstring="Validate"class="oe_highlight"
                            name="button_validate_or_action"type="object"
                            attrs="{'invisible':['|','|',('all_lines_reconciled','=',False),('line_ids','=',[]),('state','!=','posted')]}"/>
                    <buttonstring="ResettoNew"
                            name="button_reopen"type="object"
                            attrs="{'invisible':[('state','!=','posted')]}"/>
                    <buttonstring="ResettoProcessing"
                            name="button_reprocess"type="object"
                            attrs="{'invisible':[('state','!=','confirm')]}"/>
                    <buttonname="%(action_cash_box_out)d"string="TakeMoneyIn/Out"type="action"class="oe_highlight"attrs="{'invisible':[('journal_type','!=','cash')]}"/>
                    <fieldname="state"widget="statusbar"statusbar_visible="open,posted,confirm"/>
                </header>
                <divclass="alertalert-warning"role="alert"attrs="{'invisible':['|',('previous_statement_id','=',False),('is_valid_balance_start','=',True)]}">
                    Thestartingbalance<b>doesn'tmatch</b>withtheendingbalanceofthepreviousbankstatement.
                </div>
                <sheet>
                    <!--Invisiblefields-->
                    <fieldname="all_lines_reconciled"invisible="1"/>
                    <fieldname="move_line_count"invisible="1"/>
                    <fieldname="country_code"invisible="1"/>

                    <divclass="oe_button_box"name="button_box">
                        <buttonclass="oe_stat_button"name="button_journal_entries"
                                string="JournalEntries"type="object"
                                attrs="{'invisible':[('move_line_count','=',0)]}"icon="fa-bars"/>
                    </div>

                    <divclass="oe_titleoe_inline">
                        <labelfor="name"class="oe_edit_only"/>
                        <h1><fieldname="name"/></h1>
                    </div>
                    <group>
                        <group>
                            <fieldname="previous_statement_id"invisible="1"/>
                            <fieldname="is_valid_balance_start"invisible="1"/>
                            <fieldname="journal_type"invisible="1"/>
                            <fieldname="cashbox_start_id"invisible="1"/>
                            <fieldname="cashbox_end_id"invisible="1"/>
                            <fieldname="journal_id"domain="[('type','=',journal_type)]"attrs="{'readonly':[('move_line_count','!=',0)]}"widget="selection"/>
                            <fieldname="date"
                                   attrs="{'readonly':[('state','!=','open')]}"
                                   options="{'datepicker':{'warn_future':true}}"/>
                            <fieldname='company_id'options="{'no_create':True}"groups="base.group_multi_company"/>
                            <fieldname="currency_id"invisible="1"/>
                        </group><group>
                            <labelfor="balance_start"/>
                            <div>
                                <fieldname="balance_start"class="oe_inline"attrs="{'readonly':[('state','=','confirm')]}"/>
                                <buttonname="open_cashbox_id"attrs="{'invisible':['|',('state','!=','open'),('journal_type','!=','cash')]}"string="&#8594;Count"type="object"class="oe_edit_onlyoe_linkoe_inline"context="{'balance':'start'}"/>
                            </div>
                            <labelfor="balance_end_real"/>
                            <div>
                                <fieldname="balance_end_real"class="oe_inline"attrs="{'readonly':[('state','=','confirm')]}"/>
                                <buttonname="open_cashbox_id"attrs="{'invisible':['|',('state','!=','open'),('journal_type','!=','cash')]}"string="&#8594;Count"type="object"class="oe_edit_onlyoe_linkoe_inline"context="{'balance':'close'}"/>
                            </div>
                        </group>
                    </group>

                    <notebook>
                        <pagestring="Transactions"name="statement_line_ids">
                            <fieldname="line_ids"
                                   attrs="{'readonly':[('state','!=','open')]}"
                                   context="{'default_date':date,'default_journal_id':journal_id}">
                                <treestring="Statementlines"
                                      editable="bottom"
                                      decoration-muted="is_reconciled"
                                      limit="500">

                                    <!--Invisiblefields-->
                                    <fieldname="company_id"invisible="1"/>
                                    <fieldname="state"invisible="1"/>
                                    <fieldname="is_reconciled"invisible="1"/>
                                    <fieldname="currency_id"invisible="1"/>
                                    <fieldname="partner_bank_id"invisible="1"/>
                                    <fieldname="country_code"invisible="1"/>

                                    <!--Visiblefields-->
                                    <fieldname="sequence"widget="handle"/>
                                    <fieldname="date"
                                           attrs="{'readonly':[('parent.state','!=','open')]}"/>
                                    <fieldname="payment_ref"/>
                                    <fieldname="partner_id"
                                           attrs="{'readonly':[('parent.state','!=','open')]}"
                                           domain="['|',('parent_id','=',False),('is_company','=',True)]"/>
                                    <fieldname="ref"optional="hidden"/>
                                    <fieldname="transaction_type"optional="hidden"/>
                                    <fieldname="narration"string="Notes"optional="hidden"/>
                                    <fieldname="amount"
                                           attrs="{'readonly':[('parent.state','!=','open')]}"/>
                                    <fieldname="amount_currency"optional="hidden"groups="base.group_multi_currency"
                                           attrs="{'readonly':[('parent.state','!=','open')]}"/>
                                    <fieldname="account_number"optional="hidden"/>
                                    <fieldname="foreign_currency_id"optional="hidden"groups="base.group_multi_currency"
                                           attrs="{'readonly':[('parent.state','!=','open')]}"/>

                                    <!--Buttons-->
                                    <buttonname="button_undo_reconciliation"type="object"
                                            attrs="{'invisible':[('is_reconciled','=',False)],'column_invisible':[('parent.state','!=','posted')]}"
                                            string="Revertreconciliation"icon="fa-undo"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                    <groupclass="oe_subtotal_footeroe_right"colspan="2"name="sale_total">
                        <divclass="oe_subtotal_footer_separatoroe_inline">
                            <labelfor="balance_end"/>
                        </div>
                        <fieldname="balance_end"nolabel="1"class="oe_subtotal_footer_separator"/>
                    </group>
                    <divclass="oe_clear"/>
                </sheet>
                <divclass="o_attachment_preview"/>
                <divclass="oe_chatter">
                    <fieldname="message_follower_ids"/>
                    <fieldname="message_ids"/>
                </div>
                </form>
            </field>
        </record>

        <recordid="action_bank_statement_tree"model="ir.actions.act_window">
            <fieldname="name">BankStatements</field>
            <fieldname="res_model">account.bank.statement</field>
            <fieldname="view_mode">tree,form,pivot,graph</field>
            <fieldname="domain">[('journal_id.type','=','bank')]</field>
            <fieldname="context">{'journal_type':'bank'}</field>
            <fieldname="search_view_id"ref="view_bank_statement_search"/>
            <fieldname="help"type="html">
              <pclass="o_view_nocontent_smiling_face">
                Registerabankstatement
              </p><p>
                Abankstatementisasummaryofallfinancialtransactions
                occurringoveragivenperiodoftimeonabankaccount.You
                shouldreceivethisperiodicalyfromyourbank.
              </p><p>
                Flectraallowsyoutoreconcileastatementlinedirectlywith
                therelatedsaleorpurchaseinvoices.
              </p>
            </field>
        </record>
        <recordmodel="ir.actions.act_window.view"id="action_bank_statement_tree_bank">
            <fieldname="sequence"eval="1"/>
            <fieldname="view_mode">tree</field>
            <fieldname="view_id"ref="view_bank_statement_tree"/>
            <fieldname="act_window_id"ref="action_bank_statement_tree"/>
        </record>
        <recordmodel="ir.actions.act_window.view"id="action_bank_statement_form_bank">
            <fieldname="sequence"eval="2"/>
            <fieldname="view_mode">form</field>
            <fieldname="view_id"ref="view_bank_statement_form"/>
            <fieldname="act_window_id"ref="action_bank_statement_tree"/>
        </record>

        <recordid="view_bank_statement_line_search"model="ir.ui.view">
            <fieldname="name">account.bank.statement.line.search</field>
            <fieldname="model">account.bank.statement.line</field>
            <fieldname="arch"type="xml">
                <searchstring="SearchBankStatementsLine">
                    <fieldname="payment_ref"/>
                    <fieldname="statement_id"/>
                    <fieldname="partner_id"/>
                    <fieldname="date"/>
                    <fieldname="journal_id"domain="[('type','in',('bank','cash'))]"/>
                    <fieldname="narration"string="Notes"/>
                    <fieldname="transaction_type"/>
                </search>
            </field>
        </record>

        <recordid="view_bank_statement_line_form"model="ir.ui.view">
            <fieldname="name">bank.statement.line.form</field>
            <fieldname="model">account.bank.statement.line</field>
            <fieldname="priority">8</field>
            <fieldname="arch"type="xml">
                <formstring="StatementLine"create="false">
                    <sheet>
                        <groupcol="4">
                            <!--Invisiblefields-->
                            <fieldname="state"invisible="1"/>
                            <fieldname="company_id"invisible="1"/>

                            <!--Displayedfields-->
                            <fieldname="statement_id"/>
                            <fieldname="date"/>
                            <fieldname="payment_ref"/>
                            <fieldname="ref"/>
                            <fieldname="partner_id"/>
                            <fieldname="amount"/>
                            <fieldname="sequence"/>
                            <fieldname="narration"string="Notes"/>
                            <fieldname="transaction_type"/>
                            <fieldname="move_id"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        <recordid="view_bank_statement_line_tree"model="ir.ui.view">
            <fieldname="name">account.bank.statement.line.tree</field>
            <fieldname="model">account.bank.statement.line</field>
            <fieldname="priority">8</field>
            <fieldname="arch"type="xml">
                <treestring="Statementlines"create="false"default_order="datedesc,statement_iddesc,sequencedesc,iddesc">
                    <!--Invisiblefields-->
                    <fieldname="state"invisible="1"/>
                    <fieldname="sequence"readonly="1"invisible="1"/>
                    <fieldname="company_id"invisible="1"/>
                    <fieldname="journal_id"invisible="1"/>
                    <fieldname="is_reconciled"invisible="1"/>
                    <fieldname="partner_bank_id"invisible="1"/>
                    <fieldname="currency_id"invisible="1"/>

                    <!--Displayedfields-->
                    <fieldname="statement_id"optional="hide"/>
                    <fieldname="move_id"/>
                    <fieldname="date"/>
                    <fieldname="payment_ref"/>
                    <fieldname="ref"groups="base.group_no_one"/>
                    <fieldname="partner_id"/>
                    <fieldname="amount"/>
                    <fieldname="amount_currency"optional="hidden"groups="base.group_multi_currency"/>
                    <fieldname="foreign_currency_id"optional="hidden"groups="base.group_multi_currency"/>
                    <fieldname="account_number"optional="hidden"/>
                    <fieldname="transaction_type"optional="hidden"/>
                    <fieldname="narration"optional="hidden"/>

                    <!--Buttons-->
                    <buttonname="button_undo_reconciliation"type="object"
                            attrs="{'invisible':[('is_reconciled','=',False)]}"
                            string="Revertreconciliation"icon="fa-undo"/>
                </tree>
            </field>
        </record>

        <recordid="action_bank_statement_line"model="ir.actions.act_window">
            <fieldname="name">BankStatementLines</field>
            <fieldname="res_model">account.bank.statement.line</field>
            <fieldname="view_mode">tree,form</field>
            <fieldname="domain">[]</field>
            <fieldname="context">{}</field>
            <fieldname="search_view_id"ref="view_bank_statement_line_search"/>
            <fieldname="help"type="html">
              <pclass="o_view_nocontent_empty_folder">
                Abankstatementlineisafinancialtransactiononabankaccount
              </p><p>
                Flectraallowsyoutoreconcileastatementlinedirectlywith
                therelatedsaleorpurchaseinvoice(s).
              </p>
            </field>
        </record>

        <recordid="account_bank_statement_pivot"model="ir.ui.view">
            <fieldname="name">account.bank.statement.pivot</field>
            <fieldname="model">account.bank.statement</field>
            <fieldname="arch"type="xml">
                <pivotstring="AccountStatistics"sample="1">
                    <fieldname="date"type="row"/>
                    <fieldname="balance_start"type="measure"/>
                    <fieldname="balance_end"type="measure"/>
                </pivot>
            </field>
         </record>

        <recordid="account_bank_statement_graph"model="ir.ui.view">
            <fieldname="name">account.bank.statement.graph</field>
            <fieldname="model">account.bank.statement</field>
            <fieldname="arch"type="xml">
                <graphstring="AccountStatistics"type="bar"sample="1">
                    <fieldname="date"/>
                    <fieldname="balance_start"operator="+"/>
                    <fieldname="balance_end"operator="+"/>
                </graph>
            </field>
         </record>

        <recordid="action_view_bank_statement_tree"model="ir.actions.act_window">
            <fieldname="name">CashRegisters</field>
            <fieldname="type">ir.actions.act_window</field>
            <fieldname="res_model">account.bank.statement</field>
            <fieldname="view_mode">tree,form,pivot,graph</field>
            <fieldname="view_id"ref="view_bank_statement_tree"/>
            <fieldname="search_view_id"ref="view_bank_statement_search"/>
            <fieldname="domain">[('journal_id.type','=','cash')]</field>
            <fieldname="context">{'journal_type':'cash'}</field>
            <fieldname="help"type="html">
              <pclass="o_view_nocontent_smiling_face">
                Createanewcashlog
              </p><p>
                ACashRegisterallowsyoutomanagecashentriesinyourcash
                journals.Thisfeatureprovidesaneasywaytofollowupcash
                paymentsonadailybasis.Youcanenterthecoinsthatarein
                yourcashbox,andthenpostentrieswhenmoneycomesinor
                goesoutofthecashbox.
              </p>
            </field>
        </record>

    </data>
</flectra>
