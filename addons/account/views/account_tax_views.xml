<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
    <data>

        <recordid="view_tax_tree"model="ir.ui.view">
            <fieldname="name">account.tax.tree</field>
            <fieldname="model">account.tax</field>
            <fieldname="arch"type="xml">
                <treestring="AccountTax"decoration-muted="notactive">
                    <fieldname="sequence"widget="handle"/>
                    <fieldname="name"/>
                    <fieldname="type_tax_use"/>
                    <fieldname="tax_scope"/>
                    <fieldname="description"/>
                    <fieldname="company_id"options="{'no_create':True}"groups="base.group_multi_company"/>
                    <fieldname="active"widget="boolean_toggle"/>
                </tree>
            </field>
        </record>

        <recordid="tax_repartition_line_tree"model="ir.ui.view">
            <fieldname="name">account.tax.repartition.line.tree</field>
            <fieldname="model">account.tax.repartition.line</field>
            <fieldname="arch"type="xml">
                <treeeditable="bottom"create="1"delete="1">
                    <fieldname="sequence"widget="handle"/>
                    <fieldname="factor_percent"attrs="{'invisible':[('repartition_type','=','base')]}"/>
                    <fieldname="repartition_type"/>
                    <fieldname="account_id"attrs="{'invisible':[('repartition_type','=','base')]}"options="{'no_create':True}"/>
                    <fieldname="tag_ids"widget="many2many_tags"options="{'no_create':True}"domain="[('applicability','=','taxes'),('country_id','=',tax_fiscal_country_id)]"/>
                    <fieldname="use_in_tax_closing"
                           optional="hidden"
                           attrs="{'invisible':[('repartition_type','=','base')]}"/>
                    <fieldname="tax_fiscal_country_id"invisible="1"/>
                    <fieldname="company_id"invisible="1"/>
                </tree>
            </field>
        </record>

        <recordid="account_tax_view_tree"model="ir.ui.view">
            <fieldname="name">account.invoice.line.tax.search</field>
            <fieldname="model">account.tax</field>
            <fieldname="arch"type="xml">
                <treestring="AccountTax">
                    <fieldname="display_name"string="name"/>
                    <fieldname="description"/>
                </tree>
            </field>
        </record>

        <recordid="view_tax_kanban"model="ir.ui.view">
            <fieldname="name">account.tax.kanban</field>
            <fieldname="model">account.tax</field>
            <fieldname="arch"type="xml">
                <kanbanclass="o_kanban_mobile">
                    <fieldname="name"/>
                    <fieldname="type_tax_use"/>
                    <fieldname="tax_scope"/>
                    <templates>
                        <tt-name="kanban-box">
                            <divt-attf-class="oe_kanban_cardoe_kanban_global_click">
                                <divclass="rowmb4">
                                    <divclass="col-6">
                                        <strong><span><tt-esc="record.name.value"/></span></strong>
                                    </div>
                                    <divclass="col-6text-right">
                                        <spanclass="badgebadge-pill"><tt-esc="record.type_tax_use.value"/></span>
                                        <spanclass="badgebadge-pill"><tt-esc="record.tax_scope.value"/></span>
                                    </div>
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>

        <recordid="view_account_tax_search"model="ir.ui.view">
            <fieldname="name">account.tax.search</field>
            <fieldname="model">account.tax</field>
            <fieldname="arch"type="xml">
                <searchstring="SearchTaxes">
                    <fieldname="name"filter_domain="['|',('name','ilike',self),('description','ilike',self)]"string="Tax"/>
                    <fieldname="company_id"groups="base.group_multi_company"/>
                    <filterstring="Sale"name="sale"domain="[('type_tax_use','=','sale')]"/>
                    <filterstring="Purchase"name="purchase"domain="[('type_tax_use','=','purchase')]"/>
                    <separator/>
                    <filterstring="Services"name="service"domain="[('tax_scope','=','service')]"/>
                    <filterstring="Goods"name="goods"domain="[('tax_scope','=','consu')]"/>
                    <separator/>
                    <filtername="active"string="Active"domain="[('active','=',True)]"help="Showactivetaxes"/>
                    <filtername="inactive"string="Inactive"domain="[('active','=',False)]"help="Showinactivetaxes"/>
                    <groupstring="GroupBy">
                        <filterstring="Company"name="company"domain="[]"context="{'group_by':'company_id'}"groups="base.group_multi_company"/>
                        <filterstring="TaxType"name="taxapp"domain="[]"context="{'group_by':'type_tax_use'}"/>
                        <filterstring="TaxScope"name="taxapp"domain="[]"context="{'group_by':'tax_scope'}"/>
                    </group>
                </search>
            </field>
        </record>

        <recordid="account_tax_view_search"model="ir.ui.view">
            <fieldname="name">account.tax.search.filters</field>
            <fieldname="model">account.tax</field>
            <fieldname="arch"type="xml">
                <searchstring="SearchTaxes">
                    <fieldname="name"filter_domain="['|',('name','ilike',self),('description','ilike',self)]"string="Tax"/>
                    <fieldname="company_id"groups="base.group_multi_company"/>
                </search>
            </field>
        </record>

        <recordid="view_tax_form"model="ir.ui.view">
            <fieldname="name">account.tax.form</field>
            <fieldname="model">account.tax</field>
            <fieldname="arch"type="xml">
                <formstring="AccountTax">
                    <sheet>
                    <group>
                        <group>
                            <fieldname="name"/>
                            <fieldname="amount_type"/>
                            <fieldname="active"widget="boolean_toggle"/>
                        </group>
                        <group>
                            <fieldname="type_tax_use"/>
                            <fieldname="tax_scope"/>
                            <labelfor="amount"attrs="{'invisible':[('amount_type','notin',('fixed','percent','division'))]}"/>
                            <divattrs="{'invisible':[('amount_type','notin',('fixed','percent','division'))]}">
                                <fieldname="amount"class="oe_inline"/>
                                <spanclass="o_form_labeloe_inline"attrs="{'invisible':[('amount_type','=','fixed')]}">%</span>
                            </div>
                        </group>
                    </group>
                    <notebook>
                        <pagestring="Definition"name="definition">
                            <divattrs="{'invisible':[('amount_type','=','group')]}">
                                <fieldname="tax_fiscal_country_id"invisible="1"/>
                                <fieldname="country_code"invisible="1"/>
                                <groupstring="DistributionforInvoices">
                                    <fieldname="invoice_repartition_line_ids"nolabel="1"context="{'default_company_id':company_id}"/>
                                </group>
                                <groupstring="DistributionforCreditNotes">
                                    <fieldname="refund_repartition_line_ids"nolabel="1"context="{'default_company_id':company_id}"/>
                                </group>
                            </div>
                            <fieldname="children_tax_ids"attrs="{'invisible':['|',('amount_type','!=','group'),('type_tax_use','=','none')]}"domain="[('type_tax_use','in',('none',type_tax_use)),('amount_type','!=','group')]">
                                <treestring="ChildrenTaxes">
                                    <fieldname="sequence"widget="handle"/>
                                    <fieldname="name"/>
                                    <fieldname="amount_type"/>
                                    <fieldname="amount"/>
                                </tree>
                            </field>
                        </page>
                        <pagestring="AdvancedOptions"name="advanced_options">
                            <group>
                                <group>
                                    <fieldname="description"attrs="{'invisible':[('amount_type','=','group')]}"/>
                                    <fieldname="tax_group_id"/>
                                    <fieldname="analytic"attrs="{'invisible':[('amount_type','=','group')]}"groups="analytic.group_analytic_accounting"/>
                                    <fieldname="company_id"options="{'no_create':True}"groups="base.group_multi_company"/>
                                </group>
                                <groupname="advanced_booleans">
                                    <fieldname="price_include"attrs="{'invisible':[('amount_type','=','group')]}"/>
                                    <fieldname="include_base_amount"attrs="{'invisible':[('amount_type','=','group')]}"/>
                                    <fieldname="hide_tax_exigibility"invisible="1"/>
                                    <fieldname="tax_exigibility"widget="radio"attrs="{'invisible':['|',('amount_type','=','group'),('hide_tax_exigibility','=',False)]}"groups="account.group_account_readonly"/>
                                    <fieldname="cash_basis_transition_account_id"options="{'no_create':True}"attrs="{'invisible':[('tax_exigibility','=','on_invoice')],'required':[('tax_exigibility','=','on_payment')]}"groups="account.group_account_readonly"/>
                                </group>
                            </group>
                        </page>
                    </notebook>
                </sheet>
                </form>
              </field>
        </record>

        <recordid="action_tax_form"model="ir.actions.act_window">
            <fieldname="name">Taxes</field>
            <fieldname="res_model">account.tax</field>
            <fieldname="view_mode">tree,kanban,form</field>
            <fieldname="domain"eval="False"/><!--Forceempty-->
            <fieldname="context">{'search_default_sale':True,'search_default_purchase':True,'active_test':False}</field>
            <fieldname="view_id"ref="view_tax_tree"/>
            <fieldname="help"type="html">
              <pclass="o_view_nocontent_smiling_face">
                Createanewtax
              </p>
            </field>
        </record>

        <recordid="view_tax_group_tree"model="ir.ui.view">
            <fieldname="name">account.tax.group.tree</field>
            <fieldname="model">account.tax.group</field>
            <fieldname="arch"type="xml">
                <treestring="AccountTaxGroup"editable="bottom"create="false">
                    <fieldname="sequence"widget="handle"/>
                    <fieldname="name"/>
                    <fieldname="property_tax_payable_account_id"/>
                    <fieldname="property_tax_receivable_account_id"/>
                    <fieldname="property_advance_tax_payment_account_id"/>
                </tree>
            </field>
        </record>

    </data>
</flectra>
