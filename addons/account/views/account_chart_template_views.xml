<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
    <data>

        <!--ChartofAccountsTemplates-->

        <recordid="view_account_chart_template_form"model="ir.ui.view">
            <fieldname="name">account.chart.template.form</field>
            <fieldname="model">account.chart.template</field>
            <fieldname="arch"type="xml">
                <formstring="ChartofAccountsTemplate">
                    <groupcol="4">
                        <fieldname="name"/>
                        <fieldname="parent_id"/>
                        <fieldname="bank_account_code_prefix"/>
                        <fieldname="cash_account_code_prefix"/>
                        <fieldname="transfer_account_code_prefix"/>
                        <fieldname="code_digits"/>
                        <fieldname="visible"/>
                        <fieldname="complete_tax_set"/>
                    </group>
                    <separatorstring="DefaultTaxes"colspan="4"/>
                    <fieldname="tax_template_ids"colspan="4" nolabel="1"/>
                    <separatorstring="Properties"colspan="4"/>
                    <groupcol="4">
                        <fieldname="property_account_receivable_id"/>
                        <fieldname="property_account_payable_id"/>
                        <fieldname="property_account_expense_categ_id"/>
                        <fieldname="property_account_income_categ_id"/>
                        <fieldname="property_account_expense_id"/>
                        <fieldname="property_account_income_id"/>
                    </group>
                </form>
            </field>
        </record>

        <recordid="view_account_chart_template_seacrh"model="ir.ui.view">
            <fieldname="name">account.chart.template.search</field>
            <fieldname="model">account.chart.template</field>
            <fieldname="arch"type="xml">
                <searchstring="SearchChartofAccountTemplates">
                    <fieldname="name"string="AccountTemplate"/>
                    <fieldname="bank_account_code_prefix"/>
                    <fieldname="cash_account_code_prefix"/>
                    <fieldname="transfer_account_code_prefix"/>
                    <groupexpand="0"string="GroupBy">
                        <filterstring="ReceivableAccount"name="receivalbeacc"domain="[]"context="{'group_by':'property_account_receivable_id'}"/>
                        <filterstring="PayableAccount"name="payableacc"domain="[]"context="{'group_by':'property_account_payable_id'}"/>
                        <filterstring="IncomeAccount"name="incomeacc"domain="[]"context="{'group_by':'property_account_income_categ_id'}"/>
                        <filterstring="ExpenseAccount"name="expenseacc"domain="[]"context="{'group_by':'property_account_expense_categ_id'}"/>
                    </group>
                </search>
            </field>
        </record>

        <recordid="view_account_chart_template_tree"model="ir.ui.view">
            <fieldname="name">account.chart.template.tree</field>
            <fieldname="model">account.chart.template</field>
            <fieldname="arch"type="xml">
                <treestring="ChartofAccountsTemplate">
                    <fieldname="name"/>
                    <fieldname="property_account_receivable_id"invisible="1"/>
                    <fieldname="property_account_payable_id"invisible="1"/>
                    <fieldname="property_account_expense_categ_id"invisible="1"/>
                    <fieldname="property_account_income_categ_id"invisible="1"/>
                </tree>
            </field>
        </record>
        <recordid="action_account_chart_template_form"model="ir.actions.act_window">
            <fieldname="name">ChartofAccountsTemplates</field>
            <fieldname="res_model">account.chart.template</field>
            <fieldname="view_mode">tree,form</field>
        </record>


        <!--AccountTemplates-->

        <recordid="view_account_template_form"model="ir.ui.view">
            <fieldname="name">account.account.template.form</field>
            <fieldname="model">account.account.template</field>
            <fieldname="arch"type="xml">
                <formstring="AccountTemplate">
                    <groupcol="4">
                        <fieldname="name"/>
                        <fieldname="code"/>
                        <newline/>
                        <fieldname="user_type_id"widget="account_hierarchy_selection"/>
                        <fieldname="currency_id"options="{'no_create':True}"groups="base.group_multi_currency"/>
                        <fieldname="tag_ids"domain="[('applicability','!=','taxes')]"widget="many2many_tags"context="{'default_applicability':'accounts'}"/>
                        <fieldname="reconcile"/>
                        <fieldname="chart_template_id"/>
                    </group>
                    <separatorstring="DefaultTaxes"/>
                    <fieldname="tax_ids"/>
                    <separatorstring="Notes"/>
                    <fieldname="note"placeholder="Internalnotes..."/>
                </form>
            </field>
        </record>

        <recordid="view_account_template_tree"model="ir.ui.view">
            <fieldname="name">account.account.template.tree</field>
            <fieldname="model">account.account.template</field>
            <fieldname="arch"type="xml">
                <treestring="AccountTemplate">
                    <fieldname="code"/>
                    <fieldname="name"/>
                    <fieldname="user_type_id"widget="account_hierarchy_selection"invisible="1"/>
                </tree>
            </field>
        </record>

        <recordid="view_account_template_search"model="ir.ui.view">
            <fieldname="name">account.account.template.search</field>
            <fieldname="model">account.account.template</field>
            <fieldname="arch"type="xml">
                <searchstring="SearchAccountTemplates">
                    <fieldname="name"filter_domain="['|',('name','ilike',self),('code','ilike',self)]"string="AccountTemplate"/>
                    <fieldname="user_type_id"/>
                    <groupexpand="0"string="GroupBy">
                        <filterstring="AccountType"name="accounttype"domain="[]"context="{'group_by':'user_type_id'}"/>
                   </group>
                </search>
            </field>
        </record>

        <!--AccountTaxTemplates-->

        <recordid="view_account_tax_template_form"model="ir.ui.view">
            <fieldname="name">account.tax.template.form</field>
            <fieldname="model">account.tax.template</field>
            <fieldname="arch"type="xml">
                <formstring="AccountTaxTemplate">
                    <sheet>
                        <groupname="main_group">
                            <group>
                                <fieldname="name"/>
                            </group>
                            <group>
                                <fieldname="type_tax_use"/>
                            </group>
                        </group>
                        <notebook>
                            <pagename="definition"string="Definition">
                                <groupname="tax_definitions">
                                    <group>
                                        <fieldname="amount_type"/>
                                        <labelfor="amount"attrs="{'invisible':[('amount_type','=','group')]}"/>
                                        <divattrs="{'invisible':[('amount_type','=','group')]}">
                                            <fieldname="amount"class="oe_inline"/>
                                            <spanclass="o_form_labeloe_inline"attrs="{'invisible':[('amount_type','=','fixed')]}">%</span>
                                        </div>
                                    </group>
                                </group>
                                <fieldname="children_tax_ids"
                                    attrs="{'invisible':['|',('amount_type','!=','group'),('type_tax_use','=','none')]}"
                                    domain="[('type_tax_use','in',('none',type_tax_use)),('amount_type','!=','group')]">
                                    <treestring="ChildrenTaxes">
                                        <fieldname="sequence"widget="handle"/>
                                        <fieldname="name"/>
                                        <fieldname="amount_type"/>
                                        <fieldname="amount"/>
                                    </tree>
                                </field>
                            </page>
                            <pagename="advanced_options"string="AdvancedOptions">
                                <groupname="advanced_definitions">
                                    <group>
                                        <fieldname="description"attrs="{'invisible':[('amount_type','=','group')]}"/>
                                        <fieldname="analytic"attrs="{'invisible':[('amount_type','=','group')]}"groups="analytic.group_analytic_accounting"/>
                                    </group>
                                    <groupname="price_definitions">
                                        <fieldname="price_include"attrs="{'invisible':[('amount_type','=','group')]}"/>
                                        <fieldname="include_base_amount"attrs="{'invisible':[('amount_type','=','group')]}"/>
                                    </group>
                                    <groupname="tax_configuration">
                                        <fieldname="active"groups="base.group_no_one"/>
                                        <fieldname="tax_exigibility"widget="radio"attrs="{'invisible':[('amount_type','=','group')]}"/>
                                        <fieldname="cash_basis_transition_account_id"attrs="{'invisible':[('tax_exigibility','=','on_invoice')],'required':[('tax_exigibility','=','on_payment')]}"/>
                                    </group>
                                </group>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>

        <recordid="view_account_tax_template_tree"model="ir.ui.view">
            <fieldname="name">account.tax.template.tree</field>
            <fieldname="model">account.tax.template</field>
            <fieldname="arch"type="xml">
                <treestring="AccountTaxTemplate">
                    <fieldname="name"/>
                    <fieldname="description"/>
                </tree>
            </field>
        </record>

        <recordid="view_account_tax_template_search"model="ir.ui.view">
            <fieldname="name">account.tax.template.search</field>
            <fieldname="model">account.tax.template</field>
            <fieldname="arch"type="xml">
                <searchstring="SearchTaxTemplates">
                    <fieldname="name"filter_domain="['|',('name','ilike',self),('description','ilike',self)]"string="TaxTemplate"/>
                    <fieldname="chart_template_id"/>
                    <filterstring="Sale"name="sale"domain="[('type_tax_use','=','sale')]"help="TaxesusedinSales"/>
                    <filterstring="Purchase"name="purchase"domain="[('type_tax_use','=','purchase')]"help="TaxesusedinPurchases"/>
                    <separator/>
                    <filterstring="Archived"name="inactive"domain="[('active','=',False)]"/>
                </search>
            </field>
        </record>

        <recordid="action_account_tax_template_form"model="ir.actions.act_window">
            <fieldname="name">TaxTemplates</field>
            <fieldname="res_model">account.tax.template</field>
            <fieldname="view_mode">tree,form</field>
            <fieldname="search_view_id"ref="view_account_tax_template_search"/>
        </record>

         <!--FiscalPositionTemplates-->

        <recordid="view_account_position_template_search"model="ir.ui.view">
            <fieldname="name">account.fiscal.position.template.search</field>
            <fieldname="model">account.fiscal.position.template</field>
            <fieldname="arch"type="xml">
                <searchstring="FiscalPosition">
                    <fieldname="name"string="FiscalPositionTemplate"/>
                </search>
            </field>
        </record>

        <recordid="view_account_position_template_form"model="ir.ui.view">
            <fieldname="name">account.fiscal.position.template.form</field>
            <fieldname="model">account.fiscal.position.template</field>
            <fieldname="arch"type="xml">
                <formstring="FiscalPositionTemplate">
                    <groupcol="4">
                        <fieldname="name"/>
                        <fieldname="chart_template_id"/>
                    </group>
                    <fieldname="tax_ids">
                        <treestring="TaxesMapping"editable="bottom">
                            <fieldname="tax_src_id"domain="[('type_tax_use','!=',None)]"/>
                            <fieldname="tax_dest_id"domain="[('type_tax_use','!=',None)]"/>
                        </tree>
                        <formstring="TaxesMapping">
                            <fieldname="tax_src_id"domain="[('type_tax_use','!=',None)]"/>
                            <fieldname="tax_dest_id"domain="[('type_tax_use','!=',None)]"/>
                        </form>
                    </field>
                    <fieldname="account_ids">
                        <treestring="AccountsMapping"editable="bottom">
                            <fieldname="account_src_id"/>
                            <fieldname="account_dest_id"/>
                        </tree>
                        <formstring="AccountsMapping">
                            <fieldname="account_src_id"/>
                            <fieldname="account_dest_id"/>
                        </form>
                    </field>
                </form>
            </field>
        </record>

        <recordid="view_account_position_template_tree"model="ir.ui.view">
            <fieldname="name">account.fiscal.position.template.tree</field>
            <fieldname="model">account.fiscal.position.template</field>
            <fieldname="arch"type="xml">
                <treestring="FiscalPosition">
                    <fieldname="name"/>
                </tree>
            </field>
        </record>

    </data>
</flectra>
