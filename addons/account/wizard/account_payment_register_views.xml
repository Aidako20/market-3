<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
    <data>

        <recordid="view_account_payment_register_form"model="ir.ui.view">
            <fieldname="name">account.payment.register.form</field>
            <fieldname="model">account.payment.register</field>
            <fieldname="arch"type="xml">
                <formstring="RegisterPayment">
                    <!--Invisiblefields-->
                    <fieldname="line_ids"invisible="1"/>
                    <fieldname="can_edit_wizard"invisible="1"force_save="1"/>
                    <fieldname="can_group_payments"invisible="1"force_save="1"/>
                    <fieldname="payment_type"invisible="1"force_save="1"/>
                    <fieldname="partner_type"invisible="1"force_save="1"/>
                    <fieldname="source_amount"invisible="1"force_save="1"/>
                    <fieldname="source_amount_currency"invisible="1"force_save="1"/>
                    <fieldname="source_currency_id"invisible="1"force_save="1"/>
                    <fieldname="company_id"invisible="1"force_save="1"/>
                    <fieldname="partner_id"invisible="1"force_save="1"/>
                    <fieldname="country_code"invisible="1"force_save="1"/>

                    <fieldname="show_partner_bank_account"invisible="1"/>
                    <fieldname="require_partner_bank_account"invisible="1"/>
                    <fieldname="hide_payment_method"invisible="1"/>
                    <fieldname="available_payment_method_ids"invisible="1"/>
                    <fieldname="available_partner_bank_ids"invisible="1"/>
                    <fieldname="company_currency_id"invisible="1"/>

                    <group>
                        <groupname="group1">
                            <fieldname="journal_id"widget="selection"required="1"/>
                            <fieldname="payment_method_id"widget="radio"
                                   required="1"
                                   attrs="{'invisible':[('hide_payment_method','=',True)]}"/>
                            <fieldname="partner_bank_id"
                                   attrs="{'invisible':['|',('show_partner_bank_account','=',False),'|',('can_edit_wizard','=',False),'&amp;',('can_group_payments','=',True),('group_payment','=',False)],
                                           'required':[('require_partner_bank_account','=',True),('can_edit_wizard','=',True),'|',('can_group_payments','=',False),('group_payment','=',False)]}"/>
                            <fieldname="group_payment"
                                   attrs="{'invisible':[('can_group_payments','=',False)]}"/>
                        </group>
                        <groupname="group2">
                            <labelfor="amount"
                                   attrs="{'invisible':['|',('can_edit_wizard','=',False),'&amp;',('can_group_payments','=',True),('group_payment','=',False)]}"/>
                            <divname="amount_div"class="o_row"
                                 attrs="{'invisible':['|',('can_edit_wizard','=',False),'&amp;',('can_group_payments','=',True),('group_payment','=',False)]}">
                                <fieldname="amount"/>
                                <fieldname="currency_id"
                                       options="{'no_create':True,'no_open':True}"
                                       groups="base.group_multi_currency"/>
                            </div>
                            <fieldname="payment_date"/>
                            <fieldname="communication"
                                   attrs="{'invisible':['|',('can_edit_wizard','=',False),'&amp;',('can_group_payments','=',True),('group_payment','=',False)]}"/>
                        </group>
                        <groupname="group3"
                               attrs="{'invisible':['|',('payment_difference','=',0.0),'|',('can_edit_wizard','=',False),'&amp;',('can_group_payments','=',True),('group_payment','=',False)]}">
                            <labelfor="payment_difference"/>
                            <div>
                                <fieldname="payment_difference"/>
                                <fieldname="payment_difference_handling"widget="radio"nolabel="1"/>
                                <divattrs="{'invisible':[('payment_difference_handling','=','open')]}">
                                    <labelfor="writeoff_account_id"string="PostDifferenceIn"class="oe_edit_only"/>
                                    <fieldname="writeoff_account_id"
                                           string="PostDifferenceIn"
                                           options="{'no_create':True}"
                                           attrs="{'required':[('payment_difference_handling','=','reconcile')]}"/>
                                    <labelfor="writeoff_label"class="oe_edit_only"string="Label"/>
                                    <fieldname="writeoff_label"attrs="{'required':[('payment_difference_handling','=','reconcile')]}"/>
                                </div>
                            </div>
                        </group>
                    </group>
                    <footer>
                        <buttonstring="CreatePayment"name="action_create_payments"type="object"class="oe_highlight"/>
                        <buttonstring="Cancel"class="btnbtn-secondary"special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>

    </data>
</flectra>
