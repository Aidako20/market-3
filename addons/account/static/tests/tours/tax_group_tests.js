flectra.define('account.tax.group.tour.tests',function(require){
    "usestrict";

    varcore=require('web.core');
    vartour=require('web_tour.tour');
    var_t=core._t;

    tour.register('account_tax_group',{
        test:true,
        url:"/web",
    },[tour.stepUtils.showAppsMenuItem(),
        {
            content:"GotoInvoicing",
            trigger:'.o_app[data-menu-xmlid="account.menu_finance"]',
            edition:'community',
        },
        {
            content:"GotoAccounting",
            trigger:'.o_app[data-menu-xmlid="account_accountant.menu_accounting"]',
            edition:'enterprise',
        },
        {
            content:"GotoVendors",
            trigger:'a:contains("Vendors")',
        },
        {
            content:"GotoBills",
            trigger:'span:contains("Bills")',
        },
        {
            extra_trigger:'.breadcrumb:contains("Bills")',
            content:"Createnewbill",
            trigger:'.o_list_button_add',
        },
        //Setavendor
        {
            content:"Addvendor",
            trigger:'div.o_field_widget.o_field_many2one[name="partner_id"]divinput',
            run:'textAzureInterior',
        },
        {
            content:"Validvendor",
            trigger:'.ui-menu-itema:contains("AzureInterior")',
        },
        //AddFirstproduct
        {
            content:"Additems",
            trigger:'div[name="invoice_line_ids"].o_field_x2many_list_row_adda:contains("Addaline")',
        },
        {
            content:"Selectinput",
            trigger:'div[name="invoice_line_ids"].o_list_view.o_selected_row.o_list_many2one:firstinput',
        },
        {
            content:"Typeitem",
            trigger:'div[name="invoice_line_ids"].o_list_view.o_selected_row.o_list_many2one:firstinput',
            run:"textLargeDesk",
        },
        {
            content:"Validitem",
            trigger:'.ui-menu-item-wrapper:contains("LargeDesk")',
        },
        //Saveaccount.move
        {
            content:"Savetheaccountmove",
            trigger:'.o_form_button_save',
        },
        //Editaccount.move
        {
            content:"Edittheaccountmove",
            trigger:'.o_form_button_edit',
        },
        //Edittaxgroupamount
        {
            content:"Edittaxgroupamount",
            trigger:'.oe_tax_group_amount_value',
        },
        {
            content:"Modifytheinputvalue",
            trigger:'.tax_group_edit_inputinput',
            run:function(actions){
                $('.tax_group_edit_inputinput').val(200);
                $('.tax_group_edit_inputinput').select();
                varkeydownEvent=jQuery.Event('keydown');
                keydownEvent.which=13;
                this.$anchor.trigger(keydownEvent);
            },
        },
        //Checknewvaluefortotal(withmodifiedtax_group_amount).
        {
            content:"Validtotalamount",
            trigger:'span[name="amount_total"]:contains("1,499.00")',
        },
        //Modifythequantityoftheobject
        {
            content:"Selectitemquantity",
            trigger:'div[name="invoice_line_ids"].o_list_viewtbodytr.o_data_row.o_list_number[title="1.000"]',
        },
        {
            content:"Changeitemquantity",
            trigger:'div[name="invoice_line_ids"].o_list_viewtbodytr.o_data_row.o_list_number[title="1.000"]input',
            run:'text2',
        },
        {
            content:"Validthenewvalue",
            trigger:'div[name="invoice_line_ids"].o_list_viewtbodytr.o_data_row.o_list_number[title="1.000"]input',
            run:function(actions){
                varkeydownEvent=jQuery.Event('keydown');
                keydownEvent.which=13;
                this.$anchor.trigger(keydownEvent);
            },
        },
        //Saveform
        {
            content:"Savetheaccountmove",
            trigger:'.o_form_button_save',
        },
        //Checknewtaxgroupvalue
        {
            content:"Checknewvalueoftaxgroup",
            trigger:'.oe_tax_group_amount_value:contains("389.70")',
        },
    ]);
});
