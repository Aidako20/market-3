<flectra>
    <templateid="report_delivery_document2"inherit_id="stock.report_delivery_document">
        <xpathexpr="//div[@name='div_sched_date']"position="after">
            <divt-if="o.picking_type_id.code=='outgoing'ando.carrier_id"class="col-auto">
                <strong>Carrier:</strong>
                <pt-field="o.carrier_id"/>
            </div>
            <divt-if="o.shipping_weight"class="col-auto">
                <strong>TotalWeight:</strong>
                <br/>
                <spant-field="o.shipping_weight"/>
                <spant-field="o.weight_uom_name"/>
            </div>
            <divt-if="o.carrier_tracking_ref"class="col-auto">
                <strong>TrackingNumber:</strong>
                <pt-field="o.carrier_tracking_ref"/>
            </div>
            <tt-set="has_hs_code"t-value="o.move_lines.filtered(lambdal:l.product_id.hs_code)"/>
        </xpath>

        <xpathexpr="//table[@name='stock_move_table']/thead/tr"position="inside">
            <tht-if="has_hs_code"><strong>HSCode</strong></th>
        </xpath>

        <xpathexpr="//table[@name='stock_move_line_table']/thead/tr"position="inside">
            <tht-if="has_hs_code"><strong>HSCode</strong></th>
        </xpath>
    </template>

    <!-- HSCodetotablerows-->
    <templateid="stock_report_delivery_has_serial_move_line_inherit_delivery"inherit_id="stock.stock_report_delivery_has_serial_move_line">
        <xpathexpr="//td[@name='move_line_lot_qty_done']"position="after">
            <tdt-if="has_hs_code"><spant-field="move_line.product_id.hs_code"/></td>
        </xpath>
    </template>
    <templateid="stock_report_delivery_aggregated_move_lines_inherit_delivery"inherit_id="stock.stock_report_delivery_aggregated_move_lines">
        <xpathexpr="//td[@name='move_line_aggregated_qty_done']"position="after">
            <tdt-if="has_hs_code"><spant-esc="aggregated_lines[line]['hs_code']"/></td>
        </xpath>
    </template>

    <!--packagerelated"sectionlines"-->
    <templateid="stock_report_delivery_package_section_line_inherit_delivery"inherit_id="stock.stock_report_delivery_package_section_line">
        <!-- AddadditionalPackagesectionlineinfo-->
        <xpathexpr="//td[@name='package_info']"position="inside">
            <tt-if="package.shipping_weightorpackage.weight">
                <!--assumemanuallytypedinvalue=priority-->
                <tt-if="package.shipping_weight">
                    <span>-Weight:</span>
                    <spant-field="package.shipping_weight"/>
                    <spant-field="package.weight_uom_name"/>
                </t>
                <!--otherwisedefaulttocalculatedvalue-->
                <tt-else="">
                    <span>-Weight(estimated):</span>
                    <spant-field="package.weight"/>
                    <spant-field="package.weight_uom_name"/>
                </t>
            </t>
        </xpath>
    </template>
    <templateid="delivery_stock_report_delivery_no_package_section_line"inherit_id="stock.stock_report_delivery_no_package_section_line">
         <!--AddadditionalNoPackagesectionlineinfo-->
        <xpathexpr="//td[@name='no_package_info']"position="inside">
            <tt-if="o.weight_bulk">
                <span>-Weight:</span>
                <spant-field="o.weight_bulk"/>
                <spant-field="o.weight_uom_name"/>
            </t>
        </xpath>
    </template>
</flectra>
