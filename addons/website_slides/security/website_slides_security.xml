<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
        <recordmodel="ir.module.category"id="base.module_category_website_elearning">
            <fieldname="sequence">21</field>
        </record>

        <recordid="group_website_slides_officer"model="res.groups">
            <fieldname="name">Officer</field>
            <fieldname="category_id"ref="base.module_category_website_elearning"/>
            <fieldname="implied_ids"eval="[(4,ref('website.group_website_publisher'))]"/>
        </record>

        <recordid="group_website_slides_manager"model="res.groups">
            <fieldname="name">Manager</field>
            <fieldname="category_id"ref="base.module_category_website_elearning"/>
            <fieldname="implied_ids"eval="[(4,ref('group_website_slides_officer'))]"/>
        </record>

        <recordid="base.default_user"model="res.users">
            <fieldname="groups_id"eval="[(4,ref('group_website_slides_manager'))]"/>
        </record>

        <recordid="base.group_system"model="res.groups">
            <fieldname="implied_ids"eval="[(4,ref('group_website_slides_manager'))]"/>
        </record>

        <datanoupdate="1">
        <!--CHANNEL-->
        <recordid="rule_slide_channel_global"model="ir.rule">
            <fieldname="name">Channel:alwaysvisible(subrulesexist)</field>
            <fieldname="model_id"ref="model_slide_channel"/>
            <fieldname="domain_force">[(1,'=',1)]</field>
        </record>

        <recordid="rule_slide_channel_not_website"model="ir.rule">
            <fieldname="name">Channel:public/portal/user:restrictedtopublishedand(publicormemberonly)</field>
            <fieldname="model_id"ref="model_slide_channel"/>
            <fieldname="groups"eval="[(4,ref('base.group_public')),(4,ref('base.group_portal')),(4,ref('base.group_user'))]"/>
            <fieldname="domain_force">['&amp;',('website_published','=',True),'|',('visibility','=','public'),('partner_ids','=',user.partner_id.id)]</field>
            <fieldname="perm_unlink"eval="0"/>
            <fieldname="perm_write"eval="0"/>
            <fieldname="perm_read"eval="1"/>
            <fieldname="perm_create"eval="0"/>
        </record>

        <recordid="rule_slide_channel_officer_r"model="ir.rule">
            <fieldname="name">Channel:officer:readall</field>
            <fieldname="model_id"ref="model_slide_channel"/>
            <fieldname="domain_force">[(1,'=',1)]</field>
            <fieldname="groups"eval="[(4,ref('group_website_slides_officer'))]"/>
            <fieldname="perm_unlink"eval="0"/>
            <fieldname="perm_write"eval="0"/>
            <fieldname="perm_read"eval="1"/>
            <fieldname="perm_create"eval="0"/>
        </record>
        <recordid="rule_slide_channel_officer_cw"model="ir.rule">
            <fieldname="name">Channel:officer:create/writeownonly</field>
            <fieldname="model_id"ref="model_slide_channel"/>
            <fieldname="domain_force">[('user_id','=',user.id)]</field>
            <fieldname="groups"eval="[(4,ref('group_website_slides_officer'))]"/>
            <fieldname="perm_unlink"eval="0"/>
            <fieldname="perm_write"eval="1"/>
            <fieldname="perm_read"eval="0"/>
            <fieldname="perm_create"eval="1"/>
        </record>

        <recordid="rule_slide_channel_manager"model="ir.rule">
            <fieldname="name">Channel:manager:crudall</field>
            <fieldname="model_id"ref="model_slide_channel"/>
            <fieldname="domain_force">[(1,'=',1)]</field>
            <fieldname="groups"eval="[(4,ref('group_website_slides_manager'))]"/>
            <fieldname="perm_unlink"eval="1"/>
            <fieldname="perm_write"eval="1"/>
            <fieldname="perm_read"eval="1"/>
            <fieldname="perm_create"eval="1"/>
        </record>

        <!--SLIDE-->
        <recordid="rule_slide_slide_global"model="ir.rule">
            <fieldname="name">Slide:alwaysvisible(subrulesexist)</field>
            <fieldname="model_id"ref="model_slide_slide"/>
            <fieldname="domain_force">[(1,'=',1)]</field>
        </record>

        <recordid="rule_slide_slide_not_website"model="ir.rule">
            <fieldname="name">Slide:public/portal/user:restrictedtopublishedoruploadedbyuser,andeitherchannelmemberorpublicchannel&amp;(categoryorpreviewable)</field>
            <fieldname="model_id"ref="model_slide_slide"/>
            <fieldname="groups"eval="[(4,ref('base.group_public')),(4,ref('base.group_portal')),(4,ref('base.group_user'))]"/>
            <fieldname="domain_force">['&amp;',
    '|',
        '&amp;',('channel_id.visibility','=','public'),'|',('is_category','=',True),('is_preview','=',True),
        ('channel_id.partner_ids','=',user.partner_id.id),
    '&amp;',('channel_id.website_published','=',True),'|',('user_id','=',user.id),('website_published','=',True)]</field>
            <fieldname="perm_unlink"eval="0"/>
            <fieldname="perm_write"eval="0"/>
            <fieldname="perm_read"eval="1"/>
            <fieldname="perm_create"eval="0"/>
        </record>

        <recordid="rule_slide_slide_officer_r"model="ir.rule">
            <fieldname="name">Slide:officer:readall</field>
            <fieldname="model_id"ref="model_slide_slide"/>
            <fieldname="domain_force">[(1,'=',1)]</field>
            <fieldname="groups"eval="[(4,ref('group_website_slides_officer'))]"/>
            <fieldname="perm_unlink"eval="0"/>
            <fieldname="perm_write"eval="0"/>
            <fieldname="perm_read"eval="1"/>
            <fieldname="perm_create"eval="0"/>
        </record>

        <recordid="rule_slide_slide_officer_cw"model="ir.rule">
            <fieldname="name">Slide:officer:create/writeownonly</field>
            <fieldname="model_id"ref="model_slide_slide"/>
            <fieldname="domain_force">[('channel_id.user_id','=',user.id)]</field>
            <fieldname="groups"eval="[(4,ref('group_website_slides_officer'))]"/>
            <fieldname="perm_unlink"eval="0"/>
            <fieldname="perm_write"eval="1"/>
            <fieldname="perm_read"eval="0"/>
            <fieldname="perm_create"eval="1"/>
        </record>

        <recordid="rule_slide_slide_manager"model="ir.rule">
            <fieldname="name">Slide:manager:crudall</field>
            <fieldname="model_id"ref="model_slide_slide"/>
            <fieldname="domain_force">[(1,'=',1)]</field>
            <fieldname="groups"eval="[(4,ref('group_website_slides_manager'))]"/>
            <fieldname="perm_unlink"eval="1"/>
            <fieldname="perm_write"eval="1"/>
            <fieldname="perm_read"eval="1"/>
            <fieldname="perm_create"eval="1"/>
        </record>

        <!--CHANNELPARTNER-->
        <recordid="rule_slide_channel_partner_officer"model="ir.rule">
            <fieldname="name">ChannelPartner:officer:create/write/unlinkownonly</field>
            <fieldname="model_id"ref="model_slide_channel_partner"/>
            <fieldname="domain_force">[('channel_id.user_id','=',user.id)]</field>
            <fieldname="groups"eval="[(4,ref('group_website_slides_officer'))]"/>
            <fieldname="perm_unlink"eval="1"/>
            <fieldname="perm_write"eval="1"/>
            <fieldname="perm_read"eval="0"/>
            <fieldname="perm_create"eval="1"/>
        </record>

        <recordid="rule_slide_channel_partner_manager"model="ir.rule">
            <fieldname="name">ChannelPartner:manager:crudall</field>
            <fieldname="model_id"ref="model_slide_channel_partner"/>
            <fieldname="domain_force">[(1,'=',1)]</field>
            <fieldname="groups"eval="[(4,ref('group_website_slides_manager'))]"/>
            <fieldname="perm_unlink"eval="1"/>
            <fieldname="perm_write"eval="1"/>
            <fieldname="perm_read"eval="1"/>
            <fieldname="perm_create"eval="1"/>
        </record>

        <!--SLIDEPARTNER-->
        <recordid="rule_slide_slide_partner_officer"model="ir.rule">
            <fieldname="name">SlidePartner:officer:create/write/unlinkownonly</field>
            <fieldname="model_id"ref="model_slide_slide_partner"/>
            <fieldname="domain_force">[('channel_id.user_id','=',user.id)]</field>
            <fieldname="groups"eval="[(4,ref('group_website_slides_officer'))]"/>
            <fieldname="perm_unlink"eval="1"/>
            <fieldname="perm_write"eval="1"/>
            <fieldname="perm_read"eval="0"/>
            <fieldname="perm_create"eval="1"/>
        </record>

        <recordid="rule_slide_slide_partner_manager"model="ir.rule">
            <fieldname="name">SlidePartner:manager:crudall</field>
            <fieldname="model_id"ref="model_slide_slide_partner"/>
            <fieldname="domain_force">[(1,'=',1)]</field>
            <fieldname="groups"eval="[(4,ref('group_website_slides_manager'))]"/>
            <fieldname="perm_unlink"eval="1"/>
            <fieldname="perm_write"eval="1"/>
            <fieldname="perm_read"eval="1"/>
            <fieldname="perm_create"eval="1"/>
        </record>

        <!--SLIDERESOURCE-->
        <recordid="rule_slide_slide_resource_downloadable"model="ir.rule">
            <fieldname="name">Resource:readrestrictedtochannelmembers</field>
            <fieldname="model_id"ref="model_slide_slide_resource"/>
            <fieldname="domain_force">[('slide_id.channel_id.partner_ids','=',user.partner_id.id)]</field>
            <fieldname="groups"eval="[(4,ref('base.group_portal')),(4,ref('base.group_user'))]"/>
            <fieldname="perm_read"eval="True"/>
            <fieldname="perm_write"eval="False"/>
            <fieldname="perm_create"eval="False"/>
            <fieldname="perm_unlink"eval="False"/>
        </record>

        <recordid="rule_slide_slide_resource_officer_read"model="ir.rule">
            <fieldname="name">Resource:officer:readall</field>
            <fieldname="model_id"ref="model_slide_slide_resource"/>
            <fieldname="domain_force">[(1,'=',1)]</field>
            <fieldname="groups"eval="[(4,ref('group_website_slides_officer'))]"/>
            <fieldname="perm_read"eval="True"/>
            <fieldname="perm_write"eval="False"/>
            <fieldname="perm_create"eval="False"/>
            <fieldname="perm_unlink"eval="False"/>
        </record>

        <recordid="rule_slide_slide_resource_officer_crud"model="ir.rule">
            <fieldname="name">Resource:officer:crudownonly</field>
            <fieldname="model_id"ref="model_slide_slide_resource"/>
            <fieldname="domain_force">[('slide_id.channel_id.user_id','=',user.id)]</field>
            <fieldname="groups"eval="[(4,ref('group_website_slides_officer'))]"/>
            <fieldname="perm_read"eval="True"/>
            <fieldname="perm_write"eval="True"/>
            <fieldname="perm_create"eval="True"/>
            <fieldname="perm_unlink"eval="True"/>
        </record>

        <recordid="rule_slide_slide_resource_manager"model="ir.rule">
            <fieldname="name">Resource:manager:crudall</field>
            <fieldname="model_id"ref="model_slide_slide_resource"/>
            <fieldname="domain_force">[(1,'=',1)]</field>
            <fieldname="groups"eval="[(4,ref('group_website_slides_manager'))]"/>
            <fieldname="perm_read"eval="True"/>
            <fieldname="perm_write"eval="True"/>
            <fieldname="perm_create"eval="True"/>
            <fieldname="perm_unlink"eval="True"/>
        </record>
    </data>
</flectra>
