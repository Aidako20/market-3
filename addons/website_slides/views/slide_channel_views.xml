<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
    <data>
        <!--SLIDE.CHANNELVIEWS-->
        <recordmodel="ir.ui.view"id="view_slide_channel_form">
            <fieldname="name">slide.channel.view.form</field>
            <fieldname="model">slide.channel</field>
            <fieldname="arch"type="xml">
                <formstring="Channels">
                    <header>
                        <buttonname="action_channel_invite"string="Invite"type="object"class="oe_highlight" attrs="{'invisible':[('enroll','!=','invite')]}"/>
                    </header>
                    <sheet>
                        <divclass="oe_button_box"name="button_box">
                            <buttonname="action_view_slides"
                                type="object"
                                icon="fa-files-o"
                                class="oe_stat_button"
                                groups="website_slides.group_website_slides_officer">
                                <divclass="o_field_widgeto_stat_info">
                                    <spanclass="o_stat_value"><fieldname="total_views"nolabel="1"/>Visits</span>
                                    <spanclass="o_stat_value"><fieldname="total_slides"nolabel="1"/>Contents</span>
                                </div>
                            </button>
                            <buttonname="action_redirect_to_done_members"
                                type="object"
                                icon="fa-trophy"
                                class="oe_stat_button"
                                groups="website_slides.group_website_slides_officer">
                                <divclass="o_field_widgeto_stat_info">
                                    <spanclass="o_stat_value"><fieldname="members_done_count"nolabel="1"/></span>
                                    <spanname="members_done_count_label"class="o_stat_text">Finished</span>
                                </div>
                            </button>
                            <buttonname="action_redirect_to_members"
                                type="object"
                                icon="fa-users"
                                class="oe_stat_button"
                                groups="website_slides.group_website_slides_officer">
                                <fieldname="members_count"string="Attendees"widget="statinfo"/>
                            </button>
                             <buttonname="action_view_ratings"
                                type="object"
                                icon="fa-star"
                                class="oe_stat_button"
                                groups="website_slides.group_website_slides_officer"
                                attrs="{'invisible':[('allow_comment','=',False)]}">
                                <divclass="o_field_widgeto_stat_info">
                                    <spanclass="o_stat_value"><fieldname="rating_avg_stars"nolabel="1"/>/5</span>
                                    <spanname="rating_count_label"class="o_stat_text"><fieldname="rating_count"nolabel="1"/>Reviews</span>
                                </div>
                            </button>
                            <fieldname="is_published"widget="website_redirect_button"/>
                        </div>
                        <widgetname="web_ribbon"title="Archived"bg_color="bg-danger"attrs="{'invisible':[('active','=',True)]}"/>
                        <fieldname="image_1920"widget="image"class="oe_avatar"options="{'preview_image':'image_128'}"/>
                        <divclass="oe_title">
                            <labelfor="name"class="oe_edit_only"string="CourseTitle"/>
                            <h1><fieldname="name"default_focus="1"placeholder="ComputerScienceforkids"/></h1>
                        </div>
                        <div>
                            <fieldname="active"invisible="1"/>
                            <fieldname="tag_ids"widget="many2many_tags"options="{'color_field':'color'}"placeholder="Tags"/>
                        </div>
                        <notebookcolspan="4">
                            <pagename="content"string="Content">
                                <fieldname="slide_ids"string="Content"colspan="4"nolabel="1"widget="slide_category_one2many"mode="tree,kanban"context="{'default_channel_id':active_id,'form_view_ref':'website_slides.view_slide_slide_form_wo_channel_id'}">
                                     <treedecoration-bf="is_category"editable="bottom">
                                        <fieldname="sequence"widget="handle"/>
                                        <fieldname="name"/>
                                        <fieldname="slide_type"attrs="{'invisible':[('slide_type','=','category')]}"/>
                                        <fieldname="completion_time"attrs="{'invisible':[('slide_type','=','category')]}"string="Duration"widget="float_time"/>
                                        <fieldname="total_views"attrs="{'invisible':[('slide_type','=','category')]}"/>
                                        <fieldname="is_preview"string="Preview"/>
                                        <fieldname="is_published"string="Published"/>
                                        <fieldname="is_category"invisible="1"/>
                                        <control>
                                            <createname="add_slide_section"string="AddSection"context="{'default_is_category':True}"/>
                                            <createname="add_slide_lesson"string="AddContent"/>
                                        </control>
                                    </tree>
                                </field>
                            </page>
                            <pagename="description"string="Description">
                                <group>
                                    <fieldname="description"colspan="4"placeholder="Commontasksforacomputerscientistisaskingtherightquestionsandansweringquestions.Inthiscourse,you'llstudythosetopicswithactivitiesaboutmathematics,scienceandlogic."/>
                                </group>
                            </page>
                            <pagename="options"string="Options">
                                <group>
                                    <groupname="course"string="Course">
                                        <fieldstring="Type"name="channel_type"widget="radio"/>
                                        <fieldname="user_id"domain="[('share','=',False)]"/>
                                        <fieldname="website_id"options="{'no_create':True}"groups="website.group_multi_website"/>
                                    </group>
                                    <groupname="access_rights"string="AccessRights">
                                        <fieldname="enroll"widget="radio"options="{'horizontal':true}"/>
                                        <fieldname="upload_group_ids"widget="many2many_tags"groups="base.group_no_one"/>
                                        <fieldname="enroll_group_ids"widget="many2many_tags"groups="base.group_no_one"/>
                                    </group>
                                </group>
                                <group>
                                    <groupname="communication"string="Communication">
                                        <fieldstring="AllowRating"name="allow_comment"/>
                                        <fieldname="publish_template_id"domain="[('model','=','slide.slide')]"groups="base.group_no_one"/>
                                        <fieldname="share_template_id"domain="[('model','=','slide.slide')]"groups="base.group_no_one"/>
                                    </group>
                                    <groupname="display"string="Display">
                                        <fieldname="visibility"widget="radio"/>
                                        <fieldname="promote_strategy"widget="radio"
                                        attrs="{'invisible':[('channel_type','=','training')]}"/>
                                        <fieldname="promoted_slide_id"
                                               attrs="{'invisible':['|',('channel_type','=','training'),('promote_strategy','!=','specific')],
                                                       'required':[('channel_type','!=','training'),('promote_strategy','=','specific')]}"
                                               domain="[('channel_id','=',active_id),('is_category','=',False)]"/>
                                    </group>
                                </group>
                                <divattrs="{'invisible':[('enroll','!=','invite')]}">
                                    <labelfor="enroll_msg"/>
                                    <fieldname="enroll_msg"colspan="4"nolabel="1"/>
                                </div>
                            </page>
                            <pagestring="Karma"name="karma_rules">
                                <group>
                                    <groupstring="Rewards">
                                        <fieldname="karma_gen_channel_rank"string="ReviewCourse"/>
                                        <fieldname="karma_gen_channel_finish"string="FinishCourse"/>
                                    </group>
                                    <groupstring="AccessRights"attrs="{'invisible':[('allow_comment','!=',True)]}">
                                        <fieldname="karma_review"attrs="{'invisible':[('allow_comment','!=',True)]}"/>
                                        <fieldname="karma_slide_comment"attrs="{'invisible':[('allow_comment','!=',True)]}"/>
                                        <fieldname="karma_slide_vote"attrs="{'invisible':[('allow_comment','!=',True)]}"/>
                                    </group>
                                </group>
                            </page>
                        </notebook>
                    </sheet>
                    <divclass="oe_chatter">
                        <fieldname="message_follower_ids"/>
                        <fieldname="activity_ids"/>
                        <fieldname="message_ids"/>
                    </div>
                </form>
            </field>
        </record>


        <recordid="slide_channel_view_tree"model="ir.ui.view">
            <fieldname="name">slide.channel.view.tree</field>
            <fieldname="model">slide.channel</field>
            <fieldname="arch"type="xml">
                <treestring="Courses"sample="1">
                    <fieldname="sequence"widget="handle"/>
                    <fieldname="name"/>
                    <fieldname="channel_type"/>
                    <fieldname="visibility"/>
                    <fieldname="enroll"widget="badge"decoration-success="enroll=='public'"decoration-info="enroll=='invite'"decoration-warning="enroll=='payment'"/>
                    <fieldname="user_id"widget="many2one_avatar_user"/>
                    <fieldname="website_id"groups="website.group_multi_website"/>
                    <fieldname="active"invisible="1"/>
                </tree>
            </field>
        </record>

        <recordid="slide_channel_view_tree_report"model="ir.ui.view">
            <fieldname="name">slide.channel.view.tree.report</field>
            <fieldname="model">slide.channel</field>
            <fieldname="priority">20</field>
            <fieldname="arch"type="xml">
                <treestring="Courses"create="false"default_order="total_viewsdesc"sample="1">
                    <fieldname="name"/>
                    <fieldname="total_views"/>
                    <fieldname="total_time"widget="float_time"/>
                    <fieldname="members_count"/>
                    <fieldname="total_votes"/>
                    <fieldname="rating_avg_stars"/>
                </tree>
            </field>
        </record>

        <recordid="slide_channel_view_search"model="ir.ui.view">
            <fieldname="name">slide.channel.view.search</field>
            <fieldname="model">slide.channel</field>
            <fieldname="arch"type="xml">
                <searchstring="Courses">
                    <fieldname="name"string="Course"/>
                    <filterstring="Archived"name="inactive"domain="[('active','=',False)]"/>
                </search>
            </field>
        </record>

        <recordid="slide_channel_view_graph"model="ir.ui.view">
            <fieldname="name">slide.channel.view.graph</field>
            <fieldname="model">slide.channel</field>
            <fieldname="arch"type="xml">
                <graphstring="Courses"type="bar"sample="1">
                    <fieldname="name"/>
                    <fieldname="total_views"type="measure"/>
                </graph>
            </field>
        </record>

        <recordid="slide_channel_view_kanban"model="ir.ui.view">
            <fieldname="name">slide.channel.view.kanban</field>
            <fieldname="model">slide.channel</field>
            <fieldname="arch"type="xml">
                <kanbanstring="eLearningOverview"class="o_emphasize_colorso_kanban_dashboardo_slide_kanbanbreadcrumb_itemactive"edit="false"sample="1">
                    <fieldname="color"/>
                    <fieldname="website_published"/>
                    <templates>
                        <tt-name="kanban-box">
                            <divt-attf-class="oe_kanban_color_#{kanban_getcolor(record.color.raw_value)}oe_kanban_cardoe_kanban_global_click">
                                <divclass="o_dropdown_kanbandropdown">
                                    <arole="button"class="dropdown-toggleo-no-caretbtn"data-toggle="dropdown"href="#"aria-label="Dropdownmenu"title="Dropdownmenu">
                                        <spanclass="fafa-ellipsis-v"aria-hidden="false"/>
                                    </a>
                                    <divclass="dropdown-menu"role="menu">
                                        <ulclass="oe_kanban_colorpicker"data-field="color"/>
                                        <tt-if="widget.deletable">
                                            <aclass="dropdown-item"role="menuitem"type="delete">Delete</a>
                                        </t>
                                        <aclass="dropdown-item"role="menuitem"type="edit">
                                            Edit
                                        </a>
                                        <aclass="dropdown-item"name="action_view_slides"role="menuitem"type="object">
                                            Lessons
                                        </a>
                                        <aclass="dropdown-item"name="action_channel_invite"role="menuitem"type="object">
                                            Invite
                                        </a>
                                    </div>
                                </div>
                                <divclass="o_kanban_card_header">
                                    <divclass="o_kanban_card_header_titlemb16">
                                        <divclass="o_primary">
                                            <atype="edit"class="mr-auto">
                                                <span><fieldname="name"class="o_primary"/></span>
                                            </a>
                                        </div>
                                        <divt-if="record.tag_ids">
                                            <fieldname="tag_ids"widget="many2many_tags"/>
                                        </div>
                                    </div>
                                </div>
                                <divclass="containero_kanban_card_contentmt0">
                                    <divclass="rowmb16">
                                        <divclass="col-6o_kanban_primary_left">
                                            <buttonclass="btnbtn-primary"name="open_website_url"type="object">Viewcourse</button>
                                        </div>
                                        <divclass="col-6o_kanban_primary_right">
                                            <divclass="d-flex"t-if="record.rating_count.raw_value">
                                                <aname="action_view_ratings"type="object"class="mr-auto"><fieldname="rating_count"/>reviews</a>
                                                <span><fieldname="rating_avg_stars"/>/5</span>
                                            </div>
                                            <divclass="d-flex">
                                                <spanclass="mr-auto"><labelfor="total_views"class="mb0">Views</label></span>
                                                <fieldname="total_views"/>
                                            </div>
                                            <divclass="d-flex"name="info_total_time">
                                                <spanclass="mr-auto"><labelfor="total_time"class="mb0">Duration</label></span>
                                                <fieldname="total_time"widget="float_time"/>
                                            </div>
                                        </div>
                                    </div>
                                    <divclass="rowmt3">
                                        <divclass="col-4border-right">
                                            <aname="action_view_slides"type="object"class="d-flexflex-columnalign-items-center">
                                                <spanclass="font-weight-bold"><fieldname="total_slides"/></span>
                                                <spanclass="text-muted">Contents</span>
                                            </a>
                                        </div>
                                        <divclass="col-4border-right">
                                            <aname="action_redirect_to_members"type="object"class="d-flexflex-columnalign-items-center">
                                                <spanclass="font-weight-bold"><fieldname="members_count"/></span>
                                                <spanclass="text-muted">Attendees</span>
                                            </a>
                                        </div>
                                        <divclass="col-4">
                                            <aname="action_redirect_to_done_members"type="object"class="d-flexflex-columnalign-items-center">
                                                <spanclass="font-weight-bold"><fieldname="members_done_count"/></span>
                                                <spanname="done_members_count_label"class="text-muted">Finished</span>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                             </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>

        <recordid="slide_channel_action_overview"model="ir.actions.act_window">
            <fieldname="name">eLearningOverview</field>
            <fieldname="res_model">slide.channel</field>
            <fieldname="view_mode">kanban,tree,form</field>
            <fieldname="view_id"ref="slide_channel_view_kanban"/>
            <fieldname="help"type="html">
                <pclass="o_view_nocontent_smiling_face">
                    Createacourse
                </p>
            </field>
        </record>

        <recordid="slide_channel_action_report"model="ir.actions.act_window">
            <fieldname="name">Courses</field>
            <fieldname="res_model">slide.channel</field>
            <fieldname="view_mode">tree,graph,form</field>
            <fieldname="view_id"ref="slide_channel_view_tree_report"/>
            <fieldname="help"type="html">
                <pclass="o_view_nocontent_smiling_face">
                    Createacourse
                </p>
            </field>
        </record>
    </data>
</flectra>
