flectra.define('pos_restaurant.notes',function(require){
"usestrict";

varmodels=require('point_of_sale.models');

var_super_orderline=models.Orderline.prototype;
models.Orderline=models.Orderline.extend({
    initialize:function(attr,options){
        _super_orderline.initialize.call(this,attr,options);
        this.note=this.note||"";
    },
    set_note:function(note){
        this.note=note;
        this.trigger('change',this);
    },
    get_note:function(note){
        returnthis.note;
    },
    can_be_merged_with:function(orderline){
        if(orderline.get_note()!==this.get_note()){
            returnfalse;
        }else{
            return_super_orderline.can_be_merged_with.apply(this,arguments);
        }
    },
    clone:function(){
        varorderline=_super_orderline.clone.call(this);
        orderline.note=this.note;
        returnorderline;
    },
    export_as_JSON:function(){
        varjson=_super_orderline.export_as_JSON.call(this);
        json.note=this.note;
        returnjson;
    },
    init_from_JSON:function(json){
        _super_orderline.init_from_JSON.apply(this,arguments);
        this.note=json.note;
    },
});

});
