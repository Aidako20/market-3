<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
    <recordid="event_type_view_form_inherit_question"model="ir.ui.view">
        <fieldname="name">event.type.view.form.inherit.question</field>
        <fieldname="model">event.type</field>
        <fieldname="inherit_id"ref="website_event.event_type_view_form"/>
        <fieldname="arch"type="xml">
            <divname="event_type_attendees_auto_confirm"position="after">
                <divclass="col-12col-lg-12o_setting_box">
                    <divclass="o_setting_left_pane">
                        <fieldname="use_questions"/>
                    </div>
                    <divclass="o_setting_right_pane">
                        <labelfor="use_questions"/>
                        <divclass="rowmt16"attrs="{'invisible':[('use_questions','=',False)]}">
                            <divclass="col-lg-9">
                                <fieldname="question_ids">
                                    <tree>
                                        <fieldname="title"/>
                                        <fieldname="question_type"/>
                                    </tree>
                                </field>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </field>
    </record>

    <recordid="event_event_view_form"model="ir.ui.view">
        <fieldname="name">event.event.view.form.inherit.question</field>
        <fieldname="model">event.event</field>
        <fieldname="inherit_id"ref="website_event.event_event_view_form"/>
        <fieldname="arch"type="xml">
            <data>
                <pagename="event_notes"position="before">
                    <pagestring="Questions"name="questions">
                        <fieldname="question_ids"nolabel="1">
                            <tree>
                                <fieldname="sequence"widget="handle"/>
                                <fieldname="title"/>
                                <fieldname="once_per_order"/>
                                <fieldname="question_type"string="Type"/>
                                <fieldname="answer_ids"widget="many2many_tags"
                                    attrs="{'invisible':[('question_type','!=','simple_choice')]}"/>
                                <buttonname="action_view_question_answers"type="object"class="fafa-bar-chartp-0"title="AnswerBreakdown"/>
                            </tree>
                            <!--Needtorepeatthewholetreeformheretobeabletocreateanswersproperly
                                Withoutthis,thesub-fieldsofanswer_idsareunknowntothewebframework.
                                Weneedthisbecausewecreatequestionsandanswerswhentheeventtypechanges.-->
                            <formstring="Question">
                                <sheet>
                                    <h1><fieldname="title"/></h1>
                                    <groupclass="mb-0">
                                        <groupclass="mb-0">
                                            <divcolspan="2">
                                                <fieldname="once_per_order"/>
                                                <labelfor="once_per_order"/>
                                            </div>
                                            <fieldname="question_type"widget="radio"options="{'horizontal':true}"/>
                                        </group>
                                    </group>
                                    <notebookattrs="{'invisible':[('question_type','!=','simple_choice')]}">
                                        <pagestring="Answers"name="answers">
                                            <fieldname="answer_ids">
                                                <treeeditable="bottom">
                                                    <!--'display_name'isnecessaryforthemany2many_tagstoworkontheeventview-->
                                                    <fieldname="display_name"invisible="1"/>
                                                    <fieldname="sequence"widget="handle"/>
                                                    <fieldname="name"/>
                                                </tree>
                                            </field>
                                        </page>
                                    </notebook>
                                </sheet>
                            </form>
                        </field>
                    </page>
                </page>
        </data>
        </field>
    </record>
</flectra>
