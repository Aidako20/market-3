<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
    <data>
        <recordid="account_move_efaktur_form_view"model="ir.ui.view">
            <fieldname="name">account.move.efaktur.form.view</field>
            <fieldname="model">account.move</field>
            <fieldname="inherit_id"ref="account.view_move_form"/>
            <fieldname="arch"type="xml">
                <fieldname="partner_id"position="after">
                    <fieldname="l10n_id_need_kode_transaksi"invisible="1"/>
                    <fieldname="l10n_id_attachment_id"invisible="1"/>
                    <fieldname="l10n_id_kode_transaksi"attrs="{'invisible':['|',('country_code','!=','ID'),('l10n_id_need_kode_transaksi','=',False)],'required':[('l10n_id_need_kode_transaksi','=',True)]}"/>
                    <fieldname="l10n_id_replace_invoice_id"attrs="{'invisible':[('country_code','!=','ID')],'readonly':[('state','!=','draft')]}"options="{'m2o_dialog':False,'no_create':True}"/>
                </field>
                <buttonname="button_draft"position="after">
                    <buttonname="reset_efaktur"string="ResetE-Faktur"type="object"attrs="{'invisible':['|',('country_code','!=','ID'),'|','|',('l10n_id_tax_number','=',False),('state','!=','cancel'),('l10n_id_attachment_id','!=',False)]}"/>
                </button>
                <xpathexpr=".//group[@id='other_tab_group']"position="inside">
                    <groupstring="ElectronicTax"attrs="{'invisible':[('country_code','!=','ID')]}">
                        <fieldname="l10n_id_tax_number"attrs="{'invisible':[('move_type','=','entry')],'readonly':[('move_type','in',('out_invoice','out_refund','out_receipt'))]}"/>
                        <fieldname="l10n_id_csv_created"attrs="{'invisible':[('move_type','notin',('out_invoice','out_refund'))]}"/>
                    </group>
                </xpath>
            </field>
        </record>

        <recordid="account_move_efaktur_tree_view"model="ir.ui.view">
            <fieldname="name">account.move.efaktur.tree.view</field>
            <fieldname="model">account.move</field>
            <fieldname="inherit_id"ref="account.view_invoice_tree"/>
            <fieldname="arch"type="xml">
                <fieldname="invoice_user_id"position="after">
                    <fieldname="l10n_id_tax_number"optional="show"/>
                    <fieldname="l10n_id_csv_created"optional="hide"/>
                </field>
            </field>
        </record>

        <recordid="dowload_efaktur_action"model="ir.actions.server">
            <fieldname="name">Downloade-Faktur</field>
            <fieldname="model_id"ref="account.model_account_move"/>
            <fieldname="binding_model_id"ref="account.model_account_move"/>
            <fieldname="state">code</field>
            <fieldname="code">action=records.download_efaktur()</field>
        </record>

        <recordid="view_account_invoice_filter"model="ir.ui.view">
            <fieldname="name">account.move.select.l10n_id.inherit</field>
            <fieldname="model">account.move</field>
            <fieldname="inherit_id"ref="account.view_account_invoice_filter"/>
            <fieldname="arch"type="xml">
                <fieldname="name"position="after">
                    <fieldname="l10n_id_tax_number"/>
                    <fieldname="l10n_id_attachment_id"/>
                    <group>
                        <filterstring="ToGeneratee-Faktur"name="tax_csv_upload"domain="[('l10n_id_tax_number','!=',False),('l10n_id_attachment_id','=',False),('state','=','posted')]"/>
                    </group>
                </field>
            </field>
        </record>
    </data>
</flectra>
