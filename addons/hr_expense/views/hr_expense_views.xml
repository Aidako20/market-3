<?xmlversion="1.0"encoding="utf-8"?>
<flectra>

        <recordid="hr_employee_view_form_inherit_expense"model="ir.ui.view">
            <fieldname="name">hr.employee.view.form.expense</field>
            <fieldname="model">hr.employee</field>
            <fieldname="inherit_id"ref="hr.view_employee_form"/>
            <fieldname="arch"type="xml">
                <xpathexpr="//group[@name='managers']"position="inside">
                    <fieldname="expense_manager_id"context="{'default_company_id':company_id}"/>
                </xpath>
                 <xpathexpr="//group[@name='managers']"position="attributes">
                    <attributename="invisible">0</attribute>
                </xpath>
            </field>
        </record>

        <recordid="view_employee_tree_inherit_expense"model="ir.ui.view">
            <fieldname="name">hr.employee.tree.expense</field>
            <fieldname="model">hr.employee</field>
            <fieldname="inherit_id"ref="hr.view_employee_tree"/>
            <fieldname="arch"type="xml">
                <xpathexpr="//field[@name='work_location']"position="after">
                    <fieldname="expense_manager_id"optional="hide"string="ExpenseApprover"/>
                </xpath>
            </field>
        </record>

        <recordid="res_users_view_form_preferences"model="ir.ui.view">
            <fieldname="name">hr.user.preferences.form.inherit.hr.expense</field>
            <fieldname="model">res.users</field>
            <fieldname="inherit_id"ref="hr.res_users_view_form_profile"/>
            <fieldname="arch"type="xml">
                <xpathexpr="//group[@name='managers']"position="inside">
                    <fieldname="expense_manager_id"attrs="{'readonly':[('can_edit','=',False)]}"context="{'default_company_id':company_id}"/>
                </xpath>
                 <xpathexpr="//group[@name='managers']"position="attributes">
                    <attributename="invisible">0</attribute>
                </xpath>
            </field>
        </record>

        <recordid="hr_expense_view_expenses_analysis_tree"model="ir.ui.view">
            <fieldname="name">hr.expense.tree</field>
            <fieldname="model">hr.expense</field>
            <fieldname="arch"type="xml">
                <treestring="Expenses"multi_edit="1"sample="1"js_class="hr_expense_tree_dashboard_upload">
                    <header>
                        <buttonname="action_submit_expenses"type="object"string="CreateReport"/>
                    </header>
                    <fieldname="attachment_number"invisible="True"/>
                    <fieldname="date"optional="show"/>
                    <fieldname="accounting_date"optional="hide"groups="account.group_account_invoice,account.group_account_readonly"/>
                    <fieldname="name"/>
                    <fieldname="employee_id"widget="many2one_avatar_employee"/>
                    <fieldname="sheet_id"optional="show"invisible="notcontext.get('show_report',False)"readonly="1"/>
                    <fieldname="payment_mode"optional="show"/>
                    <fieldname="reference"optional="hide"/>
                    <fieldname="analytic_account_id"optional="show"groups="analytic.group_analytic_accounting"/>
                    <fieldname="analytic_tag_ids"optional="hide"widget="many2many_tags"groups="analytic.group_analytic_tags"/>
                    <fieldname="account_id"optional="hide"/>
                    <fieldname="company_id"optional="show"groups="base.group_multi_company"readonly="1"/>
                    <fieldname="unit_amount"optional="hide"widget="monetary"options="{'currency_field':'currency_id'}"/>
                    <fieldname="currency_id"optional="hide"/>
                    <fieldname="quantity"optional="hide"/>
                    <fieldname="activity_ids"widget="list_activity"optional="show"/>
                    <fieldname="tax_ids"optional="show"widget="many2many_tags"groups="account.group_account_user"/>
                    <fieldname="total_amount"optional="show"sum="TotalAmount"widget="monetary"options="{'currency_field':'currency_id'}"decoration-bf="True"/>
                    <buttonname="action_get_attachment_view"string="Attachments"type="object"icon="fa-paperclip"attrs="{'invisible':[('attachment_number','=',0)]}"/>
                    <fieldname="message_unread"invisible="1"/>
                    <fieldname="state"optional="show"readonly="1"decoration-info="state=='draft'"decoration-success="statein['reported','approved','done']"decoration-danger="statein'refused'"widget="badge"/>
                </tree>
            </field>
        </record>

        <recordid="view_expenses_tree"model="ir.ui.view">
            <fieldname="name">hr.expense.tree</field>
            <fieldname="model">hr.expense</field>
            <fieldname="inherit_id"ref="hr_expense_view_expenses_analysis_tree"/>
            <fieldname="mode">primary</field>
            <fieldname="arch"type="xml">
                <xpathexpr="//tree"position="attributes">
                    <!--Displaythetreedashboardviewwiththeheader-->
                    <attributename="js_class">hr_expense_tree_dashboard_upload_header</attribute>
                </xpath>
            </field>
        </record>

        <recordid="view_my_expenses_tree"model="ir.ui.view">
            <fieldname="name">hr.expense.tree</field>
            <fieldname="model">hr.expense</field>
            <fieldname="priority">20</field>
            <fieldname="inherit_id"ref="hr_expense.view_expenses_tree"/>
            <fieldname="mode">primary</field>
            <fieldname="arch"type="xml">
                <xpathexpr="//tree"position="attributes">
                    <!--Displaythetreedashboardviewwiththeheader-->
                    <attributename="js_class">hr_expense_tree_dashboard_header</attribute>
                    <attributename="class">hr_expense</attribute>
                </xpath>
            </field>
        </record>

        <recordid="hr_expense_view_form"model="ir.ui.view">
            <fieldname="name">hr.expense.view.form</field>
            <fieldname="model">hr.expense</field>
            <fieldname="arch"type="xml">
                <formstring="Expenses"class="o_expense_form">
                <header>
                  <buttonname="action_submit_expenses"string="CreateReport"type="object"class="oe_highlighto_expense_submit"attrs="{'invisible':['|',('attachment_number','&lt;=',0),('sheet_id','!=',False)]}"/>
                  <widgetname="attach_document"string="AttachReceipt"action="message_post"attrs="{'invisible':['|',('attachment_number','&lt;',1),('id','=',False)]}"/>
                  <widgetname="attach_document"string="AttachReceipt"action="message_post"highlight="1"attrs="{'invisible':['|',('attachment_number','&gt;=',1),('id','=',False)]}"/>
                  <buttonname="action_submit_expenses"string="CreateReport"type="object"class="o_expense_submit"attrs="{'invisible':['|',('attachment_number','&gt;=',1),('sheet_id','!=',False)]}"/>
                  <fieldname="state"widget="statusbar"statusbar_visible="draft,reported,approved,done,refused"/>
                  <buttonname="action_view_sheet"type="object"string="ViewReport"class="oe_highlight"attrs="{'invisible':[('sheet_id','=',False)]}"/>
                </header>
                <sheet>
                    <divclass="oe_button_box"name="button_box">
                        <buttonname="action_get_attachment_view"
                            class="oe_stat_button"
                            icon="fa-file-text-o"
                            type="object">
                            <fieldname="attachment_number"widget="statinfo"string="Receipts"options="{'reload_on_button':true}"/>
                        </button>
                    </div>
                    <divclass="oe_title">
                        <labelfor="name"class="oe_edit_only"/>
                        <h1>
                            <fieldname="name"placeholder="e.g.LunchwithCustomer"/>
                        </h1>
                    </div>
                    <group>
                        <group>
                            <fieldname="is_editable"invisible="1"/>
                            <fieldname="is_ref_editable"invisible="1"/>
                            <fieldname="product_id"required="1"context="{'default_can_be_expensed':1,'tree_view_ref':'hr_expense.product_product_expense_tree_view'}"
                                   widget="many2one_barcode"
                            />
                            <fieldname="unit_amount"required="1"widget="monetary"options="{'currency_field':'currency_id','field_digits':True}"/>
                            <fieldname="product_uom_category_id"invisible="1"/>
                            <labelfor="quantity"/>
                            <divclass="o_row">
                                <fieldname="quantity"class="oe_inline"/>
                                <fieldname="product_uom_id"required="1"widget="selection"class="oe_inline"groups="uom.group_uom"/>
                            </div>
                            <fieldname="tax_ids"widget="many2many_tags"groups="account.group_account_readonly"attrs="{'readonly':[('is_editable','=',False)]}"context="{'default_company_id':company_id}"/>
                            <fieldname="total_amount"widget='monetary'options="{'currency_field':'currency_id'}"/>
                            <fieldname="amount_residual"widget='monetary'options="{'currency_field':'currency_id'}"/>
                        </group><group>
                            <fieldname="reference"attrs="{'readonly':[('is_ref_editable','=',False)]}"/>
                            <fieldname="date"/>
                            <fieldname="accounting_date"attrs="{'invisible':['|',('accounting_date','=',False),('state','notin',['approved','done'])]}"/>
                            <fieldname="account_id"options="{'no_create':True}"domain="[('internal_type','=','other'),('company_id','=',company_id)]"groups="account.group_account_readonly"attrs="{'readonly':[('is_editable','=',False)]}"context="{'default_company_id':company_id}"/>
                            <fieldname="employee_id"groups="hr_expense.group_hr_expense_team_approver"context="{'default_company_id':company_id}"/>
                            <fieldname="sheet_id"invisible="1"/>
                            <fieldname="currency_id"groups="base.group_multi_currency"/>
                            <fieldname="analytic_account_id"domain="['|',('company_id','=',company_id),('company_id','=',False)]"groups="analytic.group_analytic_accounting"attrs="{'readonly':[('is_editable','=',False)]}"/>
                            <fieldname="analytic_tag_ids"widget="many2many_tags"groups="analytic.group_analytic_tags"attrs="{'readonly':[('is_editable','=',False)]}"/>
                            <fieldname="company_id"groups="base.group_multi_company"/>
                        </group><group>
                            <labelfor="payment_mode"/>
                            <div>
                                <fieldname="payment_mode"widget="radio"/>
                            </div>
                        </group>
                    </group>
                    <div>
                        <fieldname="description"class="oe_inline"placeholder="Notes..."/>
                    </div>
                </sheet>
                <divclass="o_attachment_preview"/>
                <divclass="oe_chatter">
                    <fieldname="message_follower_ids"/>
                    <fieldname="activity_ids"/>
                    <fieldname="message_ids"/>
                </div>
                </form>
            </field>
        </record>

        <recordid="hr_expense_view_form_without_header"model="ir.ui.view">
            <fieldname="name">hr.expense.view.form</field>
            <fieldname="model">hr.expense</field>
            <fieldname="inherit_id"ref="hr_expense.hr_expense_view_form"/>
            <fieldeval="35"name="priority"/>
            <fieldname="mode">primary</field>
            <fieldname="arch"type="xml">
                <xpathexpr="/form/header"position="attributes">
                    <attributename="invisible">1</attribute>
                </xpath>
                <xpathexpr="/form/sheet/div[hasclass('oe_button_box')]"position="attributes">
                    <attributename="invisible">1</attribute>
                </xpath>
                <fieldname="employee_id"position="attributes">
                    <attributename="readonly">1</attribute>
                </field>
                <fieldname="company_id"position="attributes">
                    <attributename="readonly">1</attribute>
                </field>
            </field>
        </record>

        <recordid="hr_expense_view_expenses_analysis_kanban"model="ir.ui.view">
            <fieldname="name">hr.expense.kanban</field>
            <fieldname="model">hr.expense</field>
            <fieldname="arch"type="xml">
                <kanbanclass="o_kanban_mobilehr_expense"sample="1"js_class="hr_expense_kanban"quick_create="false">
                    <fieldname="name"/>
                    <fieldname="employee_id"/>
                    <fieldname="total_amount"/>
                    <fieldname="date"/>
                    <fieldname="state"/>
                    <fieldname="activity_state"/>
                    <fieldname="currency_id"/>
                    <progressbarfield="activity_state"colors='{"planned":"success","today":"warning","overdue":"danger"}'/>
                    <templates>
                        <tt-name="kanban-box">
                            <divt-attf-class="oe_kanban_cardoe_kanban_global_click">
                                <divclass="row">
                                    <divclass="col-12">
                                        <strongclass="o_kanban_record_title"><span><tt-esc="record.name.value"/></span></strong>
                                        <strongclass="o_kanban_record_subtitlefloat-right"><spanclass="text-right"><fieldname="total_amount"widget="monetary"/></span></strong>
                                    </div>
                                </div>
                                <divclass="rowmt8">
                                    <divclass="col-6text-muted">
                                        <span><tt-esc="record.employee_id.value"/><tt-esc="record.date.value"/></span>
                                    </div>
                                    <divclass="col-6">
                                        <spanclass="float-righttext-right">
                                            <fieldname="state"widget="label_selection"options="{'classes':{'draft':'default','reported':'primary','refused':'danger','done':'warning',
                                            'approved':'success'}}"/>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>

        <!--Kanbanviewwithoutheader-->
        <recordid="hr_expense_kanban_view"model="ir.ui.view">
            <fieldname="name">hr.expense.kanban</field>
            <fieldname="model">hr.expense</field>
            <fieldname="inherit_id"ref="hr_expense_view_expenses_analysis_kanban"/>
            <fieldname="mode">primary</field>
            <fieldname="arch"type="xml">
                <xpathexpr="//kanban"position="attributes">
                    <attributename="js_class">hr_expense_kanban</attribute>
                </xpath>
            </field>
        </record>

        <!--Kanbanviewwithheader.Usedin"AllMyExpenses-->
        <recordid="hr_expense_kanban_view_header"model="ir.ui.view">
            <fieldname="name">hr.expense.kanban</field>
            <fieldname="model">hr.expense</field>
            <fieldname="inherit_id"ref="hr_expense_view_expenses_analysis_kanban"/>
            <fieldname="mode">primary</field>
            <fieldname="arch"type="xml">
                <xpathexpr="//kanban"position="attributes">
                    <attributename="js_class">hr_expense_kanban_header</attribute>
                </xpath>
            </field>
        </record>

        <recordid="hr_expense_view_pivot"model="ir.ui.view">
            <fieldname="name">hr.expense.pivot</field>
            <fieldname="model">hr.expense</field>
            <fieldname="arch"type="xml">
                <pivotstring="ExpensesAnalysis"sample="1">
                    <fieldname="employee_id"type="row"/>
                    <fieldname="date"interval="month"type="col"/>
                    <fieldname="total_amount"type="measure"/>
                </pivot>
            </field>
        </record>

        <recordid="hr_expense_view_graph"model="ir.ui.view">
            <fieldname="name">hr.expense.graph</field>
            <fieldname="model">hr.expense</field>
            <fieldname="arch"type="xml">
                <graphstring="ExpensesAnalysis"sample="1">
                    <fieldname="date"type="col"/>
                    <fieldname="employee_id"type="row"/>
                    <fieldname="total_amount"type="measure"/>
                </graph>
            </field>
        </record>

        <recordid="hr_expense_view_search"model="ir.ui.view">
            <fieldname="name">hr.expense.view.search</field>
            <fieldname="model">hr.expense</field>
            <fieldname="arch"type="xml">
                <searchstring="Expense">
                    <fieldstring="Expense"name="name"filter_domain="['|','|',('employee_id','ilike',self),('name','ilike',self),('product_id','ilike',self)]"/>
                    <fieldname="date"/>
                    <fieldname="employee_id"/>
                    <fieldname="analytic_account_id"groups="analytic.group_analytic_accounting"/>
                    <filterstring="MyExpenses"name="my_expenses"domain="[('employee_id.user_id','=',uid)]"/>
                    <filterstring="MyTeam"name="my_team_expenses"domain="[('employee_id.parent_id.user_id','=',uid)]"groups="hr_expense.group_hr_expense_team_approver"help="ExpensesofYourTeamMember"/>
                    <separator/>
                    <filterstring="ToReport"name="no_report"domain="[('sheet_id','=',False)]"/>
                    <filterstring="Refused"name="refused"domain="[('state','=','refused')]"help="RefusedExpenses"/>
                    <separator/>
                    <filterstring="ExpenseDate"name="date"date="date"/>
                    <separator/>
                    <filterstring="FormerEmployees"name="inactive"domain="[('employee_id.active','=',False)]"groups="hr_expense.group_hr_expense_user,hr_expense.group_hr_expense_manager"/>
                    <separator/>
                    <filterinvisible="1"string="LateActivities"name="activities_overdue"
                        domain="[('my_activity_date_deadline','&lt;',context_today().strftime('%Y-%m-%d'))]"
                        help="Showallrecordswhichhasnextactiondateisbeforetoday"/>
                    <filterinvisible="1"string="TodayActivities"name="activities_today"
                        domain="[('my_activity_date_deadline','=',context_today().strftime('%Y-%m-%d'))]"/>
                    <filterinvisible="1"string="FutureActivities"name="activities_upcoming_all"
                        domain="[('my_activity_date_deadline','&gt;',context_today().strftime('%Y-%m-%d'))]"/>
                    <groupexpand="0"string="GroupBy">
                        <filterstring="Employee"name="employee"domain="[]"context="{'group_by':'employee_id'}"/>
                        <filterstring="Product"name="product"domain="[]"context="{'group_by':'product_id'}"/>
                        <filterstring="AnalyticAccount"name="analyticacc"domain="[]"context="{'group_by':'analytic_account_id'}"groups="analytic.group_analytic_accounting"/>
                        <filterstring="Status"name="status"domain="[]"context="{'group_by':'state'}"/>
                        <filterstring="ExpenseDate"name="expensesmonth"domain="[]"context="{'group_by':'date'}"help="ExpenseDate"/>
                        <filterstring="Company"name="company"domain="[]"context="{'group_by':'company_id'}"groups="base.group_multi_company"/>
                    </group>
                </search>
            </field>
        </record>

        <recordid="hr_expense_view_activity"model="ir.ui.view">
            <fieldname="name">hr.expense.activity</field>
            <fieldname="model">hr.expense</field>
            <fieldname="arch"type="xml">
                <activitystring="Expenses">
                    <fieldname="employee_id"/>
                    <fieldname="currency_id"/>
                    <templates>
                        <divt-name="activity-box">
                            <imgt-att-src="activity_image('hr.employee','image_128',record.employee_id.raw_value)"t-att-title="record.employee_id.value"t-att-alt="record.employee_id.value"/>
                            <div>
                                <fieldname="name"display="full"/>
                                <fieldname="total_amount"widget="monetary"muted="1"display="full"/>
                            </div>
                        </div>
                    </templates>
                </activity>
            </field>
        </record>

        <recordid="hr_expense_actions_all"model="ir.actions.act_window">
            <fieldname="name">ExpensesAnalysis</field>
            <fieldname="res_model">hr.expense</field>
            <fieldname="view_mode">graph,pivot,tree,kanban,form</field>
            <fieldname="search_view_id"ref="hr_expense_view_search"/>
            <fieldname="help"type="html">
                <pclass="o_view_nocontent_empty_folder">
                    Nodatayet!
                </p><p>
                    Createnewexpensestogetstatistics.
                </p>
            </field>
        </record>

        <recordid="hr_expense_actions_all_graph"model="ir.actions.act_window.view">
            <fieldname="view_mode">graph</field>
            <fieldname="view_id"ref="hr_expense.hr_expense_view_graph"/>
            <fieldname="act_window_id"ref="hr_expense_actions_all"/>
        </record>

        <recordid="hr_expense_actions_all_pivot"model="ir.actions.act_window.view">
            <fieldname="view_mode">pivot</field>
            <fieldname="view_id"ref="hr_expense.hr_expense_view_pivot"/>
            <fieldname="act_window_id"ref="hr_expense_actions_all"/>
        </record>

        <recordid="hr_expense_actions_all_tree"model="ir.actions.act_window.view">
            <fieldname="view_mode">tree</field>
            <fieldname="view_id"ref="hr_expense_view_expenses_analysis_tree"/>
            <fieldname="act_window_id"ref="hr_expense_actions_all"/>
        </record>

        <recordid="hr_expense_actions_all_kanban"model="ir.actions.act_window.view">
            <fieldname="view_mode">kanban</field>
            <fieldname="view_id"ref="hr_expense_view_expenses_analysis_kanban"/>
            <fieldname="act_window_id"ref="hr_expense_actions_all"/>
        </record>

        <recordid="hr_expense_actions_my_unsubmitted"model="ir.actions.act_window">
            <fieldname="name">MyExpensestoReport</field>
            <fieldname="res_model">hr.expense</field>
            <fieldname="view_mode">tree,kanban,form,graph,pivot,activity</field>
            <fieldname="search_view_id"ref="hr_expense_view_search"/>
            <fieldname="context">{'search_default_my_expenses':1,'search_default_no_report':1}</field>
            <fieldname="help"type="html">
                <pclass="o_view_nocontent_expense_receipt">
                    Didyoutrythemobileapp?
                </p>
                <p>SnappicturesofyourreceiptsandletFlectra<br/>automaticallycreateexpensesforyou.</p>
                <p>
                    <ahref="https://apps.apple.com/be/app/flectra/id1272543640"target="_blank">
                        <imgalt="AppleAppStore"class="imgimg-fluidh-100o_expense_apple_store"src="/hr_expense/static/img/app_store.png"/>
                    </a>
                    <ahref="https://play.google.com/store/apps/details?id=com.flectra.mobile"target="_blank"class="o_expense_google_store">
                        <imgalt="GooglePlayStore"class="imgimg-fluidh-100o_expense_google_store"src="/hr_expense/static/img/play_store.png"/>
                    </a>
                </p>
            </field>
        </record>

        <!--Tree&Kanbanviewfor"MyExpensestoReport"withtheheader-->
        <recordid="hr_expense_actions_my_unsubmitted_tree"model="ir.actions.act_window.view">
            <fieldname="view_mode">tree</field>
            <fieldname="view_id"ref="view_my_expenses_tree"/>
            <fieldname="act_window_id"ref="hr_expense_actions_my_unsubmitted"/>
        </record>

        <recordid="hr_expense_actions_my_unsubmitted_kanban"model="ir.actions.act_window.view">
            <fieldname="view_mode">kanban</field>
            <fieldname="view_id"ref="hr_expense_kanban_view_header"/>
            <fieldname="act_window_id"ref="hr_expense_actions_my_unsubmitted"/>
        </record>

        <recordid="hr_expense_actions_my_all"model="ir.actions.act_window">
            <fieldname="name">AllMyExpenses</field>
            <fieldname="res_model">hr.expense</field>
            <fieldname="view_mode">tree,kanban,form,graph,pivot,activity</field>
            <fieldname="search_view_id"ref="hr_expense_view_search"/>
            <fieldname="context">{'search_default_my_expenses':1}</field>
            <fieldname="help"type="html">
                <pclass="o_view_nocontent_expense_receipt">
                    Didyoutrythemobileapp?
                </p>
                <p>SnappicturesofyourreceiptsandletFlectra<br/>automaticallycreateexpensesforyou.</p>
                <p>
                    <ahref="https://apps.apple.com/be/app/flectra/id1272543640"target="_blank">
                        <imgalt="AppleAppStore"class="imgimg-fluidh-100o_expense_apple_store"src="/hr_expense/static/img/app_store.png"/>
                    </a>
                    <ahref="https://play.google.com/store/apps/details?id=com.flectra.mobile"target="_blank"class="o_expense_google_store">
                        <imgalt="GooglePlayStore"class="imgimg-fluidh-100o_expense_google_store"src="/hr_expense/static/img/play_store.png"/>
                    </a>
                </p>
            </field>
        </record>

        <!--Tree&Kanbanviewfor"AllMyExpenses"withheader-->
        <recordid="hr_expense_actions_my_all_tree"model="ir.actions.act_window.view">
            <fieldname="view_mode">tree</field>
            <fieldname="view_id"ref="view_my_expenses_tree"/>
            <fieldname="act_window_id"ref="hr_expense_actions_my_all"/>
        </record>

        <recordid="hr_expense_actions_my_all_kanban"model="ir.actions.act_window.view">
            <fieldname="view_mode">kanban</field>
            <fieldname="view_id"ref="hr_expense_kanban_view_header"/>
            <fieldname="act_window_id"ref="hr_expense_actions_my_all"/>
        </record>

        <recordid="view_product_hr_expense_form"model="ir.ui.view">
            <fieldname="name">product.template.expense.form</field>
            <fieldname="model">product.template</field>
            <fieldname="inherit_id"ref="product.product_template_form_view"/>
            <fieldname="arch"type="xml">
                <divname="options"position="inside">
                    <div>
                        <fieldname="can_be_expensed"/>
                        <labelfor="can_be_expensed"/>
                    </div>
                </div>
                <xpathexpr="//page[@name='general_information']//field[@name='taxes_id']"position="after">
                    <fieldname="supplier_taxes_id"widget="many2many_tags"attrs="{'invisible':['|',('can_be_expensed','=',False),('purchase_ok','=',True)]}"context="{'default_type_tax_use':'purchase','search_default_purchase':1,'search_default_service':type=='service','search_default_goods':type=='consu'}"/>
                </xpath>
            </field>
        </record>

        <recordid="product_product_expense_form_view"model="ir.ui.view">
            <fieldname="name">product.product.expense.form</field>
            <fieldname="model">product.product</field>
            <fieldname="arch"type="xml">
                <formstring="ExpenseProducts">
                    <sheet>
                        <widgetname="web_ribbon"title="Archived"bg_color="bg-danger"attrs="{'invisible':[('active','=',True)]}"/>
                        <fieldname='product_variant_count'invisible='1'/>
                        <fieldname="id"invisible="True"/>
                        <fieldname="image_1920"widget="image"class="oe_avatar"options="{'image_preview':'image_128'}"/>
                        <divclass="oe_title">
                            <labelclass="oe_edit_only"for="name"string="ProductName"/>
                            <h1><fieldname="name"placeholder="e.g.Lunch"/></h1>
                            <divname="options"groups="base.group_user"invisible="1">
                                <div>
                                    <fieldname="can_be_expensed"/>
                                    <labelfor="can_be_expensed"/>
                                </div>
                            </div>
                        </div>
                        <groupname="product_details">
                            <groupstring="GeneralInformation">
                                <fieldname="active"invisible="1"/>
                                <fieldname="type"invisible="1"/>
                                <fieldname="list_price"/>
                                <fieldname="standard_price"/>
                                <fieldname="uom_id"groups="uom.group_uom"options="{'no_create':True}"/>
                                <fieldname="uom_po_id"invisible="1"/>
                                <labelfor="default_code"/>
                                <div>
                                    <fieldname="default_code"/>
                                    <iclass="text-mutedoe_edit_only">Usethisreferenceasasubjectprefixwhensubmittingbyemail.</i>
                                </div>
                                <fieldname="company_id"groups="base.group_multi_company"/>
                            </group>
                            <groupstring="Accounting">
                                <fieldname="property_account_expense_id"groups="account.group_account_readonly"/>
                                <fieldname="supplier_taxes_id"widget="many2many_tags"context="{'default_type_tax_use':'purchase'}"/>
                                <fieldname="taxes_id"widget="many2many_tags"context="{'default_type_tax_use':'sale'}"/>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <recordid="product_product_expense_tree_view"model="ir.ui.view">
            <fieldname="name">product.product.expense.tree</field>
            <fieldname="model">product.product</field>
            <fieldeval="50"name="priority"/>
            <fieldname="arch"type="xml">
                <treestring="ProductVariants">
                    <fieldname="default_code"/>
                    <fieldname="name"/>
                    <fieldname="product_template_attribute_value_ids"widget="many2many_tags"groups="product.group_product_variant"/>
                    <fieldname="standard_price"/>
                    <fieldname="uom_id"options="{'no_open':True,'no_create':True}"groups="uom.group_uom"/>
                    <fieldname="barcode"/>
                </tree>
            </field>
        </record>

        <recordid="hr_expense_product"model="ir.actions.act_window">
            <fieldname="name">ExpenseProducts</field>
            <fieldname="res_model">product.product</field>
            <fieldname="view_mode">kanban,tree,form</field>
            <fieldname="search_view_id"ref="product.product_search_form_view"/>
            <fieldname="context">{"default_can_be_expensed":1,'default_type':'service'}</field>
            <fieldname="domain">[('can_be_expensed','=',True)]</field>
            <fieldname="help"type="html">
              <pclass="o_view_nocontent_smiling_face">
                Noexpenseproductsfound.Let'screateone!
              </p><p>
                Expenseproductscanbereinvoicedtoyourcustomers.
              </p>
            </field>
        </record>

        <recordid="hr_expense_product_tree"model="ir.actions.act_window.view">
            <fieldname="sequence"eval="2"/>
            <fieldname="view_mode">tree</field>
            <fieldname="act_window_id"ref="hr_expense_product"/>
        </record>

        <recordid="hr_expense_product_kanban"model="ir.actions.act_window.view">
            <fieldname="sequence"eval="1"/>
            <fieldname="view_mode">kanban</field>
            <fieldname="act_window_id"ref="hr_expense_product"/>
        </record>

        <recordid="hr_expense_product_form"model="ir.actions.act_window.view">
            <fieldname="sequence"eval="3"/>
            <fieldname="view_mode">form</field>
            <fieldname="view_id"ref="product_product_expense_form_view"/>
            <fieldname="act_window_id"ref="hr_expense_product"/>
        </record>

        <recordid="view_hr_expense_sheet_tree"model="ir.ui.view">
            <fieldname="name">hr.expense.sheet.tree</field>
            <fieldname="model">hr.expense.sheet</field>
            <fieldname="arch"type="xml">
                <treestring="ExpenseReports"js_class="hr_expense_tree_dashboard_upload"sample="1">
                    <fieldname="employee_id"widget="many2one_avatar_employee"/>
                    <fieldname="accounting_date"optional="show"groups="account.group_account_manager"/>
                    <fieldname="create_date"optional="hide"/>
                    <fieldname="name"string="ExpenseReport"/>
                    <fieldname="user_id"optional="hide"widget="many2one_avatar_user"/>
                    <fieldname="company_id"optional="show"groups="base.group_multi_company"/>
                    <fieldname="activity_ids"widget="list_activity"optional="show"/>
                    <fieldname="total_amount"optional="show"sum="TotalAmount"decoration-bf="True"/>
                    <fieldname="currency_id"optional="hide"/>
                    <fieldname="journal_id"optional="hide"/>
                    <fieldname="state"optional="show"decoration-info="state=='draft'"decoration-success="statein['submit','approve','post','done']"decoration-danger="state=='cancel'"widget="badge"/>
                    <fieldname="message_unread"invisible="1"/>
                </tree>
            </field>
        </record>

        <recordid="view_hr_expense_sheet_dashboard_tree"model="ir.ui.view">
            <fieldname="name">hr.expense.sheet.dashboard.tree</field>
            <fieldname="model">hr.expense.sheet</field>
            <fieldname="priority">20</field>
            <fieldname="inherit_id"ref="hr_expense.view_hr_expense_sheet_tree"/>
            <fieldname="mode">primary</field>
            <fieldname="arch"type="xml">
                <xpathexpr="//tree"position="attributes">
                    <attributename="js_class">hr_expense_tree_dashboard</attribute>
                </xpath>
            </field>
        </record>

        <!--Treeviewfor"MyReports"withheader-->
        <recordid="view_hr_expense_sheet_dashboard_tree_header"model="ir.ui.view">
            <fieldname="name">hr.expense.sheet.dashboard.tree</field>
            <fieldname="model">hr.expense.sheet</field>
            <fieldname="priority">20</field>
            <fieldname="inherit_id"ref="hr_expense.view_hr_expense_sheet_tree"/>
            <fieldname="mode">primary</field>
            <fieldname="arch"type="xml">
                <xpathexpr="//tree"position="attributes">
                    <attributename="js_class">hr_expense_tree_dashboard_header</attribute>
                </xpath>
            </field>
        </record>

        <recordid="view_hr_expense_sheet_form"model="ir.ui.view">
            <fieldname="name">hr.expense.sheet.form</field>
            <fieldname="model">hr.expense.sheet</field>
            <fieldeval="25"name="priority"/>
            <fieldname="arch"type="xml">
                <formstring="ExpenseReports"class="o_expense_sheet">
                <fieldname="can_reset"invisible="1"/>
                 <header>
                    <buttonname="action_submit_sheet"states="draft"string="SubmittoManager"type="object"class="oe_highlighto_expense_sheet_submit"/>
                    <buttonname="approve_expense_sheets"states="submit"string="Approve"type="object"groups="hr_expense.group_hr_expense_team_approver"class="oe_highlighto_expense_sheet_approve"/>
                    <buttonname="action_sheet_move_create"
                            string="PostJournalEntries"
                            type="object"
                            class="oe_highlighto_expense_sheet_post"
                            attrs="{'invisible':[('state','!=','approve')]}"
                            groups="account.group_account_invoice"/>
                    <buttonname="action_register_payment"
                            type="object"
                            class="oe_highlighto_expense_sheet_pay"
                            attrs="{'invisible':[('state','!=','post')]}"
                            context="{'dont_redirect_to_payments':True}"
                            string="RegisterPayment"
                            groups="account.group_account_invoice"/>
                    <buttonname="%(hr_expense.hr_expense_refuse_wizard_action)d"states="submit,approve"context="{'hr_expense_refuse_model':'hr.expense.sheet'}"string="Refuse"type="action"groups="hr_expense.group_hr_expense_team_approver"/>
                    <buttonname="reset_expense_sheets"string="ResettoDraft"type="object"attrs="{'invisible':['|',('can_reset','=',False),('state','notin',['submit','cancel'])]}"/>
                    <fieldname="state"widget="statusbar"statusbar_visible="draft,submit,approve,post,done"/>
                </header>
                <sheet>
                    <divclass="oe_button_box"name="button_box">
                        <buttonname="action_get_attachment_view"
                            class="oe_stat_button"
                            icon="fa-file-text-o"
                            type="object">
                            <fieldname="attachment_number"widget="statinfo"string="Documents"/>
                        </button>
                    </div>
                    <widgetname="web_ribbon"title="Paid"bg_color="bg-success"attrs="{'invisible':[('state','!=','done')]}"/>
                    <divclass="oe_title">
                        <labelfor="name"class="oe_edit_only"/>
                        <h1>
                            <fieldname="name"placeholder="e.g.TriptoNY"/>
                        </h1>
                    </div>
                    <group>
                        <groupname="employee_details">
                            <fieldname="employee_id"context="{'default_company_id':company_id}"widget="many2one_avatar_employee"/>
                            <fieldname="user_id"domain="[('share','=',False)]"widget="many2one_avatar_user"/>
                            <fieldname="payment_mode"/>
                            <fieldname="address_id"invisible="1"context="{'default_company_id':company_id}"/>
                            <fieldname="department_id"invisible="1"context="{'default_company_id':company_id}"/>
                            <fieldname="company_id"groups="base.group_multi_company"/>
                        </group>
                    </group>
                     <notebook>
                        <pagename="expenses"string="Expense">
                        <fieldname="expense_line_ids"nolabel="1"widget="many2many"domain="[('state','=','draft'),('employee_id','=',employee_id),('company_id','=',company_id)]"options="{'reload_on_button':True}"context="{'form_view_ref':'hr_expense.hr_expense_view_form_without_header','default_company_id':company_id,'default_employee_id':employee_id}">
                            <treedecoration-danger="is_refused"editable="bottom">
                                <fieldname="date"optional="show"/>
                                <fieldname="name"/>
                                <fieldname="employee_id"invisible="1"/>
                                <fieldname="state"invisible="1"/>
                                <fieldname="reference"optional="hide"/>
                                <fieldname="analytic_account_id"optional="show"domain="['|',('company_id','=',parent.company_id),('company_id','=',False)]"groups="analytic.group_analytic_accounting"/>
                                <fieldname="analytic_tag_ids"optional="hide"widget="many2many_tags"groups="analytic.group_analytic_tags"/>
                                <fieldname="account_id"optional="hide"/>
                                <fieldname="message_unread"invisible="1"/>
                                <fieldname="attachment_number"string=""/>
                                <buttonname="action_get_attachment_view" string="ViewAttachments"type="object"icon="fa-paperclip"/>
                                <fieldname="unit_amount"optional="hide"widget="monetary"options="{'currency_field':'currency_id'}"/>
                                <fieldname="currency_id"optional="hide"/>
                                <fieldname="quantity"optional="hide"/>
                                <fieldname="company_id"invisible="1"/>
                                <fieldname="tax_ids"optional="show"widget="many2many_tags"groups="account.group_account_readonly"context="{'default_company_id':company_id}"/>
                                <fieldname="total_amount"optional="show"/>
                                <fieldname="company_currency_id"invisible="1"/>
                                <fieldname="total_amount_company"optional="show"groups="base.group_multi_currency"/>
                                <fieldname="is_refused"invisible="True"/>
                           </tree>
                        </field>
                        <fieldname="currency_id"invisible="1"/>
                        <groupclass="oe_subtotal_footeroe_right"colspan="2"name="expense_total">
                                <divclass="oe_subtotal_footer_separatoroe_inlineo_td_label">
                                    <labelfor="total_amount"/>
                                </div>
                                <fieldname="total_amount"nolabel="1"class="oe_subtotal_footer_separator"/>
                                <fieldname="amount_residual"
                                       class="oe_subtotal_footer_separator"
                                       attrs="{'invisible':[('state','notin',('post','done'))]}"/>
                            </group>
                        </page>
                        <pagename="other_info"string="OtherInfo">
                            <group>
                                <group>
                                    <fieldname="journal_id"options="{'no_open':True,'no_create':True}"attrs="{'invisible':[('payment_mode','!=','own_account')]}"context="{'default_company_id':company_id}"/>
                                    <fieldname="bank_journal_id"groups="account.group_account_invoice,account.group_account_readonly"options="{'no_open':True,'no_create':True}"attrs="{'invisible':[('payment_mode','!=','company_account')]}"context="{'default_company_id':company_id}"/>
                                    <fieldname="accounting_date"groups="account.group_account_invoice,account.group_account_readonly"attrs="{'invisible':[('state','notin',['approve','post','done'])]}"/>
                                </group>
                                <group>
                                    <fieldname="account_move_id"groups="account.group_account_invoice,account.group_account_readonly"attrs="{'invisible':[('state','notin',['post','done'])]}"readonly="1"/>
                                </group>
                            </group>
                        </page>
                     </notebook>
                </sheet>
                <divclass="oe_chatter">
                    <fieldname="message_follower_ids"/>
                    <fieldname="activity_ids"/>
                    <fieldname="message_ids"/>
                </div>
                </form>
            </field>
        </record>

        <recordid="view_hr_expense_sheet_kanban"model="ir.ui.view">
            <fieldname="name">hr.expense.sheet.kanban</field>
            <fieldname="model">hr.expense.sheet</field>
            <fieldname="arch"type="xml">
                <kanbanclass="o_kanban_mobile"sample="1">
                    <fieldname="name"/>
                    <fieldname="employee_id"/>
                    <fieldname="total_amount"/>
                    <fieldname="accounting_date"/>
                    <fieldname="state"/>
                    <fieldname="currency_id"/>
                    <templates>
                        <tt-name="kanban-box">
                            <divt-attf-class="oe_kanban_cardoe_kanban_global_click">
                                <divclass="row">
                                    <divclass="col-12">
                                        <strongclass="o_kanban_record_title"><span><tt-esc="record.name.value"/></span></strong>
                                        <strongclass="o_kanban_record_subtitlefloat-right"><spanclass="text-right"><fieldname="total_amount"widget="monetary"/></span></strong>
                                    </div>
                                </div>
                                <divclass="rowmt8">
                                    <divclass="col-6text-muted">
                                        <span><tt-esc="record.employee_id.value"/><tt-esc="record.accounting_date.value"/></span>
                                    </div>
                                    <divclass="col-6">
                                        <spanclass="float-righttext-right">
                                            <fieldname="state"widget="label_selection"options="{'classes':{'draft':'default','submit':'default','cancel':'danger','post':'warning',
                                            'done':'success'}}"/>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>

        <!--Kanbanviewwithoutheader-->
        <recordid="view_hr_expense_sheet_kanban_no_header"model="ir.ui.view">
            <fieldname="name">hr.expense.sheet.kanban</field>
            <fieldname="model">hr.expense.sheet</field>
            <fieldname="inherit_id"ref="view_hr_expense_sheet_kanban"/>
            <fieldname="mode">primary</field>
            <fieldname="arch"type="xml">
                <xpathexpr="//kanban"position="attributes">
                    <attributename="js_class">hr_expense_kanban</attribute>
                </xpath>
            </field>
        </record>

        <!--Kanbanviewwithheader-->
        <recordid="view_hr_expense_sheet_kanban_header"model="ir.ui.view">
            <fieldname="name">hr.expense.sheet.kanban</field>
            <fieldname="model">hr.expense.sheet</field>
            <fieldname="inherit_id"ref="view_hr_expense_sheet_kanban"/>
            <fieldname="mode">primary</field>
            <fieldname="arch"type="xml">
                <xpathexpr="//kanban"position="attributes">
                    <attributename="js_class">hr_expense_kanban_header</attribute>
                </xpath>
            </field>
        </record>

        <recordid="view_hr_expense_sheet_pivot"model="ir.ui.view">
            <fieldname="name">hr.expense.sheet.pivot</field>
            <fieldname="model">hr.expense.sheet</field>
            <fieldname="arch"type="xml">
                <pivotstring="ExpensesAnalysis"sample="1">
                    <fieldname="employee_id"type="row"/>
                    <fieldname="accounting_date"interval="month"type="col"/>
                    <fieldname="total_amount"type="measure"/>
                </pivot>
            </field>
        </record>

        <recordid="view_hr_expense_sheet_graph"model="ir.ui.view">
            <fieldname="name">hr.expense.sheet.graph</field>
            <fieldname="model">hr.expense.sheet</field>
            <fieldname="arch"type="xml">
                <graphstring="ExpensesAnalysis"sample="1">
                    <fieldname="employee_id"type="col"/>
                    <fieldname="accounting_date"interval="month"type="row"/>
                    <fieldname="total_amount"type="measure"/>
                </graph>
            </field>
        </record>


        <recordid="hr_expense_sheet_view_search"model="ir.ui.view">
            <fieldname="name">hr.expense.sheet.view.search</field>
            <fieldname="model">hr.expense.sheet</field>
            <fieldname="arch"type="xml">
                <searchstring="Expense">
                    <fieldstring="ExpenseReport"name="name"/>
                    <fieldname="accounting_date"/>
                    <separator/>
                    <fieldname="employee_id"/>
                    <fieldstring="Department"name="department_id"operator="child_of"/>
                    <fieldstring="Journal"name="journal_id"/>
                    <filterstring="MyReports"name="my_reports"domain="[('employee_id.user_id','=',uid)]"/>
                    <filterstring="MyTeam"name="my_team_reports"domain="[('employee_id.parent_id.user_id','=',uid)]"groups="hr_expense.group_hr_expense_manager"help="ExpensesofYourTeamMember"/>
                    <separator/>
                    <filterdomain="[('state','=','submit')]"string="ToApprove"name="submitted"help="ConfirmedExpenses"/>
                    <filterdomain="[('state','=','approve')]"string="ToPost"name="to_post"help="ApprovedExpenses"/>
                    <filterdomain="[('state','=','post')]"string="ToPay"name="approved"help="ExpensestoInvoice"/>
                    <filterdomain="[('state','=','cancel')]"string="Refused"name="canceled"/>
                    <separator/>
                    <filterstring="Date"name="filter_accounting_date"date="accounting_date"/>
                    <separator/>
                    <filterdomain="[('employee_id.active','=',False)]"string="FormerEmployees"name="inactive"groups="hr_expense.group_hr_expense_user,hr_expense.group_hr_expense_manager"/>
                    <filterinvisible="1"string="LateActivities"name="activities_overdue"
                        domain="[('my_activity_date_deadline','&lt;',context_today().strftime('%Y-%m-%d'))]"
                        help="Showallrecordswhichhasnextactiondateisbeforetoday"/>
                    <filterinvisible="1"string="TodayActivities"name="activities_today"
                        domain="[('my_activity_date_deadline','=',context_today().strftime('%Y-%m-%d'))]"/>
                    <filterinvisible="1"string="FutureActivities"name="activities_upcoming_all"
                            domain="[('my_activity_date_deadline','&gt;',context_today().strftime('%Y-%m-%d'))
                            ]"/>
                    <groupexpand="0"string="GroupBy">
                        <filterstring="Employee"name="employee"domain="[]"context="{'group_by':'employee_id'}"/>
                        <filterstring="Department"name="department"domain="[]"context="{'group_by':'department_id'}"/>
                        <filterstring="Company"name="company"domain="[]"context="{'group_by':'company_id'}"groups="base.group_multi_company"/>
                        <filterstring="Date"name="expenses_month"domain="[]"context="{'group_by':'accounting_date'}"help="ExpensesbyDate"/>
                        <filterstring="Status"domain="[]"context="{'group_by':'state'}"name="state"/>
                    </group>
                </search>
            </field>
        </record>

        <recordid="hr_expense_sheet_view_activity"model="ir.ui.view">
            <fieldname="name">hr.expense.sheet.activity</field>
            <fieldname="model">hr.expense.sheet</field>
            <fieldname="arch"type="xml">
                <activitystring="Expenses">
                    <fieldname="employee_id"/>
                    <fieldname="currency_id"/>
                    <templates>
                        <divt-name="activity-box">
                            <imgt-att-src="activity_image('hr.employee','image_128',record.employee_id.raw_value)"t-att-title="record.employee_id.value"t-att-alt="record.employee_id.value"/>
                            <div>
                                <fieldname="name"display="full"/>
                                <fieldname="total_amount"widget="monetary"muted="1"display="full"/>
                                <fieldname="state"display="right"/>
                            </div>
                        </div>
                    </templates>
                </activity>
            </field>
        </record>

        <recordid="action_hr_expense_sheet_my_all"model="ir.actions.act_window">
            <fieldname="name">MyReports</field>
            <fieldname="res_model">hr.expense.sheet</field>
            <fieldname="view_mode">tree,kanban,form,pivot,graph,activity</field>
            <fieldname="search_view_id"ref="hr_expense_sheet_view_search"/>
            <fieldname="domain">[('state','!=','cancel')]</field>
            <fieldname="context">{'search_default_my_reports':1}</field>
            <fieldname="help"type="html">
              <pclass="o_view_nocontent_smiling_face">
                Noexpensereportfound.Let'screateone!
              </p><p>
                Onceyouhavecreatedyourexpense,submitittoyourmanagerwhowillvalidateit.
              </p>
            </field>
        </record>

        <!--Tree&Kanbanviewfor"MyReports"withheader-->
        <recordid="action_hr_expense_sheet_my_all_tree"model="ir.actions.act_window.view">
            <fieldname="view_mode">tree</field>
            <fieldname="view_id"ref="view_hr_expense_sheet_dashboard_tree_header"/>
            <fieldname="act_window_id"ref="action_hr_expense_sheet_my_all"/>
        </record>

        <recordid="action_hr_expense_sheet_my_all_kanban"model="ir.actions.act_window.view">
            <fieldname="view_mode">kanban</field>
            <fieldname="view_id"ref="view_hr_expense_sheet_kanban_header"/>
            <fieldname="act_window_id"ref="action_hr_expense_sheet_my_all"/>
        </record>

        <recordid="action_hr_expense_sheet_all_to_approve"model="ir.actions.act_window">
            <fieldname="name">ExpenseReportstoApprove</field>
            <fieldname="res_model">hr.expense.sheet</field>
            <fieldname="view_mode">tree,kanban,form,pivot,graph,activity</field>
            <fieldname="search_view_id"ref="hr_expense_sheet_view_search"/>
            <fieldname="domain">[]</field>
            <fieldname="context">{'search_default_submitted':1}</field>
            <fieldname="view_id"ref="view_hr_expense_sheet_tree"/>
            <fieldname="help"type="html">
              <pclass="o_view_nocontent_smiling_face">
                Noexpensereportsfound
              </p><p>
                Approvethenewexpensereportssubmittedbytheemployeesyoumanage.
              </p>
            </field>
        </record>

        <recordid="action_hr_expense_sheet_all_to_post"model="ir.actions.act_window">
            <fieldname="name">ExpenseReportsToPost</field>
            <fieldname="res_model">hr.expense.sheet</field>
            <fieldname="view_mode">tree,kanban,form,pivot,graph</field>
            <fieldname="search_view_id"ref="hr_expense_sheet_view_search"/>
            <fieldname="domain">[]</field>
            <fieldname="context">{'search_default_to_post':1}</field>
            <fieldname="help"type="html">
              <pclass="o_view_nocontent_smiling_face">
                Noexpensereportsfound
              </p><p>
                Postthejournalentriesofthenewexpensereportsapprovedbytheemployees'manager.
              </p>
            </field>
        </record>

        <recordid="action_hr_expense_sheet_all_to_pay"model="ir.actions.act_window">
            <fieldname="name">ExpenseReportsToPay</field>
            <fieldname="res_model">hr.expense.sheet</field>
            <fieldname="view_mode">tree,kanban,form,pivot,graph</field>
            <fieldname="search_view_id"ref="hr_expense_sheet_view_search"/>
            <fieldname="domain">[]</field>
            <fieldname="context">{'search_default_approved':1}</field>
            <fieldname="help"type="html">
              <pclass="o_view_nocontent_smiling_face">
                Noexpensereportsfound
              </p><p>
                Reimbursetheemployeeswhoincurredthesecostsorsimplyregisterthecorrespondingpayments.
              </p>
            </field>
        </record>

        <recordid="action_hr_expense_sheet_all"model="ir.actions.act_window">
            <fieldname="name">AllReports</field>
            <fieldname="res_model">hr.expense.sheet</field>
            <fieldname="view_mode">tree,kanban,form,pivot,graph</field>
            <fieldname="search_view_id"ref="hr_expense_sheet_view_search"/>
            <fieldname="domain">[]</field>
            <fieldname="context">{}</field>
            <fieldname="help"type="html">
                <pclass="o_view_nocontent_smiling_face">
                    Noexpensereportsfound.Let'screateone!
                </p><p>
                    Expensereportsregroupalltheexpensesincurredduringaspecificevent.
                </p>
            </field>
        </record>

        <recordid="action_hr_expense_account"model="ir.actions.act_window">
            <fieldname="name">EmployeeExpenses</field>
            <fieldname="res_model">hr.expense.sheet</field>
            <fieldname="view_mode">tree,kanban,form,pivot,graph</field>
            <fieldname="search_view_id"ref="hr_expense_sheet_view_search"/>
            <fieldname="view_id"ref="view_hr_expense_sheet_tree"/>
            <fieldname="domain">[]</field>
            <fieldname="context">{
                'search_default_approved':1,
                'search_default_to_post':1,
            }
            </field>
            <fieldname="help"type="html">
              <pclass="o_view_nocontent_smiling_face">
                Createanewexpensereport
              </p><p>
                Onceyouhavecreatedyourexpense,submitittoyourmanagerwhowillvalidateit.
              </p>
            </field>
        </record>

        <recordid="action_hr_expense_sheet_all_all"model="ir.actions.act_window">
            <fieldname="name">AllExpenseReports</field>
            <fieldname="res_model">hr.expense.sheet</field>
            <fieldname="view_mode">graph,pivot,tree,kanban,form</field>
            <fieldname="search_view_id"ref="hr_expense_sheet_view_search"/>
            <fieldname="domain">[]</field>
            <fieldname="context">{}</field>
            <fieldname="help"type="html">
              <pclass="o_view_nocontent_smiling_face">
                Createanewexpensereport
              </p><p>
                Onceyouhavecreatedyourexpense,submitittoyourmanagerwhowillvalidateit.
              </p>
            </field>
        </record>

        <recordid="action_hr_expense_sheet_department_to_approve"model="ir.actions.act_window">
            <fieldname="name">ExpenseReportstoApprove</field>
            <fieldname="res_model">hr.expense.sheet</field>
            <fieldname="view_mode">tree,kanban,form,pivot,graph</field>
            <fieldname="search_view_id"ref="hr_expense_sheet_view_search"/>
            <fieldname="context">{
                'search_default_submitted':1,
                'search_default_department_id':[active_id],
                'default_department_id':active_id
                }
            </field>
        </record>

        <recordid="action_hr_expense_sheet_department_filtered"model="ir.actions.act_window">
            <fieldname="name">ExpenseReportsAnalysis</field>
            <fieldname="res_model">hr.expense.sheet</field>
            <fieldname="view_mode">graph,pivot</field>
            <fieldname="context">{
                'search_default_department_id':[active_id],
                'default_department_id':active_id}
            </field>
            <fieldname="help"type="html">
                <pclass="o_view_nocontent_smiling_face">
                    Nodatayet!
                </p>
            </field>
        </record>

        <recordid="hr_expense_submit_action_server"model="ir.actions.server">
            <fieldname="name">CreateReport</field>
            <fieldname="type">ir.actions.server</field>
            <fieldname="model_id"ref="model_hr_expense"/>
            <fieldname="binding_model_id"ref="model_hr_expense"/>
            <fieldname="binding_view_types">list</field>
            <fieldname="state">code</field>
            <fieldname="code">
ifrecords:
    action=records.action_submit_expenses()
            </field>
        </record>

        <recordid="hr_expense_sheet_approve_action_server"model="ir.actions.server">
            <fieldname="name">ApproveReport</field>
            <fieldname="type">ir.actions.server</field>
            <fieldname="model_id"ref="model_hr_expense_sheet"/>
            <fieldname="binding_model_id"ref="model_hr_expense_sheet"/>
            <fieldname="binding_view_types">list</field>
            <fieldname="groups_id"eval="[(4,ref('hr_expense.group_hr_expense_team_approver'))]"/>
            <fieldname="state">code</field>
            <fieldname="code">
ifrecords:
    action=records.approve_expense_sheets()
            </field>
        </record>

        <recordid="hr_expense_sheet_post_action_server"model="ir.actions.server">
            <fieldname="name">PostEntries</field>
            <fieldname="type">ir.actions.server</field>
            <fieldname="model_id"ref="model_hr_expense_sheet"/>
            <fieldname="binding_model_id"ref="model_hr_expense_sheet"/>
            <fieldname="binding_view_types">list</field>
            <fieldname="groups_id"eval="[(4,ref('hr_expense.group_hr_expense_team_approver'))]"/>
            <fieldname="state">code</field>
            <fieldname="code">
ifrecords:
    action=records.action_sheet_move_create()
            </field>
        </record>

        <recordid="action_expense_sheet_register_payment"model="ir.actions.server">
            <fieldname="name">RegisterPayment</field>
            <fieldname="groups_id"eval="[(4,ref('account.group_account_invoice'))]"/>
            <fieldname="model_id"ref="hr_expense.model_hr_expense_sheet"/>
            <fieldname="binding_model_id"ref="hr_expense.model_hr_expense_sheet"/>
            <fieldname="binding_view_types">list</field>
            <fieldname="state">code</field>
            <fieldname="code">
                ifrecords:
                    action=records.action_register_payment()
            </field>
        </record>

        <menuitemid="menu_hr_expense_root"name="Expenses"sequence="100"web_icon="hr_expense,static/description/icon.png"/>

        <menuitemid="menu_hr_expense_my_expenses"name="MyExpenses"sequence="1"parent="menu_hr_expense_root"groups="base.group_user"/>
        <menuitemid="menu_hr_expense_my_expenses_to_submit"sequence="1"parent="menu_hr_expense_my_expenses"action="hr_expense_actions_my_unsubmitted"name="MyExpensestoReport"/>
        <menuitemid="menu_hr_expense_my_expenses_all"sequence="2"parent="menu_hr_expense_my_expenses"action="hr_expense_actions_my_all"name="AllMyExpenses"/>
        <menuitemid="menu_hr_expense_sheet_my_reports"sequence="3"parent="menu_hr_expense_my_expenses"action="action_hr_expense_sheet_my_all"name="MyReports"/>

        <menuitemid="menu_hr_expense_report"name="ExpenseReports"sequence="2"parent="menu_hr_expense_root"/>
        <menuitemid="menu_hr_expense_sheet_all_to_approve"
                  name="ReportstoApprove"sequence="1"parent="menu_hr_expense_report"
                  action="action_hr_expense_sheet_all_to_approve"
                  groups="hr_expense.group_hr_expense_team_approver"/>
        <menuitemid="menu_hr_expense_sheet_all_to_post"
                  name="ReportstoPost"sequence="2"parent="menu_hr_expense_report"
                  action="action_hr_expense_sheet_all_to_post"
                  groups="account.group_account_invoice,hr_expense.group_hr_expense_manager"/>
        <menuitemid="menu_hr_expense_sheet_all_to_pay"
                  name="ReportstoPay"sequence="3"parent="menu_hr_expense_report"
                  action="action_hr_expense_sheet_all_to_pay"
                  groups="account.group_account_invoice,hr_expense.group_hr_expense_manager"/>
        <menuitemid="menu_hr_expense_sheet_all"
                  name="AllReports"sequence="4"parent="menu_hr_expense_report"
                  action="action_hr_expense_sheet_all"
                  groups="account.group_account_invoice,hr_expense.group_hr_expense_manager"/>

        <menuitemid="menu_hr_expense_reports"name="Reporting"sequence="4"parent="menu_hr_expense_root"groups="hr_expense.group_hr_expense_manager"/>
        <menuitemid="menu_hr_expense_all_expenses"name="ExpensesAnalysis"sequence="0"parent="menu_hr_expense_reports"action="hr_expense_actions_all"/>

        <menuitemid="menu_hr_expense_configuration"name="Configuration"parent="menu_hr_expense_root"
            sequence="100"/>
        <menuitemid="menu_hr_product"name="ExpenseProducts"parent="menu_hr_expense_configuration"
            action="hr_expense_product"groups="hr_expense.group_hr_expense_manager"sequence="10"/>

        <menuitemid="menu_hr_expense_account_employee_expenses"name="EmployeeExpenses"sequence="22"parent="account.menu_finance_payables"groups="hr_expense.group_hr_expense_user"action="action_hr_expense_account"/>
</flectra>
