<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
    <data>
        <!--BillofMaterials-->
        <recordid="action_report_mrp_bom"model="ir.actions.client">
            <fieldname="name">BoMStructure&amp;Cost</field>
            <fieldname="tag">mrp_bom_report</field>
            <fieldname="context"eval="{'model':'report.mrp.report_bom_structure'}"/>
        </record>

        <recordid="mrp_bom_byproduct_form_view"model="ir.ui.view">
            <fieldname="name">mrp.bom.byproduct.form</field>
            <fieldname="model">mrp.bom.byproduct</field>
            <fieldname="arch"type="xml">
                <formstring="Byproduct">
                    <group>
                        <fieldname="allowed_operation_ids"invisible="1"/>
                        <fieldname="company_id"/>
                        <fieldname="product_id"/>
                        <labelfor="product_qty"/>
                        <divclass="o_row">
                            <fieldname="product_qty"/>
                            <fieldname="product_uom_id"groups="uom.group_uom"/>
                        </div>
                        <fieldname="operation_id"groups="mrp.group_mrp_routings"options="{'no_quick_create':True,'no_create_edit':True}"/>
                    </group>
                </form>
            </field>
        </record>

        <recordid="mrp_bom_form_view"model="ir.ui.view">
            <fieldname="name">mrp.bom.form</field>
            <fieldname="model">mrp.bom</field>
            <fieldname="priority">100</field>
            <fieldname="arch"type="xml">
                <formstring="BillofMaterial">
                    <sheet>
                        <divclass="oe_button_box"name="button_box">
                            <buttonname="%(action_mrp_routing_time)d"type="action"class="oe_stat_button"icon="fa-clock-o"groups="mrp.group_mrp_routings">
                                <divclass="o_field_widgeto_stat_info">
                                    <spanclass="o_stat_text">Routing<br/>Performance</span>
                                </div>
                            </button>
                            <buttonname="%(action_report_mrp_bom)d"type="action"
                                class="oe_stat_button"icon="fa-bars"string="Structure&amp;Cost"/>
                        </div>
                        <widgetname="web_ribbon"title="Archived"bg_color="bg-danger"attrs="{'invisible':[('active','=',True)]}"/>
                    <group>
                        <group>
                            <fieldname="active"invisible="1"/>
                            <fieldname="product_tmpl_id"context="{'default_type':'product'}"/>
                            <fieldname="product_uom_category_id"invisible="1"/>
                            <fieldname="product_id"groups="product.group_product_variant"context="{'default_type':'product'}"/>
                            <labelfor="product_qty"string="Quantity"/>
                            <divclass="o_row">
                                <fieldname="product_qty"/>
                                <fieldname="product_uom_id"options="{'no_open':True,'no_create':True}"groups="uom.group_uom"/>
                            </div>
                        </group>
                        <group>
                            <fieldname="code"/>
                            <fieldname="type"widget="radio"/>
                            <pcolspan="2"class="oe_greyoe_edit_only"attrs="{'invisible':[('type','!=','phantom')]}">
                            <ul>
                                ABoMoftypekitisusedtosplittheproductintoitscomponents.
                                <li>
                                    AtthecreationofaManufacturingOrder.
                                </li>
                                <li>
                                    AtthecreationofaStockTransfer.
                                </li>
                            </ul>
                            </p>
                            <fieldname="company_id"groups="base.group_multi_company"options="{'no_create':True,'no_open':True}"/>
                        </group>
                    </group>
                    <notebook>
                        <pagestring="Components"name="components">
                            <fieldname="bom_line_ids"widget="one2many"context="{'default_parent_product_tmpl_id':product_tmpl_id,'default_product_id':False,'default_company_id':company_id,'default_bom_id':id}">
                                <treestring="Components"editable="bottom">
                                    <fieldname="company_id"invisible="1"/>
                                    <fieldname="sequence"widget="handle"/>
                                    <fieldname="product_id"context="{'default_type':'product'}"/>
                                    <fieldname="product_tmpl_id"invisible="1"/>
                                    <buttonname="action_see_attachments"type="object"icon="fa-files-o"aria-label="ProductAttachments"title="ProductAttachments"class="float-rightoe_read_only"/>
                                    <fieldname="attachments_count"class="text-leftoe_read_only"
                                    string=""/>
                                    <fieldname="product_qty"/>
                                    <fieldname="product_uom_category_id"invisible="1"/>
                                    <fieldname="parent_product_tmpl_id"invisible="1"/>
                                    <fieldname="possible_bom_product_template_attribute_value_ids"invisible="1"/>
                                    <fieldname="product_uom_id"options="{'no_open':True,'no_create':True}"groups="uom.group_uom"/>
                                    <fieldname="bom_product_template_attribute_value_ids"optional="hide"widget="many2many_tags"options="{'no_create':True}"attrs="{'column_invisible':[('parent.product_id','!=',False)]}"groups="product.group_product_variant"/>
                                    <fieldname="allowed_operation_ids"invisible="1"/>
                                    <fieldname="operation_id"groups="mrp.group_mrp_routings"optional="hidden"attrs="{'column_invisible':[('parent.type','notin',('normal','phantom'))]}"options="{'no_quick_create':True,'no_create_edit':True}"/>
                                </tree>
                            </field>
                        </page>
                        <pagestring="Operations"
                            name="operations"
                            attrs="{'invisible':[('type','notin',('normal','phantom'))]}"
                            groups="mrp.group_mrp_routings">
                                <fieldname="operation_ids"
                                    attrs="{'invisible':[('type','notin',('normal','phantom'))]}"
                                    groups="mrp.group_mrp_routings"
                                    context="{'bom_id_invisible':True,'default_company_id':company_id,'default_product_tmpl_ids':[product_tmpl_id]}"/>
                        </page>
                        <pagestring="By-products"
                            name="by_products"
                            attrs="{'invisible':[('type','!=','normal')]}"
                            groups="mrp.group_mrp_byproducts">
                            <fieldname="byproduct_ids" context="{'form_view_ref':'mrp.mrp_bom_byproduct_form_view','default_company_id':company_id,'default_bom_id':id}">
                                <treestring="By-products" editable="top">
                                    <fieldname="company_id"invisible="1"/>
                                    <fieldname="product_id"context="{'default_type':'product'}"/>
                                    <fieldname="product_qty"/>
                                    <fieldname="product_uom_id"groups="uom.group_uom"/>
                                    <fieldname="allowed_operation_ids"invisible="1"/>
                                    <fieldname="operation_id"groups="mrp.group_mrp_routings"options="{'no_quick_create':True,'no_create_edit':True}"/>
                                </tree>
                           </field>
                       </page>
                        <pagestring="Miscellaneous"name="miscellaneous">
                            <group>
                                <group>
                                    <fieldname="ready_to_produce"attrs="{'invisible':[('type','=','phantom')]}"string="ManufacturingReadiness"widget="radio"groups="mrp.group_mrp_routings"/>
                                    <fieldname="consumption"attrs="{'invisible':[('type','=','phantom')]}"widget="radio"/>
                                </group>
                                <group>
                                    <fieldname="picking_type_id"attrs="{'invisible':[('type','=','phantom')]}"string="Operation"groups="stock.group_adv_location"/>
                                </group>
                            </group>
                        </page>
                    </notebook>
                    </sheet>
                    <divclass="oe_chatter">
                         <fieldname="message_follower_ids"/>
                         <fieldname="message_ids"colspan="4"nolabel="1"/>
                    </div>
                </form>
            </field>
        </record>

        <recordid="mrp_bom_tree_view"model="ir.ui.view">
            <fieldname="name">mrp.bom.tree</field>
            <fieldname="model">mrp.bom</field>
            <fieldname="arch"type="xml">
                <treestring="BillofMaterials"sample="1">
                    <fieldname="active"invisible="1"/>
                    <fieldname="sequence"widget="handle"/>
                    <fieldname="product_tmpl_id"/>
                    <fieldname="code"optional="show"/>
                    <fieldname="type"/>
                    <fieldname="product_id"groups="product.group_product_variant"optional="hide"/>
                    <fieldname="company_id"groups="base.group_multi_company"optional="show"/>
                    <fieldname="product_qty"optional="hide"/>
                    <fieldname="product_uom_id"groups="uom.group_uom"optional="hide"string="UnitofMeasure"/>
                </tree>
            </field>
        </record>

        <recordid="mrp_bom_kanban_view"model="ir.ui.view">
            <fieldname="name">mrp.bom.kanban</field>
            <fieldname="model">mrp.bom</field>
            <fieldname="arch"type="xml">
                <kanbanclass="o_kanban_mobile"sample="1">
                    <fieldname="product_tmpl_id"/>
                    <fieldname="product_qty"/>
                    <fieldname="product_uom_id"/>
                    <templates>
                        <tt-name="kanban-box">
                            <divt-attf-class="oe_kanban_global_click">
                                <divclass="o_kanban_record_top">
                                    <divclass="o_kanban_record_headingsmt4">
                                        <strongclass="o_kanban_record_title"><spanclatt="mt4"><fieldname="product_tmpl_id"/></span></strong>
                                    </div>
                                    <spanclass="float-rightbadgebadge-pill"><tt-esc="record.product_qty.value"/><small><tt-esc="record.product_uom_id.value"/></small></span>
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>

        <recordid="view_mrp_bom_filter"model="ir.ui.view">
            <fieldname="name">mrp.bom.select</field>
            <fieldname="model">mrp.bom</field>
            <fieldname="arch"type="xml">
                <searchstring="SearchBillOfMaterial">
                    <fieldname="code"string="BillofMaterials"filter_domain="['|',('code','ilike',self),('product_tmpl_id','ilike',self)]"/>
                    <fieldname="product_tmpl_id"string="Product"/>
                    <fieldname="bom_line_ids"string="Component"/>
                    <filterstring="Manufacturing"name="normal"domain="[('type','=','normal')]"/>
                    <filterstring="Kit"name="phantom"domain="[('type','=','phantom')]"/>
                    <separator/>
                    <filterstring="Archived"name="inactive"domain="[('active','=',False)]"/>
                    <groupexpand="0"string="GroupBy...">
                        <filterstring="Product"name="product"domain="[]"context="{'group_by':'product_tmpl_id'}"/>
                        <filterstring='BoMType'name="group_by_type"domain="[]"context="{'group_by':'type'}"/>
                        <filterstring='UnitofMeasure'name="default_unit_of_measure"domain="[]"context="{'group_by':'product_uom_id'}"/>
                   </group>
                </search>
            </field>
        </record>

        <recordid="mrp_bom_form_action"model="ir.actions.act_window">
            <fieldname="name">BillsofMaterials</field>
            <fieldname="type">ir.actions.act_window</field>
            <fieldname="res_model">mrp.bom</field>
            <fieldname="domain">[]</field><!--forceempty-->
            <fieldname="view_mode">tree,kanban,form</field>
            <fieldname="search_view_id"ref="view_mrp_bom_filter"/>
            <fieldname="context">{'default_company_id':allowed_company_ids[0]}</field>
            <fieldname="help"type="html">
              <pclass="o_view_nocontent_smiling_face">
                Nobillofmaterialsfound.Let'screateone!
              </p><p>
                Billsofmaterialsallowyoutodefinethelistofrequiredraw
                materialsusedtomakeafinishedproduct;throughamanufacturing
                orderorapackofproducts.
              </p>
            </field>
        </record>

        <menuitemid="menu_mrp_bom_form_action"
            action="mrp_bom_form_action"
            parent="menu_mrp_bom"
            sequence="13"/>

        <!--BOMLine-->
        <recordid="mrp_bom_line_view_form"model="ir.ui.view">
            <fieldname="name">mrp.bom.line.view.form</field>
            <fieldname="model">mrp.bom.line</field>
            <fieldname="arch"type="xml">
                <formstring="BillofMaterialline"create="0"edit="0">
                    <sheet>
                        <group>
                            <groupstring="Component">
                                <fieldname="product_id"/>
                                <fieldname="parent_product_tmpl_id"invisible="1"/>
                                <labelfor="product_qty"string="Quantity"/>
                                <divclass="o_row">
                                    <fieldname="product_qty"/>
                                    <fieldname="product_uom_category_id"invisible="1"/>
                                    <fieldname="product_uom_id"options="{'no_open':True,'no_create':True}"groups="uom.group_uom"/>
                                </div>
                                <fieldname="possible_bom_product_template_attribute_value_ids"invisible="1"/>
                                <fieldname="bom_product_template_attribute_value_ids"widget="many2many_tags"options="{'no_create':True}"groups="product.group_product_variant"/>
                            </group>
                            <groupstring="Operation">
                                <fieldname="company_id"invisible="1"/>
                                <fieldname="sequence"groups="base.group_no_one"/>
                                <fieldname="allowed_operation_ids"invisible="1"/>
                                <fieldname="operation_id"groups="mrp.group_mrp_routings"/>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <recordid="template_open_bom"model="ir.actions.act_window">
            <fieldname="context">{'default_product_tmpl_id':active_id,'search_default_product_tmpl_id':active_id}</field>
            <fieldname="name">BillofMaterials</field>
            <fieldname="res_model">mrp.bom</field>
        </record>

        <recordid="product_open_bom"model="ir.actions.act_window">
            <fieldname="context">{'default_product_id':active_id,'search_default_product_id':active_id}</field>
            <fieldname="name">BillofMaterials</field>
            <fieldname="res_model">mrp.bom</field>
            <fieldname="domain">[]</field><!--Forceempty-->
        </record>
    </data>
</flectra>
