<?xmlversion="1.0"?>
<flectra>

    <recordid="product_supplierinfo_tree_view_inherit"model="ir.ui.view">
        <fieldname="name">product.template.product.form.inherit</field>
        <fieldname="model">product.supplierinfo</field>
        <fieldname="inherit_id"ref="product.product_supplierinfo_tree_view"/>
        <fieldname="arch"type="xml">
          <xpathexpr="//field[@name='product_id']"position="after">
              <fieldname="purchase_requisition_id"readonly="1"optional="hide"/>
          </xpath>
        </field>
    </record>

    <recordid="supplier_info_form_inherit"model="ir.ui.view">
        <fieldname="name">product.supplierinfo.requisition.view</field>
        <fieldname="model">product.supplierinfo</field>
        <fieldname="priority">20</field>
        <fieldname="inherit_id"ref="product.product_supplierinfo_form_view"/>
        <fieldname="arch"type="xml">
            <fieldname="product_code"position="after">
                <fieldname="purchase_requisition_id"
                    attrs="{'invisible':[('purchase_requisition_id','=',False)]}"/>
            </field>
        </field>
    </record>

    <recordid="product_template_form_view_inherit"model="ir.ui.view">
        <fieldname="name">product.template.form.inherit</field>
        <fieldname="model">product.template</field>
        <fieldname="inherit_id"ref="purchase.view_product_supplier_inherit"/>
        <fieldname="arch"type="xml">
            <groupname="bill"position="before">
                <groupstring="Reordering"attrs="{'invisible':[('type','=','service')]}">
                    <fieldname="purchase_requisition"widget="radio"/>
                </group>
            </group>
        </field>
    </record>

    <recordid="act_res_partner_2_purchase_order"model="ir.actions.act_window">
        <fieldname="name">Purchaseorders</field>
        <fieldname="res_model">purchase.order</field>
        <fieldname="domain">[('requisition_id','=',active_id)]</field>
        <fieldname="context">{'default_requisition_id':active_id}</field>
        <fieldname="binding_model_id"ref="model_purchase_requisition"/>
        <fieldname="binding_view_types">form</field>
    </record>

</flectra>
