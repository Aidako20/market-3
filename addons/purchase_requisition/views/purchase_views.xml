<?xmlversion="1.0"?>
<flectra>

    <recordid="purchase_order_form_inherit"model="ir.ui.view">
        <fieldname="name">purchase.order.form.inherit</field>
        <fieldname="model">purchase.order</field>
        <fieldname="inherit_id"ref="purchase.purchase_order_form"/>
        <fieldname="arch"type="xml">
            <fieldname="partner_id"position="replace">
                <fieldname="is_quantity_copy"invisible="1"/>
                <fieldname="partner_id"widget="res_partner_many2one"context="{'res_partner_search_mode':'supplier','show_vat':True}"attrs="{'readonly':['|',('is_quantity_copy','=','none'),('state','in',['purchase','done','cancel'])]}"placeholder="Name,TIN,Email,orReference"force_save="1"/>
                </field>
                <fieldname="partner_ref"position="after">
                <fieldname="requisition_id"domain="[('state','in',('in_progress','open','ongoing')),('vendor_id','in',(partner_id,False)),('company_id','=',company_id)]"/>
            </field>
        </field>
    </record>

    <recordid="purchase_order_search_inherit"model="ir.ui.view">
        <fieldname="name">purchase.order.list.select.inherit</field>
        <fieldname="model">purchase.order</field>
        <fieldname="inherit_id"ref="purchase.view_purchase_order_filter"/>
        <fieldname="arch"type="xml">
            <xpathexpr="//filter[@name='approved']"position="after">
                <filterstring="Requisition"name="requisition"domain="[('requisition_id','!=',False)]" help="PurchaseOrderswithrequisition"/>
            </xpath>
        </field>
    </record>

</flectra>
