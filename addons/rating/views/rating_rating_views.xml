<?xmlversion="1.0"encoding="utf-8"?>
<flectra>

        <recordid="rating_rating_view_tree"model="ir.ui.view">
            <fieldname="name">rating.rating.tree</field>
            <fieldname="model">rating.rating</field>
            <fieldname="arch"type="xml">
                <treestring="Rating"create="false"edit="false"sample="1">
                    <fieldname="res_name"/>
                    <fieldname="parent_res_name"/>
                    <fieldname="rated_partner_id"/>
                    <fieldname="partner_id"/>
                    <fieldname="rating_text"decoration-danger="rating_text=='highly_dissatisfied'"decoration-warning="rating_text=='not_satisfied'"decoration-success="rating_text=='satisfied'"/>
                    <fieldname="feedback"/>
                    <fieldname="create_date"/>
                </tree>
            </field>
        </record>

        <recordid="rating_rating_view_form"model="ir.ui.view">
            <fieldname="name">rating.rating.form</field>
            <fieldname="model">rating.rating</field>
            <fieldname="arch"type="xml">
                <formstring="Rating"create="false">
                    <sheet>
                        <group>
                            <group>
                                <fieldname="resource_ref"string="Document"/>
                                <fieldname="res_name"string="Document"invisible="1"/>
                                <fieldname="parent_ref"string="ParentHolder"/>
                                <fieldname="parent_res_name"string="ParentHolder"invisible="1"/>
                                <fieldname="rated_partner_id"/>
                                <fieldname="rating"invisible="1"/>
                                <fieldname="is_internal"/>
                            </group>
                            <group>
                                <fieldname="partner_id"/>
                                <divcolspan="2"class="text-center"name="rating_image_container">
                                    <fieldname="rating_image"widget='image'/>
                                    <divclass="mt4">
                                        <strong><fieldname="rating_text"/></strong>
                                    </div>
                                </div>
                                <fieldname="create_date"/>
                                <fieldname="feedback"attrs="{'invisible':[('feedback','=',False)]}"/>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <recordid="rating_rating_view_kanban"model="ir.ui.view">
            <fieldname="name">rating.rating.kanban</field>
            <fieldname="model">rating.rating</field>
            <fieldname="arch"type="xml">
                <kanbancreate="false"sample="1">
                    <fieldname="rating"/>
                    <fieldname="res_name"/>
                    <fieldname="feedback"/>
                    <fieldname="partner_id"/>
                    <templates>
                        <tt-name="kanban-box">
                            <divclass="oe_kanban_global_click">
                                <divclass="o_kanban_image">
                                    <fieldname="rating_image"widget="image"/>
                                </div>
                                <divclass="oe_kanban_details">
                                    <strong>
                                        <fieldname="rated_partner_id"/>
                                    </strong>
                                    <ul>
                                        <lit-if="record.partner_id.value">
                                            <spanclass="o_text_overflow">
                                                by
                                                <spant-att-title="record.partner_id.value">
                                                    <fieldname="partner_id"/>
                                                </span>
                                            </span>
                                        </li>
                                        <li>
                                            <spanclass="o_text_overflow">
                                                for
                                                <atype="object"name="action_open_rated_object"t-att-title="record.res_name.raw_value">
                                                    <fieldname="res_name"/>
                                                </a>
                                            </span>
                                        </li>
                                        <li>
                                            on<fieldname="create_date"/>
                                        </li>
                                    </ul>
                                    <it-if="record.feedback.raw_value"class="fafa-commentfloat-rightmt4"t-att-title="record.feedback.raw_value" t-att-aria-label="record.feedback.raw_value"role="img"/>
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>

        <recordid="rating_rating_view_pivot"model="ir.ui.view">
            <fieldname="name">rating.rating.pivot</field>
            <fieldname="model">rating.rating</field>
            <fieldname="arch"type="xml">
                <pivotstring="RatingAverage"display_quantity="true"sample="1">
                    <fieldname="rated_partner_id"type="row"/>
                    <fieldname="create_date"type="col"/>
                    <fieldname="rating"type="measure"/>
                </pivot>
            </field>
        </record>

        <recordid="rating_rating_view_graph"model="ir.ui.view">
           <fieldname="name">rating.rating.graph</field>
           <fieldname="model">rating.rating</field>
           <fieldname="arch"type="xml">
                <graphstring="RatingAverage"type="bar"sample="1">
                    <fieldname="create_date"type="row"/>
                    <fieldname="rating"type="measure"/>
                </graph>
            </field>
        </record>

        <recordid="rating_rating_view_search"model="ir.ui.view">
            <fieldname="name">rating.rating.search</field>
            <fieldname="model">rating.rating</field>
            <fieldname="arch"type="xml">
                <searchstring="Ratings">
                    <fieldname="rated_partner_id"/>
                    <fieldname="rating"/>
                    <fieldname="partner_id"/>
                    <fieldname="res_name"filter_domain="[('res_name','ilike',self)]"/>
                    <fieldname="res_id"/>
                    <fieldname="parent_res_name"filter_domain="[('parent_res_name','ilike',self)]"/>
                    <filterstring="Satisfied"name="rating_happy"domain="[('rating_text','=','satisfied')]"/>
                    <filterstring="Notsatisfied"name="rating_okay"domain="[('rating_text','=','not_satisfied')]"/>
                    <filterstring="Highlydissatisfied"name="rating_unhappy"domain="[('rating_text','=','highly_dissatisfied')]"/>
                    <separator/>
                    <filterstring="MyRatings"name="my_ratings"domain="[('rated_partner_id.user_ids','in',[uid])]"/>
                    <separator/>
                    <filtername="filter_create_date"date="create_date"/>
                    <groupexpand="0"string="GroupBy">
                        <filterstring="RatedOperator"name="responsible"context="{'group_by':'rated_partner_id'}"/>
                        <filterstring="Customer"name="customer"context="{'group_by':'partner_id'}"/>
                        <filterstring="Rating"name="rating_text"context="{'group_by':'rating_text'}"/>
                        <filterstring="Resource"name="resource"context="{'group_by':'res_name'}"/>
                        <filterstring="Date"name="month"context="{'group_by':'create_date:month'}"/>
                    </group>
                </search>
            </field>
        </record>

        <recordid="rating_rating_view"model="ir.actions.act_window">
            <fieldname="name">Ratings</field>
            <fieldname="res_model">rating.rating</field>
            <fieldname="view_mode">kanban,tree,graph,pivot,form</field>
            <fieldname="help"type="html">
                <pclass="o_view_nocontent_empty_folder">
                    Noratingyet
                </p><p>
                    Thereisnoratingforthisobjectatthemoment.
                </p>
            </field>
        </record>

        <!--AddmenuentryinTechnical/Discuss-->
        <menuitemname="Ratings"
            id="rating_rating_menu_technical"
            parent="mail.mail_menu_technical"
            action="rating_rating_view"
            sequence="30"/>

</flectra>
