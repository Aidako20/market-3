<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
    <recordid="act_product_location_open"model="ir.actions.act_window">
        <fieldname="name">Products</field>
        <fieldname="res_model">product.product</field>
        <fieldname="context">{'location':active_id,'search_default_real_stock_available':1,'search_default_virtual_stock_available':1,
                    'search_default_virtual_stock_negative':1,'search_default_real_stock_negative':1,'create':False}</field>
        <fieldname="binding_model_id"ref="model_stock_location"/>
        <fieldname="binding_view_types">form</field>
        <fieldname="search_view_id"ref="stock.stock_product_search_form_view"/>
    </record>

    <recordid="view_location_form"model="ir.ui.view">
        <fieldname="name">stock.location.form</field>
        <fieldname="model">stock.location</field>
        <fieldname="arch"type="xml">
            <formstring="StockLocation"create="false">
                <sheet>
                    <divclass="oe_button_box"name="button_box">
                        <buttonstring="PutawayRules"
                                class="oe_stat_button"
                                icon="fa-random"name="%(location_open_putaway)d"type="action"
                                groups="stock.group_stock_multi_locations"context="{'default_company_id':company_id}"/>
                        <buttonstring="CurrentStock"
                                class="oe_stat_button"
                                icon="fa-cubes"name="%(location_open_quants)d"type="action"/>
                    </div>
                    <widgetname="web_ribbon"title="Archived"bg_color="bg-danger"attrs="{'invisible':[('active','=',True)]}"/>
                    <labelfor="name"class="oe_edit_only"/>
                    <h1><fieldname="name"/></h1>
                    <labelfor="location_id"class="oe_edit_only"/>
                    <h2><fieldname="location_id"options="{'no_create':True}"/></h2>

                    <group>
                        <groupstring="AdditionalInformation"name="additional_info">
                            <fieldname="active"invisible="1"/>
                            <fieldname="usage"/>
                            <fieldname="company_id"groups="base.group_multi_company"options="{'no_create':True}"/>
                            <fieldname="scrap_location"attrs="{'invisible':[('usage','notin',('inventory','internal'))]}"/>
                            <fieldname="return_location"/>
                        </group>
                        <groupstring="Logistics"groups="stock.group_adv_location">
                            <fieldname="removal_strategy_id"options="{'no_create':True}"/>
                        </group>
                    </group>
                    <fieldname="comment"placeholder="Externalnote..."/>
                </sheet>
            </form>
        </field>
    </record>

    <recordid="stock_location_view_form_editable"model="ir.ui.view">
        <fieldname="name">stock.location.form.editable</field>
        <fieldname="model">stock.location</field>
        <fieldname="inherit_id"ref="stock.view_location_form"/>
        <fieldname="groups_id"eval="[(4,ref('stock.group_stock_multi_locations'))]"/>
        <fieldname="arch"type="xml">
            <xpathexpr="//form"position="attributes">
                <attributename="create">true</attribute>
            </xpath>
        </field>
    </record>

    <recordid="view_location_search"model="ir.ui.view">
        <fieldname="name">stock.location.search</field>
        <fieldname="model">stock.location</field>
        <fieldname="arch"type="xml">
            <searchstring="StockLocations">
                <fieldname="complete_name"string="StockLocations"/>
                <filtername="in_location"string="Internal"domain="[('usage','=','internal')]"help="InternalLocations"/>
                <filtername="customer"string="Customer"domain="[('usage','=','customer')]"help="CustomerLocations"/>
                <filtername="prod_inv_location"string="Production"domain="[('usage','in',['inventory','production'])]"help="ProductionLocations"/>
                <filtername="supplier"string="Vendor"domain="[('usage','=','supplier')]"help="VendorLocations"/>
                <fieldname="location_id"string="ParentLocation"/>
                <separator/>
                <filterstring="Archived"name="inactive"domain="[('active','=',False)]"/>
            </search>
        </field>
    </record>

    <recordid="view_location_tree2"model="ir.ui.view">
        <fieldname="name">stock.location.tree</field>
        <fieldname="model">stock.location</field>
        <fieldname="priority"eval="2"/>
        <fieldname="arch"type="xml">
            <treestring="StockLocation"decoration-info="usage=='view'"decoration-danger="usage=='internal'"create="false">
                <fieldname="active"invisible="1"/>
                <fieldname="complete_name"string="Location"/>
                <fieldname="usage"/>
                <fieldname="company_id"groups="base.group_multi_company"/>
            </tree>
        </field>
    </record>

    <recordid="stock_location_view_tree2_editable"model="ir.ui.view">
        <fieldname="name">stock.location.tree2.editable</field>
        <fieldname="model">stock.location</field>
        <fieldname="inherit_id"ref="stock.view_location_tree2"/>
        <fieldname="groups_id"eval="[(4,ref('stock.group_stock_multi_locations'))]"/>
        <fieldname="arch"type="xml">
            <xpathexpr="//tree"position="attributes">
                <attributename="create">true</attribute>
            </xpath>
        </field>
    </record>

    <recordid="action_location_form"model="ir.actions.act_window">
        <fieldname="name">Locations</field>
        <fieldname="res_model">stock.location</field>
        <fieldname="type">ir.actions.act_window</field>
        <fieldname="view_mode">tree,form</field>
        <fieldname="view_id"ref="view_location_tree2"/>
        <fieldname="search_view_id"ref="view_location_search"/>
        <fieldname="context">{'search_default_in_location':1}</field>
        <fieldname="help"type="html">
          <pclass="o_view_nocontent_smiling_face">
            Addanewlocation
          </p><p>
            Defineyourlocationstoreflectyourwarehousestructureand
            organization.Flectraisabletomanagephysicallocations
            (warehouses,shelves,bin,etc),partnerlocations(customers,
            vendors)andvirtuallocationswhicharethecounterpartof
            thestockoperationslikethemanufacturingorders
            consumptions,inventories,etc.
          </p><p>
            EverystockoperationinFlectramovestheproductsfromone
            locationtoanotherone. Forinstance,ifyoureceiveproducts
            fromavendor,FlectrawillmoveproductsfromtheVendor
            locationtotheStocklocation.Eachreportcanbeperformedon
            physical,partnerorvirtuallocations.
          </p>
        </field>
    </record>
    <recordid="action_prod_inv_location_form"model="ir.actions.act_window">
        <fieldname="name">Locations</field>
        <fieldname="res_model">stock.location</field>
        <fieldname="type">ir.actions.act_window</field>
        <fieldname="view_mode">tree,form</field>
        <fieldname="view_id"ref="view_location_tree2"/>
        <fieldname="search_view_id"ref="view_location_search"/>
        <fieldname="context">{'search_default_prod_inv_location':1}</field>
    </record>

    <menuitemaction="action_location_form"id="menu_action_location_form"
        parent="menu_warehouse_config"sequence="2"groups="stock.group_stock_multi_locations"/>

        <!--Routes-->
        <recordid="stock_location_route_tree"model="ir.ui.view">
            <fieldname="name">stock.location.route.tree</field>
            <fieldname="model">stock.location.route</field>
            <fieldname="arch"type="xml">
                <treestring="Routes">
                    <fieldname="sequence"widget="handle"/>
                    <fieldname="name"/>
                    <fieldname="active"invisible="1"/>
                    <fieldname="company_id"groups="base.group_multi_company"/>
                </tree>
            </field>
        </record>

        <recordid="stock_location_route_form_view"model="ir.ui.view">
            <fieldname="name">stock.location.route.form</field>
            <fieldname="model">stock.location.route</field>
            <fieldeval="7"name="priority"/>
            <fieldname="arch"type="xml">
                <formstring="Route">
                    <sheet>
                        <widgetname="web_ribbon"title="Archived"bg_color="bg-danger"attrs="{'invisible':[('active','=',True)]}"/>
                        <divclass="oe_title">
                            <labelfor="name"class="oe_edit_only"/>
                            <h1><fieldname="name"/></h1>
                        </div>
                    <group>
                        <group>
                            <fieldname="sequence"string="Sequence"groups="base.group_no_one"/>
                            <fieldname="active"invisible="1"/>
                            <fieldname="company_id"groups="base.group_multi_company"options="{'no_create':True}"/>
                        </group>
                    </group>
                    <separatorstring="ApplicableOn"/>
                    <pclass="oe_grey">Selecttheplaceswherethisroutecanbeselected</p>
                    <group>
                        <group>
                            <labelfor="product_categ_selectable"string="ProductCategories"/>
                            <div>
                                <fieldname="product_categ_selectable"class="oe_inline"/>
                            </div>
                            <labelfor="product_selectable"string="Products"/>
                            <div>
                                <fieldname="product_selectable"class="oe_inline"/>
                            </div>
                        </group>
                        <group>
                            <fieldname="warehouse_selectable"string="Warehouses"/>
                            <fieldname="warehouse_domain_ids"invisible="1"/>
                            <fieldname="warehouse_ids" widget="many2many_tags"nolabel="1"
                                   attrs="{'invisible':[('warehouse_selectable','=',False)]}"/>
                        </group>
                    </group>
                    <groupstring="Rules"colspan="4">
                        <fieldname="rule_ids"colspan="4"nolabel="1"context="{'default_company_id':company_id,'form_view_ref':'stock.view_route_rule_form'}">
                            <tree>
                                <fieldname="sequence"widget="handle"/>
                                <fieldname="action"/>
                                <fieldname="location_src_id"options="{'no_create':True}"/>
                                <fieldname="location_id"options="{'no_create':True}"/>
                            </tree>
                        </field>
                    </group>
                    </sheet>
                </form>
            </field>
        </record>

        <recordid="stock_location_route_view_search"model="ir.ui.view">
            <fieldname="name">stock.location.route.search</field>
            <fieldname="model">stock.location.route</field>
            <fieldname="arch"type="xml">
                <searchstring="Route">
                    <fieldname="name"/>
                    <filterstring="Archived"name="inactive"domain="[('active','=',False)]"/>
                </search>
            </field>
        </record>

        <recordid="action_routes_form"model="ir.actions.act_window">
            <fieldname="name">Routes</field>
            <fieldname="res_model">stock.location.route</field>
            <fieldname="type">ir.actions.act_window</field>
            <fieldname="view_mode">tree,form</field>
            <fieldname="view_id"ref="stock_location_route_tree"/>
            <fieldname="help"type="html">
              <pclass="o_view_nocontent_smiling_face">
                Addanewroute
              </p><p>
                Youcandefineherethemainroutesthatrunthrough
                yourwarehousesandthatdefinetheflowsofyourproducts.These
                routescanbeassignedtoaproduct,aproductcategoryorbefixed
                onprocurementorsalesorder.
              </p>
            </field>
        </record>

        <menuitemid="menu_routes_config"action="action_routes_form"name="Routes"parent="menu_warehouse_config"sequence="3"groups="stock.group_adv_location"/>

</flectra>
