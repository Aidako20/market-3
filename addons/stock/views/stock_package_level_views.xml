<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
    <recordid="package_level_form_view"model="ir.ui.view">
        <fieldname="name">PackageLevel</field>
        <fieldname="model">stock.package_level</field>
        <fieldname="arch"type="xml">
            <formcreate="false"edit="false">
                <header>
                    <fieldname="state"widget="statusbar"statusbar_visible="draft,confirmed,assigned,done"/>
                </header>
                <group>
                    <fieldname="picking_id"invisible="1"/>
                    <fieldname="show_lots_m2o"invisible="1"/>
                    <fieldname="show_lots_text"invisible="1"/>
                    <fieldname="picking_type_code"invisible="1"/>
                    <group>
                        <fieldname="package_id"/>
                        <fieldname="location_id"options="{'no_create':True}"attrs="{'invisible':[('picking_type_code','=','incoming')]}"groups="stock.group_stock_multi_locations"/>
                        <fieldname="location_dest_id"options="{'no_create':True}"attrs="{'invisible':[('picking_type_code','=','outgoing')]}"groups="stock.group_stock_multi_locations"/>
                        <fieldname="is_done"/>
                        <fieldname="company_id"groups="base.group_multi_company"/>
                    </group>
                    <fieldname="move_ids"attrs="{'invisible':[('state','in',('new','draft','assigned','done'))]}">
                        <tree>
                            <fieldname="product_id"/>
                            <fieldname="product_uom_qty"/>
                            <fieldname="quantity_done"/>
                            <fieldname="product_uom"groups="uom.group_uom"/>
                            <fieldname="state"invisible="1"/>
                        </tree>
                    </field>
                    <fieldname="move_line_ids"attrs="{'invisible':[('state','in',('confirmed','cancel'))]}">
                        <tree>
                            <fieldname="product_id"/>
                            <fieldname="lot_id"attrs="{'column_invisible':[('parent.show_lots_m2o','=',False)]}"groups="stock.group_production_lot"/>
                            <fieldname="lot_name"attrs="{'column_invisible':[('parent.show_lots_text','=',False)]}"groups="stock.group_production_lot"/>
                            <fieldname="owner_id"groups="stock.group_tracking_owner"/>
                            <fieldname="product_uom_qty"/>
                            <fieldname="qty_done"/>
                            <fieldname="product_uom_id"options="{'no_open':True,'no_create':True}"attrs="{'readonly':[('product_uom_qty','!=',0.0)]}"string="UnitofMeasure"groups="uom.group_uom"/>
                            <fieldname="state"invisible="1"/>
                        </tree>
                    </field>
                </group>
            </form>
        </field>
    </record>


    <recordid="package_level_form_edit_view"model="ir.ui.view">
        <fieldname="name">PackageLevel</field>
        <fieldname="model">stock.package_level</field>
        <fieldname="inherit_id"ref="stock.package_level_form_view"/>
        <fieldname="mode">primary</field>
        <fieldname="arch"type="xml">
            <xpathexpr='//form'position='inside'>
                <footerclass="oe_edit_only">
                    <buttonstring="Confirm"special="save"class="oe_highlight"/>
                    <buttonstring="Discard"special="cancel"/>
                </footer>
            </xpath>
        </field>
    </record>

    <recordid="package_level_tree_view_picking"model="ir.ui.view">
        <fieldname="name">PackageLevelTreePicking</field>
        <fieldname="model">stock.package_level</field>
        <fieldname="priority">1000</field>
        <fieldname="arch"type="xml">
            <treeeditable="bottom"decoration-muted="state=='done'">
                <fieldname="is_fresh_package"invisible="1"/>
                <fieldname="company_id"invisible="1"/>
                <fieldname="package_id"attrs="{'readonly':[('state','in',('confirmed','assigned','done','cancel'))]}"options="{'no_create':True}"/>
                <fieldname="location_id"options="{'no_create':True}"attrs="{'column_invisible':[('parent.picking_type_code','=','incoming')]}"groups="stock.group_stock_multi_locations"/>
                <fieldname="location_dest_id"options="{'no_create':True}" attrs="{'column_invisible':[('parent.picking_type_code','=','outgoing')]}"groups="stock.group_stock_multi_locations"/>
                <fieldname="state"/>
                <fieldname="is_done"attrs="{'readonly':['|',('parent.state','in',('draft','new','done')),('is_fresh_package','=',True)]}"/>
                <buttonname="action_show_package_details"title="Displaypackagecontent"type="object"icon="fa-list"/>
            </tree>
        </field>
    </record>
</flectra>
