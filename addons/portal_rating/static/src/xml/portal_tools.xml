<?xmlversion="1.0"encoding="UTF-8"?>
<templatesid="template"xml:space="preserve">
    <tt-name="portal_rating.rating_stars_static">
        <tt-set="val_integer"t-value="Math.floor(val)"/>
        <tt-set="val_decimal"t-value="val-val_integer"/>
        <tt-set="empty_star"t-value="5-(val_integer+Math.ceil(val_decimal))"/>
        <divclass="o_website_rating_static"t-att-style="inline_mode?'display:inline':''"t-attf-aria-label="#{val}starson5"t-attf-title="#{val}starson5">
            <tt-foreach="_.range(0,val_integer)"t-as="num">
                <iclass="fafa-star"role="img"></i>
            </t>
            <tt-if="val_decimal">
                <iclass="fafa-star-half-o"role="img"></i>
            </t>
            <tt-foreach="_.range(0,empty_star)"t-as="num">
                <iclass="fafa-startext-black-25"role="img"></i>
            </t>
        </div>
    </t>

    <tt-name="portal_rating.rating_card">
        <divclass="rowo_website_rating_card_container">
            <divclass="col-lg-3offset-lg-2"t-if="!_.isEmpty(widget.get('rating_card_values'))">
                <p><strong>Average</strong></p>
                <divclass="o_website_rating_avgtext-center">
                    <h1><tt-esc="widget.get('rating_card_values')['avg']"/></h1>
                    <tt-call="portal_rating.rating_stars_static">
                        <tt-set="val"t-value="widget.get('rating_card_values')['avg']||0"/>
                    </t>
                    <tt-call="portal.chatter_message_count"/>
                </div>
            </div>
            <divclass="col-lg-6"t-if="!_.isEmpty(widget.get('rating_card_values'))">
                <p><strong>Details</strong></p>
                <divclass="o_website_rating_progress_bars">
                    <tableclass="o_website_rating_progress_table">
                        <tt-foreach="widget.get('rating_card_values')['percent']"t-as="percent">
                            <trclass="o_website_rating_select"t-att-data-star="percent['num']"style="opacity:1">
                                <tdclass="o_website_rating_table_star_num"t-att-data-star="percent['num']">
                                    <tt-esc="percent['num']"/>stars
                                </td>
                                <tdclass="o_website_rating_table_progress">
                                    <divclass="progress">
                                        <divclass="progress-baro_rating_progressbar"role="progressbar"t-att-aria-valuenow="percent['percent']"aria-valuemin="0"aria-valuemax="100"t-att-style="'width:'+percent['percent']+'%;'">
                                        </div>
                                    </div>
                                </td>
                                <tdclass="o_website_rating_table_percent">
                                    <strong><tt-esc="Math.round(percent['percent']*100)/100"/>%</strong>
                                </td>
                                <tdclass="o_website_rating_table_reset">
                                    <buttonclass="btnbtn-linko_website_rating_select_text"t-att-data-star="percent['num']">
                                        <iclass="fafa-timesd-blockd-sm-none"role="img"aria-label="RemoveSelection"/>
                                        <spanclass="d-noned-sm-block">RemoveSelection</span>
                                    </button>
                                </td>
                            </tr>
                        </t>
                    </table>
                </div>
            </div>
        </div>
    </t>

    <tt-name="portal_rating.rating_star_input">
        <divclass="o_rating_star_card"t-if="widget.options['display_rating']">
            <tt-set="val_integer"t-value="Math.floor(default_rating)"/>
            <tt-set="val_decimal"t-value="default_rating-val_integer"/>
            <tt-set="empty_star"t-value="5-(val_integer+Math.ceil(val_decimal))"/>

            <divclass="starsenabled">
                <tt-foreach="_.range(0,val_integer)"t-as="num">
                    <iclass="fafa-star"role="img"aria-label="Onestar"title="Onestar"></i>
                </t>
                <tt-if="val_decimal">
                    <iclass="fafa-star-half-o"role="img"aria-label="Halfastar"title="Halfastar"></i>
                </t>
                <tt-foreach="_.range(0,empty_star)"t-as="num"role="img"t-attf-aria-label="#{empty_star}on5"t-attf-title="#{empty_star}on5">
                    <iclass="fafa-star-otext-black-25"></i>
                </t>
            </div>
            <divclass="rate_text">
                <spanclass="badgebadge-info"></span>
            </div>
            <inputtype="hidden"readonly="readonly"name="rating_value"t-att-value="default_rating||''"/>
        </div>
    </t>
</templates>
