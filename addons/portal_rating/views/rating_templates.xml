<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
    <!--
        Ratingwidgetstatic:show5stars(fullorempty)regardingthegivenrating_avgandrating_count
    -->
    <templateid="rating_widget_stars_static"name="Rating:staticstarwidget">
        <tt-set="rating_avg"t-value="round(rating_avg*100)/100"/>
        <tt-set="val_decimal"t-value="round(rating_avg%1,1)"/>
        <tt-set="val_integer"t-value="int(rating_avg)"/>
        <tt-set="empty_star"t-value="5-(val_integer+1)ifval_decimalelse5-val_integer"/>
        <divclass="o_website_rating_static"t-att-style="inline_modeand'display:inline'"t-att-title="rating_avg">
            <tt-foreach="range(0,val_integer)"t-as="num">
                <iclass="fafa-star"role="img"></i>
            </t>
            <tt-if="val_decimal">
                <iclass="fafa-star-half-o"role="img"></i>
            </t>
            <tt-foreach="range(0,empty_star)"t-as="num">
                <iclass="fafa-startext-black-25"role="img"></i>
            </t>
            (<tt-esc="rating_count"/>)
        </div>
    </template>

    <!--
        Displaystaticstarwidget,andopenratingcomposeronclick
        ThistemplateprovidethecontainerofthePopupRatingComposer.Therestisdoneinjs.
        Tousethistemplate,youneedtocallitaftersettingthefollowingvariableinyourtemplateorinyourcontroller:
            :floatrating_avg:averageratingtobedisplayedwithstarwidget
            :objectbrowserecord:themail_threadobject
            :tokenstring(optional):ifyouwantyourchattertobeavailablefornon-loggeduser,
                     youcanuseatokentoverifytheidentityoftheuser;
                     themessagewillbepostedwiththeidentityofthepartner_idoftheobject
    -->
    <templateid="rating_stars_static_popup_composer"name="Rating:ratingcomposerinpopup">
        <divclass="d-print-noneo_rating_popup_composero_not_editablep-0"
            t-att-data-rating-avg="rating_avgor0.0"
            t-att-data-rating-total="rating_totalor0.0"
            t-att-data-token="token"
            t-att-data-hash="hash"
            t-att-data-pid="pid"
            t-att-data-res_model="object._name"
            t-att-data-res_id="object.id"
            t-att-data-partner_id="request.env.user.partner_id.id"
            t-att-data-default_message="default_message"
            t-att-data-default_message_id="default_message_id"
            t-att-data-default_rating_value="default_rating_value"
            t-att-data-default_attachment_ids="default_attachment_ids"
            t-att-data-force_submit_url="force_submit_url"
            t-att-data-disable_composer="disable_composer"
            t-att-data-link_btn_classes="_link_btn_classes">
        </div>
    </template>
</flectra>
