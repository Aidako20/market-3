<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
    <data>

        <!--Newreportpaperformatfordin5008format-->
        <recordid="paperformat_euro_din_a"model="report.paperformat">
            <fieldname="name">EuropeanA4forDIN5008TypeA</field>
            <fieldname="default"eval="False"/>
            <fieldname="format">A4</field>
            <fieldname="orientation">Portrait</field>
            <fieldname="margin_top">27</field>
            <fieldname="margin_bottom">40</field>
            <fieldname="margin_left">20</field>
            <fieldname="margin_right">10</field>
            <fieldname="dpi">70</field>
            <fieldname="header_line"eval="False"/>
            <fieldname="header_spacing">27</field>
        </record>

        <recordid="paperformat_euro_din"model="report.paperformat">
            <fieldname="name">EuropeanA4forDIN5008TypeB</field>
            <fieldname="default"eval="False"/>
            <fieldname="format">A4</field>
            <fieldname="orientation">Portrait</field>
            <fieldname="margin_top">45</field>
            <fieldname="margin_bottom">40</field>
            <fieldname="margin_left">20</field>
            <fieldname="margin_right">10</field>
            <fieldname="dpi">70</field>
            <fieldname="header_line"eval="False"/>
            <fieldname="header_spacing">45</field>
        </record>

        <templateid="assets_common"name="l10n_de_din5008_report"inherit_id="web.report_assets_common">
            <xpathexpr="."position="inside">
                <linkrel="stylesheet"type="text/scss"href="/l10n_de/static/src/scss/report_din5008.scss"/>
            </xpath>
        </template>

        <!--Newreportlayoutfordin5008format-->
        <templateid="external_layout_din5008">
            <div>
                <divt-attf-class="headerdin_pageo_company_#{company.id}_layout#{'din_page_pdf'ifreport_type=='pdf'else''}">
                    <tableclass="company_header"t-att-style="'height:%dmm;'%(din_header_spacingor27)">
                        <tr>
                            <td><h3class="mt0"t-field="company.report_header"/></td>
                            <td><imgt-if="company.logo"t-att-src="image_data_uri(company.logo)"t-att-style="'max-height:%dmm;'%(din_header_spacingor27)"/></td>
                        </tr>
                    </table>
                </div>

                <divt-attf-class="din_pageinvoice_notearticleo_company_#{company.id}_layout#{'din_page_pdf'ifreport_type=='pdf'else''}"t-att-data-oe-model="oando._name"t-att-data-oe-id="oando.id">
                    <table>
                        <tr>
                            <td>
                                <divclass="address">
                                    <tt-if="company.name">
                                        <spant-field="company.name"/>
                                    </t>
                                    <tt-if="company.street">
                                        <span>|</span><spant-field="company.street"/>
                                    </t>
                                    <tt-if="company.street2">
                                        <span>|</span><spant-field="company.street2"/>
                                    </t>
                                    <tt-if="company.zip">
                                        <span>|</span><spant-field="company.zip"/>
                                    </t>
                                    <tt-if="company.city">
                                        <spant-if="notcompany.zip">|</span><spant-field="company.city"/>
                                    </t>
                                    <tt-if="company.country_id">
                                        <span>|</span><spant-field="company.country_id.name"/>
                                    </t>
                                    <hrclass="company_invoice_line"/>
                                    <divt-if="address">
                                        <tt-raw="address"/>
                                    </div>
                                    <divt-else="fallback_address">
                                        <tt-esc="fallback_address"
                                           t-options='{"widget":"contact","fields":["address","name","phone"],"no_marker":True}'/>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <divclass="information_block">
                                    <tt-if="'l10n_de_template_data'incompany"t-set="template_data"t-value="company.l10n_de_template_data"/>
                                    <tt-if="oand'l10n_de_template_data'ino"t-set="template_data"t-value="o.l10n_de_template_data"/>
                                    <table>
                                        <tt-foreach="template_data"t-as="row">
                                            <tr><td><tt-esc="row[0]"/></td><td><tt-esc="row[1]"/></td></tr>
                                        </t>
                                    </table>
                                </div>
                            </td>
                        </tr>
                        <trt-if="oand'l10n_de_addresses'ino">
                            <tt-foreach="o.l10n_de_addresses"t-as="doc_address">
                                <td>
                                    <divclass="shipping_address">
                                        <strong><tt-esc="doc_address[0]"/></strong>
                                        <divt-esc="doc_address[1]"t-options='{"widget":"contact","fields":["address","name","phone"],"no_marker":True}'/>
                                    </div>
                                </td>
                            </t>
                        </tr>
                    </table>
                    <h2>
                        <spant-if="notoandnotdocs"><tt-esc="company.l10n_de_document_title"/></span>
                        <spant-else="">
                            <tt-set="o"t-value="docs[0]"t-if="noto"/>
                            <spant-if="'l10n_de_document_title'ino"><tt-esc="o.l10n_de_document_title"/></span>
                            <spant-elif="'name'ino"t-field="o.name"/>
                        </span>
                    </h2>
                    <tt-raw="0"/>
                </div>

                <divt-attf-class="din_pagefootero_company_#{company.id}_layout#{'din_page_pdf'ifreport_type=='pdf'else''}">
                    <divclass="text-rightpage_number">
                        <divclass="text-muted">
                            Page:<spanclass="page"/>of<spanclass="topage"/>
                        </div>
                    </div>
                    <divclass="company_details">
                        <table>
                            <tr>
                                <td>
                                    <ulclass="list-inlinetext-nowrap">
                                        <lit-if="company.name"><spant-field="company.name"/></li>
                                        <lit-if="company.street"><spant-field="company.street"/></li>
                                        <lit-if="company.street2"><spant-field="company.street2"/></li>
                                        <li><spant-if="company.zip"t-field="company.zip"/><spant-if="company.city"t-field="company.city"/></li>
                                        <lit-if="company.country_id"><spant-field="company.country_id.name"/></li>
                                    </ul>
                                </td>
                                <td>
                                    <ulclass="list-inline">
                                        <lit-if="company.phone"><spant-field="company.phone"/></li>
                                        <lit-if="company.email"><spant-field="company.email"/></li>
                                        <lit-if="company.website"><spant-field="company.website"/></li>
                                    </ul>
                                </td>
                                <td>
                                    <ulclass="list-inline">
                                        <lit-if="company.vat"><tt-esc="company.country_id.vat_labelor'TaxID'"/>:<spant-field="company.vat"/></li>
                                        <li>HRBNr:<spant-field="company.company_registry"/></li>
                                        <divt-field="company.report_footer"/>
                                    </ul>
                                </td>
                                <td>
                                    <ulclass="list-inline"t-if="company.partner_id.bank_ids">
                                        <tt-foreach="company.partner_id.bank_ids[:2]"t-as="bank">
                                            <li><spant-field="bank.bank_id.name"/></li>
                                            <li>IBAN:<spant-field="bank.acc_number"/></li>
                                            <li>BIC:<spant-field="bank.bank_id.bic"/></li>
                                        </t>
                                    </ul>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </template>

        <templateid="din5008_css"inherit_id="web.styles_company_report">
            <xpathexpr="//t[@t-elif]"position="before">
                <tt-elif="layout=='l10n_de.external_layout_din5008'">
                    &amp;.din_page{
                        &amp;.header{
                            .company_header{
                                .name_container{
                                    color:<tt-esc='primary'/>;
                                }
                            }
                        }
                        &amp;.invoice_note{
                            td{
                                .address{
                                    >span{
                                        color:<tt-esc='secondary'/>;
                                    }
                                }
                            }
                            h2{
                                color:<tt-esc='primary'/>;
                            }
                            .page{
                                [name=invoice_line_table],[name=stock_move_table],.o_main_table{
                                    th{
                                        color:<tt-esc='secondary'/>;
                                    }
                                }
                            }
                        }
                    }
                </t>
            </xpath>
        </template>
    </data>
</flectra>
