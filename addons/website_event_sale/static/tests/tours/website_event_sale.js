flectra.define('website_event_sale.tour',function(require){
'usestrict';

vartour=require('web_tour.tour');

tour.register('event_buy_tickets',{
    test:true,
    url:'/event',
},
    [
        {
            content:"Gotothe`Events`page",
            trigger:'a[href*="/event"]:contains("ConferenceforArchitectsTEST"):first',
        },
        {
            content:"ShowavailableTickets",
            trigger:'.o_wevent_registration_btn',
        },
        {
            content:"Select1unitof`Standard`tickettype",
            extra_trigger:'#wrap:not(:has(a[href*="/event"]:contains("ConferenceforArchitects")))',
            trigger:'select:eq(0)',
            run:'text1',
        },
        {
            content:"Select2unitsof`VIP`tickettype",
            extra_trigger:'select:eq(0):has(option:contains(1):propSelected)',
            trigger:'select:eq(1)',
            run:'text2',
        },
        {
            content:"Clickon`OrderNow`button",
            extra_trigger:'select:eq(1):has(option:contains(2):propSelected)',
            trigger:'.btn-primary:contains("Register")',
        },
        {
            content:"Fillattendeesdetails",
            trigger:'form[id="attendee_registration"].btn:contains("Continue")',
            run:function(){
                $("input[name='1-name']").val("Att1");
                $("input[name='1-phone']").val("111111");
                $("input[name='1-email']").val("att1@example.com");
                $("input[name='2-name']").val("Att2");
                $("input[name='2-phone']").val("222222");
                $("input[name='2-email']").val("att2@example.com");
                $("input[name='3-name']").val("Att3");
                $("input[name='3-phone']").val("333333");
                $("input[name='3-email']").val("att3@example.com");
            },
        },
        {
            content:"Validateattendeesdetails",
            extra_trigger:"input[name='1-name'],input[name='2-name'],input[name='3-name']",
            trigger:'button:contains("Continue")',
        },
        {
            content:"Checkthatthecartcontainsexactly3triggers",
            trigger:'a:has(.my_cart_quantity:containsExact(3)),.o_extra_menu_items.fa-plus',
            run:function(){},//it'sacheck
        },
        {
            content:"gotocart",
            trigger:'a:contains(ReturntoCart)',
        },
        {
            content:"Modifythecarttoadd1unitof`VIP`tickettype",
            extra_trigger:"#cart_products:contains(Standard):contains(VIP)",
            trigger:"#cart_productstr:contains(VIP).fa-plus",
        },
        {
            content:"Nowclickon`ProcessCheckout`",
            extra_trigger:'a:has(.my_cart_quantity):contains(4),#cart_productsinput.js_quantity[value="3"]',
            trigger:'.btn-primary:contains("ProcessCheckout")'
        },
        {
            content:"Checkthatthesubtotalis5,500.00USD",//thistestwillfailifthecurrencyofthemaincompanyisnotUSD
            trigger:'#order_total_untaxed.oe_currency_value:contains("5,500.00")',
            run:function(){},//it'sacheck
        },
        {
            content:"Select`WireTransfer`paymentmethod",
            trigger:'#payment_methodlabel:contains("WireTransfer")',
        },
        {
            content:"Pay",
            //Eithertherearemultiplepaymentmethods,andoneischecked,eitherthereisonlyone,andthereforetherearenoradioinputs
            extra_trigger:'#payment_methodlabel:contains("WireTransfer")input:checked,#payment_method:not(:has("input:radio:visible"))',
            trigger:'button[id="o_payment_form_pay"]:visible',
        },
        {
            content:"Laststep",
            trigger:'.oe_website_sale:contains("Pleasemakeapaymentto:")',
            timeout:30000,
        }
    ]
);

});
