<?xmlversion="1.0"encoding="utf-8"?>
<templatesid="template"xml:space="preserve">

<tt-extend="wysiwyg.widgets.file">
    <tt-jquery=".o_we_load_more"t-operation="after">
        <divclass="unsplash_error"></div>
    </t>
</t>
<tt-extend="wysiwyg.widgets.image">
    <tt-jquery="option[value='media-library']"t-operation="after">
        <optionvalue="unsplash">Photos(viaUnsplash)</option>
    </t>
</t>
<tt-extend="wysiwyg.widgets.image.existing.attachments">
    <tt-jquery="t[t-foreach='libraryMedia']"t-operation="after">
        <tt-if="['all','unsplash'].includes(widget.searchService)"t-foreach="widget.unsplashRecords"t-as="record">
            <tt-call="web_unsplash.dialog.image.content"/>
        </t>
    </t>
</t>

<tt-name="web_unsplash.dialog.image.content">
    <divclass="o_existing_attachment_cello_unsplash_attachment_cellposition-relativealign-items-centerjustify-content-centerbg-light"t-att-data-imgid="record.id"t-att-data-id="record.id"t-att-data-url="record.urls.regular"t-att-data-download-url="record.links.download_location"t-att-data-description="record.alt_description">
        <imgclass="imgimg-fluido_we_attachment_highlight"t-att-src="record.url"t-att-alt="record.alt_description"style="max-height:100%;"/>
        <aclass="o_we_media_author"t-att-href="record.user.links.html"target="_blank"t-esc="record.user.name"t-att-title="record.user.name"/>
    </div>
</t>

<tt-name="web_unsplash.dialog.error.credentials">
    <h4><tt-esc="title"/></h4>
    <divclass="details">
        <tt-esc="subtitle"/>
        <divclass="form-groupmt-4access_key_box">
            <inputtype="text"class="form-controlw-100"id="accessKeyInput"placeholder="Pasteyouraccesskeyhere"/>
        </div>
        <ahref="https://doc.flectrahq.com/2.0/applications/general/unsplash/unsplash_access_key.html"target="_blank"><iclass="fafa-arrow-right"/>Generateanaccesskey</a>
        <divclass="form-groupmt-4access_key_box">
            <inputtype="text"class="form-controlw-100"id="appIdInput"placeholder="PasteyourapplicationIDhere"/>
        </div>
        <ahref="https://doc.flectrahq.com/2.0/applications/general/unsplash/unsplash_application_id.html"target="_blank">
            <iclass="fafa-arrow-right"/>HowtofindmyUnsplashApplicationID?</a>
        <buttontype="button"class="btnbtn-primarybtn-blockmt-4save_unsplash">Apply</button>
    </div>
</t>

<tt-name="web_unsplash.dialog.error.content">
    <divclass="d-flexmt-2unsplash_error">
        <divclass="mx-autotext-center">
            <tt-if="status=='key_not_found'">
                <tt-call="web_unsplash.dialog.error.credentials">
                    <tt-set="title">
                        UnsplashrequiresanaccesskeyandanapplicationID
                    </t>
                </t>
            </t>
            <tt-elif="status==403">
                <h4class="text-muted">
                    Searchistemporarilyunavailable
                </h4>
                <divclass="details">
                    Themaxnumberofsearchesisexceeded.Pleaseretryinanhourorextendtoabetteraccount.
                </div>
            </t>
            <tt-elif="status==401">
                <tt-call="web_unsplash.dialog.error.credentials">
                    <tt-set="title">
                        UnauthorizedKey
                    </t>
                    <tt-set="subtitle">
                        PleasecheckyourUnsplashaccesskeyandapplicationID.
                    </t>
                </t>
            </t>
            <tt-else="">
                <h4class="text-muted">
                    Somethingwentwrong
                </h4>
                <divclass="details">
                    Pleasecheckyourinternetconnectionorcontactadministrator.
                </div>
            </t>
        </div>
    </div>
</t>

</templates>
