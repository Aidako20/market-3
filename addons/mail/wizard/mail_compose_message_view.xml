<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
    <data>
        <recordmodel="ir.ui.view"id="email_compose_message_wizard_form">
            <fieldname="name">mail.compose.message.form</field>
            <fieldname="model">mail.compose.message</field>
            <fieldname="groups_id"eval="[(4,ref('base.group_user'))]"/>
            <fieldname="arch"type="xml">
                <formstring="ComposeEmail">
                    <group>
                        <!--trulyinvisiblefieldsforcontrolandoptions-->
                        <fieldname="composition_mode"invisible="1"/>
                        <fieldname="model"invisible="1"/>
                        <fieldname="res_id"invisible="1"/>
                        <fieldname="is_log"invisible="1"/>
                        <fieldname="parent_id"invisible="1"/>
                        <fieldname="mail_server_id"invisible="1"/>
                        <fieldname="active_domain"invisible="1"/>

                        <!--Variouswarnings-->
                        <divcolspan="2"class="oe_form_box_infobg-infooe_text_center"
                                attrs="{'invisible':[('active_domain','=',False)]}">
                            <pattrs="{'invisible':[('use_active_domain','=',False)]}">
                                <strong>
                                    Allrecordsmatchingyourcurrentsearchfilterwillbemailed,
                                    notonlytheidsselectedinthelistview.
                                </strong><br/>
                                Theemailwillbesentforalltherecordsselectedinthelist.<br/>
                                Confirmingthiswizardwillprobablytakeafewminutesblockingyourbrowser.
                            </p>
                            <pattrs="{'invisible':[('use_active_domain','=',True)]}">
                                <strong>Onlyrecordscheckedinlistviewwillbeused.</strong><br/>
                                Theemailwillbesentforalltherecordsselectedinthelist.
                            </p>
                            <pclass="mt8">
                                <spanattrs="{'invisible':[('use_active_domain','=',True)]}">
                                    Ifyouwanttosenditforalltherecordsmatchingyoursearchcriterion,checkthisbox:
                                </span>
                                <spanattrs="{'invisible':[('use_active_domain','=',False)]}">
                                    Ifyouwanttouseonlyselectedrecordspleaseuncheckthisselectionbox:
                                </span>
                                <fieldclass="oe_inline"name="use_active_domain"/>
                            </p>
                        </div>
                        <!--visiblewizard-->
                        <fieldname="email_from"
                            attrs="{'invisible':[('composition_mode','!=','mass_mail')]}"/>
                        <labelfor="partner_ids"string="Recipients" attrs="{'invisible':[('is_log','=',True)]}"groups="base.group_user"/>
                        <divgroups="base.group_user"attrs="{'invisible':[('is_log','=',True)]}">
                            <spanattrs="{'invisible':[('composition_mode','!=','mass_mail')]}">
                                <strong>Emailmassmailing</strong>on
                                <spanattrs="{'invisible':[('use_active_domain','=',True)]}">theselectedrecords</span>
                                <spanattrs="{'invisible':[('use_active_domain','=',False)]}">thecurrentsearchfilter</span>.
                            </span>
                            <spanname="document_followers_text"attrs="{'invisible':['|',('model','=',False),('composition_mode','=','mass_mail')]}">Followersofthedocumentand</span>
                            <fieldname="partner_ids"widget="many2many_tags_email"placeholder="Addcontactstonotify..."
                                context="{'force_email':True,'show_email':True}"
                                attrs="{'invisible':[('composition_mode','!=','comment')]}"/>
                        </div>
                        <fieldname="subject"placeholder="Subject..."required="True"/>
                        <!--masspost-->
                        <fieldname="notify"
                            attrs="{'invisible':[('composition_mode','!=','mass_post')]}"/>
                        <!--massmailing-->
                        <fieldname="no_auto_thread"attrs="{'invisible':[('composition_mode','!=','mass_mail')]}"/>
                        <fieldname="reply_to"placeholder="Emailaddresstoredirectreplies..."
                            attrs="{'invisible':['|',('no_auto_thread','=',False),('composition_mode','!=','mass_mail')],
                                    'required':[('no_auto_thread','=',True),('composition_mode','=','mass_mail')]}"/>
                    </group>
                    <fieldname="body"options="{'style-inline':true}"/>
                    <groupcol="4">
                        <fieldname="attachment_ids"widget="many2many_binary"string="Attachafile"nolabel="1"colspan="2"/>
                        <fieldname="template_id"options="{'no_create':True}"
                               context="{'default_model':model,'default_body_html':body,'default_subject':subject}"/>
                    </group>
                    <footer>
                        <buttonstring="Send"attrs="{'invisible':[('is_log','=',True)]}"name="action_send_mail"type="object"class="btn-primaryo_mail_send"/>
                        <buttonstring="Log"attrs="{'invisible':[('is_log','=',False)]}"name="action_send_mail"type="object"class="btn-primary"/>
                        <buttonstring="Cancel"class="btn-secondary"special="cancel"/>

                        <buttonicon="fa-lgfa-save"type="object"name="save_as_template"string="Saveasnewtemplate"
                                class="float-rightbtn-secondary"help="Saveasanewtemplate"/>
                    </footer>
                </form>
            </field>
        </record>

        <recordid="action_email_compose_message_wizard"model="ir.actions.act_window">
            <fieldname="name">ComposeEmail</field>
            <fieldname="res_model">mail.compose.message</field>
            <fieldname="binding_model_id"ref="mail.model_mail_compose_message"/>
            <fieldname="type">ir.actions.act_window</field>
            <fieldname="view_mode">form</field>
            <fieldname="target">new</field>
        </record>
    </data>
</flectra>
