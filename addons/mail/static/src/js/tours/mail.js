flectra.define('mail.tour',function(require){
"usestrict";

varcore=require('web.core');
vartour=require('web_tour.tour');

var_t=core._t;

tour.register('mail_tour',{
    url:"/web#action=mail.widgets.discuss",
    sequence:80,
},[{
    trigger:'.o_DiscussSidebar_groupChannel.o_DiscussSidebar_groupHeaderItemAdd',
    content:_t("<p>Channelsmakeiteasytoorganizeinformationacrossdifferenttopicsandgroups.</p><p>Tryto<b>createyourfirstchannel</b>(e.g.sales,marketing,productXYZ,afterworkparty,etc).</p>"),
    position:'bottom',
},{
    trigger:'.o_DiscussSidebar_itemNewInput',
    content:_t("<p>Createachannelhere.</p>"),
    position:'bottom',
    auto:true,
    run:function(actions){
        vart=newDate().getTime();
        actions.text("SomeChannel_"+t,this.$anchor);
    },
},{
    trigger:".o_DiscussSidebar_newChannelAutocompleteSuggestions",
    content:_t("<p>Createapublicorprivatechannel.</p>"),
    position:'right',
    run(){
        this.$consumeEventAnchors.find('li:first').click();
    },
},{
    trigger:'.o_Discuss_thread.o_ComposerTextInput_textarea',
    content:_t("<p><b>Writeamessage</b>tothemembersofthechannelhere.</p><p>Youcannotifysomeonewith<i>'@'</i>orlinkanotherchannelwith<i>'#'</i>.Startyourmessagewith<i>'/'</i>togetthelistofpossiblecommands.</p>"),
    position:"top",
    width:350,
    run:function(actions){
        vart=newDate().getTime();
        actions.text("SomeText_"+t,this.$anchor);
    },
},{
    trigger:'.o_Discuss_thread.o_Composer_buttonSend',
    content:_t("Postyourmessageonthethread"),
    position:"top",
},{
    trigger:'.o_Discuss_thread.o_Message_commandStar',
    content:_t("Messagescanbe<b>starred</b>toremindyoutocheckbacklater."),
    position:"bottom",
},{
    trigger:'.o_DiscussSidebarItem.o-starred-box',
    content:_t("Onceamessagehasbeenstarred,youcancomebackandreviewitatanytimehere."),
    position:"bottom",
},{
    trigger:'.o_DiscussSidebar_groupChat.o_DiscussSidebar_groupHeaderItemAdd',
    content:_t("<p><b>Chatwithcoworkers</b>inreal-timeusingdirectmessages.</p><p><i>YoumightneedtoinviteusersfromtheSettingsappfirst.</i></p>"),
    position:'bottom',
}]);

});
