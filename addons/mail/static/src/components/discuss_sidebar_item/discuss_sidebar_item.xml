<?xmlversion="1.0"encoding="UTF-8"?>
<templatesxml:space="preserve">

    <tt-name="mail.DiscussSidebarItem"owl="1">
        <divclass="o_DiscussSidebarItem"
            t-att-class="{
                'o-active':threadanddiscuss.thread===thread,
                'o-starred-box':threadandthread===env.messaging.starred,
                'o-unread':threadandthread.localMessageUnreadCounter>0,
            }"t-on-click="_onClick"t-att-data-thread-local-id="thread?thread.localId:undefined"t-att-data-thread-name="thread?thread.displayName:undefined"
        >
            <tt-if="thread">
                <divclass="o_DiscussSidebarItem_activeIndicatoro_DiscussSidebarItem_item"t-att-class="{'o-item-active':discuss.thread===thread}"/>
                <ThreadIconclass="o_DiscussSidebarItem_item"threadLocalId="thread.localId"/>
                <tt-if="thread.channel_type==='chat'anddiscuss.renamingThreads.includes(thread)">
                    <divclass="o_DiscussSidebarItem_itemo_DiscussSidebarItem_nameo-editable">
                        <EditableText
                            class="o_DiscussSidebarItem_nameInput"
                            placeholder="thread.correspondent?thread.correspondent.name:thread.name"
                            value="thread.displayName"
                            t-on-o-cancel="_onCancelRenaming"
                            t-on-o-clicked="_onClickedEditableText"
                            t-on-o-validate="_onValidateEditableText"
                        />
                    </div>
                </t>
                <tt-else="">
                    <divclass="o_DiscussSidebarItem_itemo_DiscussSidebarItem_name"t-att-class="{'o-item-unread':thread.localMessageUnreadCounter>0}">
                        <tt-esc="thread.displayName"/>
                    </div>
                    <tt-if="thread.mass_mailing">
                        <iclass="fafa-envelope-o"title="Messagesaresentbyemail"role="img"/>
                    </t>
                </t>
                <divclass="o-autogrowo_DiscussSidebarItem_item"/>
                <tt-if="thread.model!=='mail.box'">
                    <divclass="o_DiscussSidebarItem_commandso_DiscussSidebarItem_item">
                        <tt-if="thread.channel_type==='channel'">
                            <divclass="fafa-cogo_DiscussSidebarItem_commando_DiscussSidebarItem_commandSettings"t-on-click="_onClickSettings"title="Channelsettings"role="img"/>
                            <tt-if="!thread.message_needaction_counterand!thread.group_based_subscription">
                                <divclass="o_DiscussSidebarItem_commando_DiscussSidebarItem_commandLeavefafa-times"t-on-click="_onClickLeave"title="Leavethischannel"role="img"/>
                            </t>
                        </t>
                        <tt-if="thread.channel_type==='chat'">
                            <divclass="o_DiscussSidebarItem_commando_DiscussSidebarItem_commandRenamefafa-cog"t-on-click="_onClickRename"title="Renameconversation"role="img"/>
                        </t>
                        <tt-if="hasUnpin()">
                            <tt-if="!thread.localMessageUnreadCounter">
                                <divclass="fafa-timeso_DiscussSidebarItem_commando_DiscussSidebarItem_commandUnpin"t-on-click="_onClickUnpin"title="Unpinconversation"role="img"/>
                            </t>
                        </t>
                    </div>
                </t>
                <tt-if="counter>0">
                    <divclass="o_DiscussSidebarItem_countero_DiscussSidebarItem_itembadgebadge-pill">
                        <tt-esc="counter"/>
                    </div>
                </t>
            </t>
        </div>
    </t>

</templates>
