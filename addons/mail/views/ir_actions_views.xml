<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
    <data>

        <recordmodel="ir.ui.view"id="view_server_action_form_template">
            <fieldname="name">ir.actions.server.form</field>
            <fieldname="model">ir.actions.server</field>
            <fieldname="inherit_id"ref="base.view_server_action_form"/>
            <fieldname="arch"type="xml">
                <xpathexpr="//page[@name='page_object']"position="after">
                    <pagestring="Activity"name="next_activity"autofocus="autofocus"attrs="{'invisible':[('state','!=','next_activity')]}">
                        <group>
                            <group>
                                <fieldname="activity_type_id"options="{'no_create':True,'no_open':True}"attrs="{'required':[('state','=','next_activity')]}"/>
                                <fieldname="activity_summary"placeholder="e.g.Discussproposal"/>
                            </group>
                            <group>
                                <labelfor="activity_date_deadline_range"/>
                                <divclass="o_row">
                                    <fieldname="activity_date_deadline_range"/>
                                    <fieldname="activity_date_deadline_range_type"attrs="{
                                        'required':[('state','=','next_activity'),('activity_date_deadline_range','>',0)]
                                    }"/>
                                </div>
                                <fieldname="activity_user_type"/>
                                <fieldname="activity_user_field_name"attrs="{
                                    'invisible':[('activity_user_type','=','specific')],
                                    'required':[('state','=','next_activity'),('activity_user_type','=','generic')]
                                }"/>
                                <fieldname="activity_user_id"attrs="{
                                    'invisible':[('activity_user_type','=','generic')],
                                    'required':[('state','=','next_activity'),('activity_user_type','=','specific')]
                                }"/>
                            </group>
                        </group>
                        <fieldname="activity_note"placeholder="Loganote..."/>
                    </page>
                </xpath>
                <xpathexpr="//field[@name='link_field_id']"position="after">
                    <fieldname="partner_ids"widget="many2many_tags"
                        attrs="{'invisible':[('state','!=','followers')]}"/>
                    <fieldname="channel_ids"widget="many2many_tags"
                        attrs="{'invisible':[('state','!=','followers')]}"/>
                    <fieldname="template_id"
                        attrs="{'invisible':[('state','!=','email')],
                                'required':[('state','=','email')]}"/>
                </xpath>
            </field>
        </record>

    </data>
</flectra>
