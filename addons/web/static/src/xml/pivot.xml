<?xmlversion="1.0"encoding="utf-8"?>
<templates>

    <divt-name="web.PivotRenderer"class="o_pivot"owl="1">
        <tt-if="!(props.hasDataandprops.measures.length)or(props.isSampleand!props.isEmbedded)">
            <tt-if="props.noContentHelp"t-call="web.ActionHelper">
                <tt-set="noContentHelp"t-value="props.noContentHelp"/>
            </t>
            <tt-else=""t-call="web.NoContentHelper"/>
        </t>

        <tablet-if="props.hasDataandprops.measures.length"class="table-hovertable-smtable-bordered"t-att-class="{o_enable_linking:!props.disableLinking}">
            <thead>
                <trt-foreach="props.table.headers"t-as="row"t-key="'header_'+row_index">
                    <tt-foreach="row"t-as="cell"t-key="'header_row_'+cell_index">
                        <tt-if="cell.measure"t-call="web.PivotMeasure"/>
                        <tt-elif="cell.isLeaf!==undefined"t-call="web.PivotHeader">
                            <tt-set="isXAxis"t-value="true"/>
                        </t>
                        <tht-else="1"t-att-colspan="cell.width"t-att-rowspan="cell.height"/>
                    </t>
                </tr>
            </thead>
            <tbody>
                <trt-foreach="props.table.rows"t-as="row"t-key="'row_'+row_index">
                    <tt-call="web.PivotHeader">
                        <tt-set="isXAxis"t-value="false"/>
                        <tt-set="cell"t-value="row"/>
                    </t>
                    <tt-foreach="row.subGroupMeasurements"t-as="cell"t-key="'row_cell_'+cell_index">
                        <tdclass="o_pivot_cell_valuetext-right"t-att-class="{
                                o_empty:cell.value===undefined,
                                'font-weight-bold':cell.isBold,
                            }"t-on-click="trigger('open_view',cell)"
                               t-on-mouseover="_onMouseEnter"t-on-mouseout="_onMouseLeave">
                            <tt-if="cell.value!==undefined">
                                <divt-if="cell.originIndexes.length>1"class="o_variation"t-att-class="{
                                         o_positive:cell.value&gt;0,
                                         o_negative:cell.value&lt;0,
                                         o_null:cell.value===0,
                                    }"t-esc="_getFormattedVariation(cell)"/>
                                <divt-elif="props.fieldsandprops.fields[cell.measure].type==='boolean'"class="o_value">
                                    <divclass="custom-controlcustom-checkbox">
                                        <inputtype="checkbox"t-attf-id="checkbox_{{cell_index}}_{{row_index}}"disabled="disabled"t-att-checked="cell.value"class="custom-control-input"/>
                                        <labelt-attf-for="checkbox_{{cell_index}}_{{row_index}}"class="custom-control-label"/>
                                    </div>
                                </div>
                                <divt-else="1"class="o_value"t-esc="_getFormattedValue(cell)"/>
                            </t>
                        </td>
                    </t>
                </tr>
            </tbody>
        </table>
    </div>

    <tt-name="web.PivotHeader"owl="1">
        <tht-att-colspan="isXAxis?cell.width:undefined"t-att-rowspan="isXAxis?cell.height:undefined"t-att-class="{
                o_pivot_header_cell_closed:cell.isLeaf,
                o_pivot_header_cell_opened:!cell.isLeaf,
            }"t-attf-style="{{isXAxis?undefined:'padding-left:'+_getPadding(cell)+'px;'}}"t-att-title="cell.label"t-on-click.self.prevent="_onHeaderClick(cell,isXAxis?'col':'row')">
            <spant-on-click.self.prevent="_onHeaderClick(cell,isXAxis?'col':'row')"t-esc="cell.title"/>
            <tt-if="_isClicked(cell.groupId,isXAxis)"t-call="web.PivotGroupBySelection"/>
        </th>
    </t>

    <tt-name="web.PivotMeasure"owl="1">
        <thclass="text-muted"t-att-colspan="cell.width"t-att-rowspan="cell.height"t-att-class="{
                o_pivot_origin_row:cell.originIndexes,
                o_pivot_measure_row:!cell.originIndexes,
                o_pivot_sort_order_asc:cell.order==='asc',
                o_pivot_sort_order_desc:cell.order==='desc',
            }"t-on-click.prevent="trigger('sort_rows',cell)"t-on-mouseover="_onMouseEnter"t-on-mouseout="_onMouseLeave">
            <tt-esc="cell.title"/>
        </th>
    </t>

    <divt-name="web.PivotGroupBySelection"class="dropdown"owl="1">
        <divclass="dropdown-menuo_pivot_field_menushow"data-display="static"role="menu">
            <tt-foreach="props.selectionGroupBys"t-as="field"t-key="field.field.name">
                <tt-if="(field.field.type==='date')||(field.field.type==='datetime')">
                    <divrole="menuitem"aria-haspopup="true"class="o_inline_dropdown">
                        <ahref="#"
                           t-on-click.prevent="_onClickMenuGroupBy(field,'month')"
                           class="dropdown-itemo_pivot_field_selection"
                           t-att-class="{disabled:field.active}"
                           t-att-data-field="field.name"
                        >
                            <tt-esc="field.field.string"/>
                        </a>
                        <divclass="dropdown-menu"role="menu">
                            <arole="menuitem"t-att-data-field="field.name"href="#"class="dropdown-item"t-on-click.prevent="_onClickMenuGroupBy(field,'day')">Day</a>
                            <arole="menuitem"t-att-data-field="field.name"href="#"class="dropdown-item"t-on-click.prevent="_onClickMenuGroupBy(field,'week')">Week</a>
                            <arole="menuitem"t-att-data-field="field.name"href="#"class="dropdown-item"t-on-click.prevent="_onClickMenuGroupBy(field,'month')">Month</a>
                            <arole="menuitem"t-att-data-field="field.name"href="#"class="dropdown-item"t-on-click.prevent="_onClickMenuGroupBy(field,'quarter')">Quarter</a>
                            <arole="menuitem"t-att-data-field="field.name"href="#"class="dropdown-item"t-on-click.prevent="_onClickMenuGroupBy(field,'year')">Year</a>
                        </div>
                    </div>
                </t>
                <at-else=""href="#"role="menuitem"class="dropdown-item"t-att-data-field="field.name"t-att-class="{disabled:field.active}"t-on-click.prevent="_onClickMenuGroupBy(field,false)">
                    <tt-esc="field.field.string"/>
                </a>
            </t>
        </div>
    </div>

</templates>
