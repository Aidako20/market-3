<?xmlversion="1.0"encoding="utf-8"?>
<flectra>

    <templateid="sale_order_portal_content_inherit_sale_quotation_builder"name="OrderDesign"inherit_id="sale.sale_order_portal_content">
        <xpathexpr="//div[@id='informations']"position="after">
            <divt-field="sale_order.website_description"class="oe_no_empty"/>
            <tt-set="product_tmpl_ids"t-value="[]"/>
            <tt-foreach="sale_order.order_line"t-as="line">
                <tt-if="line.product_id.product_tmpl_id.idnotinproduct_tmpl_ids">
                    <tt-set="product_tmpl_ids"t-value="product_tmpl_ids+[line.product_id.product_tmpl_id.id]"/>
                    <at-att-id="line.id"/>
                    <divclass="alertalert-infoalert-dismissablemt16css_non_editable_mode_hiddeno_not_editable"t-ignore="True"role="status">
                        <buttontype="button"class="close"data-dismiss="alert"aria-label="Close">Ã—</button>
                        Product:<strongt-esc="line.product_id.name"/>:
                        thiscontentwillappearonthequotationonlyifthis
                        productisnotremoved.
                    </div>
                    <divt-att-class="'oe_no_empty'ifline.website_descriptionelse'oe_no_emptyd-print-none'"t-field="line.website_description"/>
                </t>
            </t>
        </xpath>
    </template>

    <!--Templatetoeditthequotationtemplatewiththewebsiteeditor-->
    <templateid="so_template"name="SOTemplate">
        <tt-call="website.layout">
            <body>
                <tt-set="o_portal_fullwidth_alert">
                    <tt-call="portal.portal_back_in_edit_mode">
                        <tt-set="backend_url"t-value="'/web#model=%s&amp;id=%s&amp;action=%s&amp;view_type=form'%(template._name,template.id,request.env.ref('sale_management.sale_order_template_action').id)"/>
                        <tt-set="custom_html">Thisisapreviewofthesaleordertemplate.</t>
                    </t>
                </t>
                <divclass="containero_sale_order">
                    <divclass="rowmt16">
                        <divclass="col-lg-9ml-auto">
                            <divclass="alertalert-info"t-ignore="True"role="status">
                                <p>
                                    <strong>TemplateHeader:</strong>thiscontent
                                    willappearonallquotationsusingthis
                                    template.
                                </p>
                                <pclass="text-muted">
                                    Titleswithstyle<i>Heading2</i>and
                                    <i>Heading3</i>willbeusedtogeneratethe
                                    tableofcontentautomatically.
                                </p>
                            </div>
                            <divid="template_introduction"t-field="template.website_description"class="oe_no_empty"/>
                            <tt-set="product_tmpl_ids"t-value="[]"/>
                            <tt-foreach="template.sale_order_template_line_ids"t-as="line">
                                <tt-if="line.product_id.product_tmpl_id.idnotinproduct_tmpl_ids">
                                    <tt-set="product_tmpl_ids"t-value="product_tmpl_ids+[line.product_id.product_tmpl_id.id]"/>
                                    <divclass="alertalert-infomt16"t-ignore="True"role="status">
                                        Product:<strongt-esc="line.product_id.name"/>:
                                        thiscontentwillappearonthequotationonlyifthis
                                        productisputonthequote.
                                    </div>
                                    <divt-field="line.website_description"class="oe_no_empty"/>
                                </t>
                            </t>
                            <tt-set="product_tmpl_ids"t-value="[]"/>
                            <tt-foreach="template.sale_order_template_option_ids"t-as="option_line">
                                <tt-if="option_line.product_id.product_tmpl_id.idnotinproduct_tmpl_ids">
                                    <tt-set="product_tmpl_ids"t-value="product_tmpl_ids+[option_line.product_id.product_tmpl_id.id]"/>
                                    <divclass="alertalert-infomt16"t-ignore="True"role="status">
                                        OptionalProduct:<strongt-esc="option_line.product_id.name"/>:
                                        thiscontentwillappearonthequotationonlyifthis
                                        productisusedinthequote.
                                    </div>
                                    <divt-field="option_line.website_description"class="oe_no_empty"/>
                                </t>
                            </t>
                            <sectionid="terms"class="container"t-if="template.note">
                                <h1t-ignore="True">Terms&amp;Conditions</h1>
                                <pt-field="template.note"/>
                            </section>
                        </div>
                    </div>
                </div>
            </body>
        </t>
    </template>

    <templateid="brand_promotion"inherit_id="website.brand_promotion">
        <xpathexpr="//t[@t-call='web.brand_promotion_message']"position="replace">
            <tt-call="web.brand_promotion_message">
                <tt-set="_message">
                    Anawesome<atarget="_blank"href="https://www.flectrahq.com/page/crm?utm_source=db&amp;utm_medium=portal">OpenSourceCRM</a>
                </t>
                <tt-set="_utm_medium"t-valuef="portal"/>
            </t>
        </xpath>
    </template>

</flectra>
