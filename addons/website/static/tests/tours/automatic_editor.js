flectra.define('website.tour.automatic_editor',function(require){
'usestrict';

consttour=require('web_tour.tour');

tour.register('automatic_editor_on_new_website',{
    test:true,
    url:'/',
},
[
    {
        content:"Selectthelanguagedropdown",
        trigger:'.js_language_selector.dropdown-toggle'
    },
    {
        content:"clickonAddalanguage",
        trigger:'a.o_add_language',
    },
    {
        content:"Selectdropdown",
        trigger:'select[name=lang]',
        run:()=>{
            $('select[name="lang"]').val('"pa_GB"').change();
        }
    },
    {
        content:"loadparseltongue",
        extra_trigger:'.modalselect[name="lang"]:propValueContains(pa_GB)',
        trigger:'.modal-footerbutton:first',
    },
    {
        content:"Selectthelanguagedropdown",
        trigger:'.js_language_selector.dropdown-toggle',
    },
    {
        content:"Selectparseltongue",
        trigger:'a.js_change_lang[data-url_code=pa_GB]',
    },
    {
        content:"Checkthatwe'reonparseltongueandthengotosettings",
        trigger:'html[lang=pa-GB]',
        run:()=>{
            //Nowgothroughthesettingsforanewwebsite.Afrontend_lang
            //cookiewassetduringprevioussteps.Itshouldnotbeusedwhen
            //redirectingtothefrontendinthefollowingsteps.
            window.location.href='/web#action=website.action_website_configuration';
        }
    },
    {
        content:"createanewwebsite",
        trigger:'button[name="action_website_create_new"]',
    },
    {
        content:"insertwebsitename",
        trigger:'input[name="name"]',
        run:'textWebsiteEN'
    },
    {
        content:"validatethewebsitecreationmodal",
        trigger:'button.btn-primary'
    },
    {
        content:"makehoverbuttonappear",
        trigger:'.o_theme_preview',
        run:()=>{
            $('.o_theme_preview.o_button_area').attr('style','visibility:visible;opacity:1;');
        },
    },
    {
        content:"Installatheme",
        trigger:'button[data-name="button_choose_theme"]'
    },
    {
        content:"Checkthattheeditorisloaded",
        trigger:'body.editor_enable',
        timeout:30000,
        run:()=>null,//it'sacheck
    },
    {
        content:"exiteditmode",
        trigger:'.o_we_website_top_actionsbutton.btn-primary:contains("Save")',
    },
    {
        content:"waitforeditortoclose",
        trigger:'body:not(.editor_enable)',
        run:()=>null,//It'sacheck
    }
]);
});
