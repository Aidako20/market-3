flectra.define('website_sale.tour_shop_zoom',function(require){
'usestrict';

vartour=require('web_tour.tour');

varimageSelector='#o-carousel-product.carousel-item.activeimg';
varimageName="AColorfulImage";
varnameGreen="ForestGreen";

//Thistourreliesonadatacreatedfromthepythontest.
tour.register('shop_zoom',{
    test:true,
    url:'/shop?search='+imageName,
},
[
    {
        content:"select"+imageName,
        trigger:'.oe_product_carta:containsExact("'+imageName+'")',
    },
    {
        content:"clickontheimage",
        trigger:imageSelector,
        run:'clicknoleave',
    },
    {
        content:"checkthereisnozoomonthatsmallimage",
        trigger:'body:not(:has(.zoomflectra-flyoutimg))',
    },
    {
        content:"changevariant",
        trigger:'input[data-attribute_name="BeautifulColor"][data-value_name="'+nameGreen+'"]',
        run:'click',
    },
    {
        content:"waitforvarianttobeloaded",
        trigger:'.oe_currency_value:contains("21.00")'
    },
    {
        content:"clickontheimage",
        trigger:imageSelector,
        run:'clicknoleave',
    },
    {
        content:"checkthereisazoomonthatbigimage",
        trigger:'.zoomflectra-flyoutimg',
    },
]);
});
