<?xmlversion="1.0"encoding="utf-8"?>
<flectra>

    <recordid="product_product_view_form_inherit_sale_expense"model="ir.ui.view">
        <fieldname="name">product.template.expense</field>
        <fieldname="model">product.product</field>
        <fieldname="inherit_id"ref="hr_expense.product_product_expense_form_view"/>
        <fieldname="arch"type="xml">
            <xpathexpr="//group[@name='product_details']"position="inside">
                <groupstring="Invoicing">
                    <fieldname="invoice_policy"widget="radio"/>
                    <fieldname="expense_policy"widget="radio"/>
                </group>
            </xpath>
            <xpathexpr="//field[@name='list_price']"position="replace">
                <fieldname="list_price"attrs="{'invisible':[('expense_policy','!=','sales_price')]}"/>
            </xpath>
            <xpathexpr="//field[@name='taxes_id']"position="replace">
                <fieldname="taxes_id"widget="many2many_tags"attrs="{'invisible':[('expense_policy','=','no')]}"/>
            </xpath>
        </field>
    </record>

    <recordid="hr_expense.hr_expense_product"model="ir.actions.act_window">
        <fieldname="context">{"default_can_be_expensed":1,'default_type':'service',
            'default_invoice_policy':'delivery','default_expense_policy':'cost'}</field>
    </record>

</flectra>
