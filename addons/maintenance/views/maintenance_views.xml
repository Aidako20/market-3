<?xmlversion="1.0"encoding="utf-8"?>
<flectra>

    <!--equiment.request:views-->
    <recordid="hr_equipment_request_view_search"model="ir.ui.view">
        <fieldname="name">equipment.request.search</field>
        <fieldname="model">maintenance.request</field>
        <fieldname="arch"type="xml">
            <searchstring="MaintenanceRequestSearch">
                <fieldname="name"string="Request"/>
                <fieldname="category_id"/>
                <fieldname="user_id"/>
                <fieldname="equipment_id"/>
                <fieldname="owner_user_id"/>
                <fieldname="stage_id"/>
                <fieldname="maintenance_team_id"/>
                <filterstring="MyMaintenances"name="my_maintenances"domain="[('user_id','=',uid)]"/>
                <separator/>
                <filterstring="ToDo"name="todo"domain="[('stage_id.done','=',False)]"/>
                <separator/>
                <filterstring="Blocked"name="kanban_state_block"domain="[('kanban_state','=','blocked')]"/>
                <filterstring="Ready"name="done"domain="[('kanban_state','=','done')]"/>
                <separator/>
                <filterstring="High-priority"name="high_priority"domain="[('priority','=','3')]"/>
                <separator/>
                <filterstring="Unscheduled"name="unscheduled"domain="[('schedule_date','=',False)]"/>
                <separator/>
                <filtername="filter_request_date"date="request_date"/>
                <filtername="filter_schedule_date"date="schedule_date"/>
                <filtername="filter_close_date"date="close_date"/>
                <separator/>
                <filterstring="UnreadMessages"name="message_needaction"domain="[('message_needaction','=',True)]"/>
                <separator/>
                <filterinvisible="1"string="LateActivities"name="activities_overdue"
                    domain="[('my_activity_date_deadline','&lt;',context_today().strftime('%Y-%m-%d'))]"
                    help="Showallrecordswhichhasnextactiondateisbeforetoday"/>
                <filterinvisible="1"string="TodayActivities"name="activities_today"
                    domain="[('my_activity_date_deadline','=',context_today().strftime('%Y-%m-%d'))]"/>
                <filterinvisible="1"string="FutureActivities"name="activities_upcoming_all"
                    domain="[('my_activity_date_deadline','&gt;',context_today().strftime('%Y-%m-%d'))]"/>
                <separator/>
                <filterstring="Archived"name="inactive"domain="[('archive','=',True)]"/>
                <group expand='0'string='Groupby...'>
                    <filterstring='Assignedto'name="assigned"domain="[]"context="{'group_by':'user_id'}"/>
                    <filterstring='Category'name="category"domain="[]"context="{'group_by':'category_id'}"/>
                    <filterstring='Stage'name="stages"domain="[]"context="{'group_by':'stage_id'}"/>
                    <filterstring='CreatedBy'name='created_by'domain="[]"context="{'group_by':'owner_user_id'}"/>
                </group>
            </search>
        </field>
    </record>

    <recordid="hr_equipment_request_view_form"model="ir.ui.view">
        <fieldname="name">equipment.request.form</field>
        <fieldname="model">maintenance.request</field>
        <fieldname="arch"type="xml">
            <formstring="MaintenanceRequest">
                <header>
                    <buttonstring="Cancel"name="archive_equipment_request"type="object"attrs="{'invisible':[('archive','=',True)]}"/>
                    <buttonstring="ReopenRequest"name="reset_equipment_request"type="object"attrs="{'invisible':[('archive','=',False)]}"/>
                    <fieldname="stage_id"widget="statusbar"options="{'clickable':'1'}"attrs="{'invisible':[('archive','=',True)]}"/>
                </header>
                <sheet>
                    <divattrs="{'invisible':[('archive','=',False)]}">
                        <spanclass="badgebadge-warningfloat-right">Canceled</span>
                    </div>
                    <divclass="oe_right">
                        <fieldname="kanban_state"class="oe_inline"widget="state_selection"/>
                    </div>
                    <divclass="oe_title">
                        <labelfor="name"class="oe_edit_only"string="Title"/>
                        <h1>
                            <fieldname="name"placeholder="MaintenanceRequest"/>
                        </h1>
                    </div>
                    <group>
                        <group>
                            <fieldname="owner_user_id"string="RequestedBy"invisible="1"/>
                            <fieldname="equipment_id" context="{'default_company_id':company_id,'default_category_id':category_id}"/>
                            <fieldname="category_id"groups="maintenance.group_equipment_manager"context="{'default_company_id':company_id}"attrs="{'invisible':[('equipment_id','=',False)]}"/>
                            <fieldname="request_date"readonly="True"/>
                            <fieldname="done"invisible="1"/>
                            <fieldname="close_date"attrs="{'invisible':[('done','!=',True)]}"readonly="True"/>
                            <fieldname="archive"invisible="1"/>
                            <fieldname="maintenance_type"widget="radio"/>
                        </group>
                        <group>
                            <fieldname="maintenance_team_id"options="{'no_create':True,'no_open':True}"/>
                            <fieldname="user_id"string="Responsible"/>
                            <fieldname="schedule_date"/>
                            <labelfor="duration"/>
                            <div>
                                <fieldname="duration"
                                       widget="float_time"
                                       class="oe_inline"/><spanclass="ml8">hours</span>
                            </div>
                            <fieldname="priority"widget="priority"/>
                            <fieldname="email_cc"string="Emailcc"groups="base.group_no_one"/>
                            <fieldname="company_id"options="{'no_create':True}"groups="base.group_multi_company"/>
                        </group>
                    </group>
                    <fieldname='description'placeholder="InternalNotes"/>
                </sheet>
                <divclass="oe_chatter">
                    <fieldname="message_follower_ids"/>
                    <fieldname="activity_ids"/>
                    <fieldname="message_ids"/>
                </div>
            </form>
        </field>
    </record>

    <recordid="hr_equipment_request_view_kanban"model="ir.ui.view">
        <fieldname="name">equipment.request.kanban</field>
        <fieldname="model">maintenance.request</field>
        <fieldname="arch"type="xml">
            <kanbandefault_group_by="stage_id"sample="1">
                <fieldname="stage_id"/>
                <fieldname="color"/>
                <fieldname="priority"/>
                <fieldname="equipment_id"/>
                <fieldname="user_id"/>
                <fieldname="owner_user_id"/>
                <fieldname="category_id"/>
                <fieldname="kanban_state"/>
                <fieldname="activity_ids"/>
                <fieldname="activity_state"/>
                <progressbarfield="kanban_state"colors='{"done":"success","blocked":"danger"}'/>
                <templates>
                    <tt-name="kanban-tooltip">
                       <ulclass="oe_kanban_tooltip">
                          <lit-if="record.category_id.raw_value"><b>Category:</b><tt-esc="record.category_id.value"/></li>
                          <lit-if="record.user_id.raw_value"><b>Requestto:</b><tt-esc="record.user_id.value"/></li>
                       </ul>
                    </t>
                    <tt-name="kanban-box">
                        <divt-attf-class="{{!selection_mode?'oe_kanban_color_'+kanban_getcolor(record.color.raw_value):''}}oe_kanban_cardoe_kanban_global_clickoe_semantic_html_override">
                            <divclass="o_dropdown_kanbandropdown">

                                <arole="button"class="dropdown-toggleo-no-caretbtn"data-toggle="dropdown"data-display="static"href="#"aria-label="Dropdownmenu"title="Dropdownmenu">
                                    <spanclass="fafa-ellipsis-v"/>
                                </a>
                                <divclass="dropdown-menu"role="menu">
                                    <tt-if="widget.editable"><arole="menuitem"type="edit"class="dropdown-item">Edit...</a></t>
                                    <tt-if="widget.deletable"><arole="menuitem"type="delete"class="dropdown-item">Delete</a></t>
                                    <ulclass="oe_kanban_colorpicker"data-field="color"/>
                                </div>
                            </div>
                            <divclass="oe_kanban_content"tooltip="kanban-tooltip">
                                <divclass="o_kanban_record_top">
                                    <bclass="o_kanban_record_title"><fieldname="name"/></b>
                                </div>
                                <divclass="o_kanban_record_body">
                                    <spanname="owner_user_id"t-if="record.owner_user_id.raw_value">Requestedby:<fieldname="owner_user_id"/><br/></span>
                                    <spanclass="oe_grey"t-if="record.equipment_id.raw_value"><fieldname="equipment_id"/><br/></span>
                                    <spant-if="record.category_id.raw_value"><fieldname="category_id"/></span>
                                </div>
                                <divclass="o_kanban_record_bottom">
                                    <divclass="oe_kanban_bottom_left">
                                        <fieldname="priority"widget="priority"/>
                                        <divclass="o_kanban_inline_blockml4mr4">
                                            <fieldname="activity_ids"widget="kanban_activity"/>
                                        </div>
                                    </div>
                                    <divclass="oe_kanban_bottom_right">
                                        <fieldname="kanban_state"widget="state_selection"/>
                                        <fieldname="user_id"widget="many2one_avatar_user"/>
                                    </div>
                                </div>
                            </div>
                            <divclass="oe_clear"></div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <recordid="hr_equipment_request_view_tree"model="ir.ui.view">
        <fieldname="name">equipment.request.tree</field>
        <fieldname="model">maintenance.request</field>
        <fieldname="arch"type="xml">
            <treestring="maintenanceRequest"multi_edit="1"sample="1">
                <fieldname="message_needaction"invisible="1"/>
                <fieldname="name"/>
                <fieldname="request_date"groups="base.group_no_one"/>
                <fieldname="owner_user_id"/>
                <fieldname="user_id"/>
                <fieldname="category_id"readonly="1"groups="maintenance.group_equipment_manager"/>
                <fieldname="stage_id"/>
                <fieldname="company_id"readonly="1"groups="base.group_multi_company"/>
                <fieldname="activity_exception_decoration"widget="activity_exception"/>
            </tree>
        </field>
    </record>

    <recordid="hr_equipment_request_view_graph"model="ir.ui.view">
        <fieldname="name">equipment.request.graph</field>
        <fieldname="model">maintenance.request</field>
        <fieldname="arch"type="xml">
            <graphstring="maintenanceRequest"sample="1">
                <fieldname="user_id"/>
                <fieldname="stage_id"/>
            </graph>
        </field>
    </record>

    <recordid="hr_equipment_request_view_pivot"model="ir.ui.view">
        <fieldname="name">equipment.request.pivot</field>
        <fieldname="model">maintenance.request</field>
        <fieldname="arch"type="xml">
            <pivotstring="maintenanceRequest"sample="1">
                <fieldname="user_id"/>
                <fieldname="stage_id"/>
                <fieldname="color"invisible="1"/>
            </pivot>
        </field>
    </record>


    <recordid="hr_equipment_view_calendar"model="ir.ui.view">
        <fieldname="name">equipment.request.calendar</field>
        <fieldname="model">maintenance.request</field>
        <fieldname="arch"type="xml">
            <calendardate_start="schedule_date"date_delay="duration"color="user_id"event_limit="5">
                <fieldname="user_id"filters="1"/>
                <fieldname="priority"/>
                <fieldname="maintenance_type"/>
            </calendar>
        </field>
    </record>

    <!--equiment.request:actions-->
    <recordid="hr_equipment_request_action"model="ir.actions.act_window">
        <fieldname="name">MaintenanceRequests</field>
        <fieldname="res_model">maintenance.request</field>
        <fieldname="view_mode">kanban,tree,form,pivot,graph,calendar</field>
        <fieldname="view_id"ref="hr_equipment_request_view_kanban"/>
        <fieldname="context">{'default_user_id':uid}</field>
        <fieldname="help"type="html">
            <pclass="o_view_nocontent_smiling_face">
                Addanewmaintenancerequest
            </p><p>
                Followtheprocessoftherequestandcommunicatewiththecollaborator.
            </p>
        </field>
    </record>

    <recordid="hr_equipment_request_action_link"model="ir.actions.act_window">
        <fieldname="name">MaintenanceRequests</field>
        <fieldname="res_model">maintenance.request</field>
        <fieldname="view_mode">kanban,tree,form,pivot,graph,calendar</field>
        <fieldname="search_view_id"ref="hr_equipment_request_view_search"/>
        <fieldname="view_id"ref="hr_equipment_request_view_kanban"/>
        <fieldname="context">{
            'search_default_category_id':[active_id],
            'default_category_id':active_id,
        }</field>
        <fieldname="help"type="html">
            <pclass="o_view_nocontent_smiling_face">
                Addanewmaintenancerequest
            </p><p>
                Followtheprocessoftherequestandcommunicatewiththecollaborator.
            </p>
        </field>
    </record>

    <recordid="hr_equipment_request_action_from_equipment"model="ir.actions.act_window">
        <fieldname="name">MaintenanceRequests</field>
        <fieldname="res_model">maintenance.request</field>
        <fieldname="binding_model_id"ref="maintenance.model_maintenance_equipment"/>
        <fieldname="view_mode">kanban,tree,form,pivot,graph,calendar</field>
        <fieldname="context">{
            'default_equipment_id':active_id,
        }</field>
        <fieldname="domain">[('equipment_id','=',active_id)]</field>
        <fieldname="help"type="html">
            <pclass="o_view_nocontent_smiling_face">
                Addanewmaintenancerequest
            </p><p>
                Followtheprocessoftherequestandcommunicatewiththecollaborator.
            </p>
        </field>
    </record>

    <recordid="hr_equipment_todo_request_action_from_dashboard"model="ir.actions.act_window">
        <fieldname="name">MaintenanceRequests</field>
        <fieldname="res_model">maintenance.request</field>
        <fieldname="view_mode">kanban,tree,form,pivot,graph,calendar</field>
        <fieldname="context">{
            'default_maintenance_team_id':active_id,
        }</field>
        <fieldname="domain">[('maintenance_team_id','=',active_id),('maintenance_type','in',context.get('maintenance_type',['preventive','corrective']))]</field>
        <fieldname="help"type="html">
            <pclass="o_view_nocontent_smiling_face">
                Addanewmaintenancerequest
            </p><p>
                Followtheprocessoftherequestandcommunicatewiththecollaborator.
            </p>
        </field>
    </record>

    <recordid="hr_equipment_request_action_cal"model="ir.actions.act_window">
        <fieldname="name">MaintenanceRequests</field>
        <fieldname="res_model">maintenance.request</field>
        <fieldname="view_mode">calendar,kanban,tree,form,pivot,graph</field>
        <fieldname="view_id"ref="hr_equipment_view_calendar"/>
        <fieldname="help"type="html">
            <pclass="o_view_nocontent_smiling_face">
                Addanewmaintenancerequest
            </p><p>
                Followtheprocessoftherequestandcommunicatewiththecollaborator.
            </p>
        </field>
    </record>

    <recordid="maintenance_request_action_reports"model="ir.actions.act_window">
        <fieldname="name">MaintenanceRequests</field>
        <fieldname="res_model">maintenance.request</field>
        <fieldname="view_mode">graph,pivot,kanban,tree,form,calendar</field>
        <fieldname="help"type="html">
            <pclass="o_view_nocontent_smiling_face">
                Addanewmaintenancerequest
            </p><p>
                Followtheprocessoftherequestandcommunicatewiththecollaborator.
            </p>
        </field>
    </record>

    <!--equiment:views-->
    <recordid="hr_equipment_view_form"model="ir.ui.view">
        <fieldname="name">equipment.form</field>
        <fieldname="model">maintenance.equipment</field>
        <fieldname="arch"type="xml">
            <formstring="Equipments">
                <sheet>
                    <divclass="oe_button_box"name="button_box">
                        <buttonname="%(hr_equipment_request_action_from_equipment)d"
                            type="action"
                            class="oe_stat_button"
                            context="{'default_company_id':company_id}"
                            icon="fa-wrench">
                            <fieldstring="Maintenance"name="maintenance_count"widget="statinfo"/>
                        </button>
                    </div>
                    <widgetname="web_ribbon"title="Archived"bg_color="bg-danger"attrs="{'invisible':[('active','=',True)]}"/>
                    <divclass="oe_title">
                        <labelfor="name"class="oe_edit_only"/>
                        <h1><fieldname="name"string="Name"placeholder="EquipmentName"/></h1>
                    </div>
                    <group>
                        <group>
                            <fieldname="active"invisible="1"/>
                            <fieldname="category_id"options="{&quot;no_open&quot;:True}"context="{'default_company_id':company_id}"/>
                            <fieldname="company_id"groups="base.group_multi_company"options="{'no_create':True}"/>
                            <fieldname="owner_user_id"string="Owner"/>
                        </group>
                        <group>
                            <fieldname="maintenance_team_id"attrs="{'required':[('period','!=',0)]}"context="{'default_company_id':company_id}"/>
                            <fieldname="technician_user_id"domain="[('share','=',False)]"/>
                            <fieldname="assign_date"groups="base.group_no_one"/>
                            <fieldname="scrap_date"groups="base.group_no_one"/>
                            <fieldname="location"string="Usedinlocation"/>
                        </group>
                    </group>
                    <notebook>
                        <pagestring="Description"name="description">
                            <fieldname="note"/>
                        </page>
                        <pagestring="ProductInformation"name="product_information">
                            <group>
                                <group>
                                    <fieldname="partner_id"/>
                                    <fieldname="partner_ref"/>
                                    <fieldname="model"/>
                                    <fieldname="serial_no"/>
                                </group><group>
                                    <fieldname="effective_date"/>
                                    <fieldname="cost"groups="maintenance.group_equipment_manager"/>
                                    <fieldname="warranty_date"/>
                                </group>
                            </group>
                        </page>
                        <pagestring="Maintenance"name="maintenance">
                            <group>
                                <groupname="maintenance">
                                    <fieldname="next_action_date"class="oe_read_only"string="NextPreventiveMaintenance"/>
                                    <labelfor="period"string="PreventiveMaintenanceFrequency"/>
                                    <divclass="o_row">
                                        <fieldname="period"/>days
                                    </div>
                                    <labelfor="maintenance_duration"string="MaintenanceDuration"/>
                                    <divclass="o_row">
                                        <fieldname="maintenance_duration"/>hours
                                    </div>
                                </group>
                            </group>
                        </page>
                    </notebook>
                </sheet>
                <divclass="oe_chatter">
                    <fieldname="message_follower_ids"/>
                    <fieldname="activity_ids"/>
                    <fieldname="message_ids"/>
                </div>
            </form>
        </field>
    </record>

    <recordid="hr_equipment_view_kanban"model="ir.ui.view">
        <fieldname="name">equipment.kanban</field>
        <fieldname="model">maintenance.equipment</field>
        <fieldname="arch"type="xml">
            <kanbansample="1">
                <fieldname="name"/>
                <fieldname="color"/>
                <fieldname="technician_user_id"/>
                <fieldname="owner_user_id"/>
                <fieldname="category_id"/>
                <fieldname="serial_no"/>
                <fieldname="model"/>
                <fieldname="maintenance_ids"/>
                <fieldname="maintenance_open_count"/>
                <fieldname="next_action_date"/>
                <fieldname="activity_ids"/>
                <fieldname="activity_state"/>
                <progressbarfield="activity_state"colors='{"planned":"success","today":"warning","overdue":"danger"}'/>
                <templates>
                    <tt-name="kanban-tooltip">
                        <ulclass="oe_kanban_tooltip">
                            <lit-if="record.serial_no.raw_value"><b>SerialNumber:</b><tt-esc="record.serial_no.value"/></li>
                            <lit-if="record.model.raw_value"><b>ModelNumber:</b><tt-esc="record.model.value"/></li>
                        </ul>
                    </t>
                    <tt-name="kanban-box">
                        <divt-attf-class="{{!selection_mode?'oe_kanban_color_'+kanban_getcolor(record.color.raw_value):''}}oe_kanban_cardoe_kanban_global_click">
                            <divclass="o_dropdown_kanbandropdown"t-if="!selection_mode">

                                <arole="button"class="dropdown-toggleo-no-caretbtn"data-toggle="dropdown"data-display="static"href="#"aria-label="Dropdownmenu"title="Dropdownmenu">
                                    <spanclass="fafa-ellipsis-v"/>
                                </a>
                                <divclass="dropdown-menu"role="menu">
                                    <tt-if="widget.editable"><arole="menuitem"type="edit"class="dropdown-item">Edit...</a></t>
                                    <tt-if="widget.deletable"><arole="menuitem"type="delete"class="dropdown-item">Delete</a></t>
                                    <divrole="separator"class="dropdown-divider"></div>
                                    <divrole="separator"class="dropdown-header">RecordColour</div>
                                    <ulclass="oe_kanban_colorpicker"data-field="color"/>
                                </div>
                            </div>
                            <divclass="oe_kanban_content"tooltip="kanban-tooltip">
                                <divclass="o_kanban_record_top">
                                    <bclass="o_kanban_record_title"><fieldname="name"/><small><spant-if="record.model.raw_value">(<fieldname="model"/>)</span></small></b>
                                </div>
                                <divclass="o_kanban_record_body">
                                    <divt-if="record.serial_no.raw_value"><fieldname="serial_no"/></div>
                                </div>
                                <divclass="o_kanban_record_bottom">
                                    <divclass="oe_kanban_bottom_left">
                                        <divclass="badgebadge-danger"t-if="!selection_modeandrecord.maintenance_open_count.raw_value">
                                            <tt-raw="record.maintenance_open_count.raw_value"/>Request
                                        </div>
                                        <divclass="badgebadge-secondary"t-if="!selection_modeandrecord.next_action_date.raw_value">
                                            <tt-raw="moment(record.next_action_date.raw_value).format('MMMMDo')"/>
                                        </div>
                                    </div>
                                    <divclass="oe_kanban_bottom_right">
                                        <divclass="o_kanban_inline_block"t-if="!selection_mode">
                                            <fieldname="activity_ids"widget="kanban_activity"/>
                                        </div>
                                        <fieldname="owner_user_id"widget="many2one_avatar_user"/>
                                    </div>
                                </div>
                            </div>
                            <divclass="oe_clear"></div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <recordid="hr_equipment_view_tree"model="ir.ui.view">
        <fieldname="name">equipment.tree</field>
        <fieldname="model">maintenance.equipment</field>
        <fieldname="arch"type="xml">
            <treestring="AssignToUser"sample="1">
                <fieldname="message_needaction"invisible="1"/>
                <fieldname="name"/>
                <!--<fieldname="active"invisible="1"/>-->
                <fieldname="owner_user_id"string="Owner"/>
                <fieldname="assign_date"groups="base.group_no_one"/>
                <fieldname="serial_no"/>
                <fieldname="technician_user_id"/>
                <fieldname="category_id"/>
                <fieldname="partner_id"invisible="1"/>
                <fieldname="company_id"groups="base.group_multi_company"/>
                <fieldname="activity_exception_decoration"widget="activity_exception"/>
            </tree>
        </field>
    </record>

    <recordid="hr_equipment_view_search"model="ir.ui.view">
        <fieldname="name">equipment.search</field>
        <fieldname="model">maintenance.equipment</field>
        <fieldname="arch"type="xml">
            <searchstring="Search">
                <fieldstring="Equipment"name="name"filter_domain="[
                    '|','|','|',
                    ('name','ilike',self),('model','ilike',self),('serial_no','ilike',self),('partner_ref','ilike',self)]"/>
                <fieldstring="Category"name="category_id"/>
                <fieldname="owner_user_id"/>
                <filterstring="MyEquipments"name="my"domain="[('owner_user_id','=',uid)]"/>
                <filterstring="Assigned"name="assigned"domain="[('owner_user_id','!=',False)]"/>
                <filterstring="Unassigned"name="available"domain="[('owner_user_id','=',False)]"/>
                <separator/>
                <filterstring="UnderMaintenance"name="under_maintenance"domain="[('maintenance_open_count','&gt;',0)]"/>
                <separator/>
                <filterstring="UnreadMessages"name="message_needaction"domain="[('message_needaction','=',True)]"/>
                <separator/>
                <filterinvisible="1"string="LateActivities"name="activities_overdue"
                    domain="[('my_activity_date_deadline','&lt;',context_today().strftime('%Y-%m-%d'))]"
                    help="Showallrecordswhichhasnextactiondateisbeforetoday"/>
                <filterinvisible="1"string="TodayActivities"name="activities_today"
                    domain="[('my_activity_date_deadline','=',context_today().strftime('%Y-%m-%d'))]"/>
                <filterinvisible="1"string="FutureActivities"name="activities_upcoming_all"
                    domain="[('my_activity_date_deadline','&gt;',context_today().strftime('%Y-%m-%d'))]"/>
                <separator/>
                <filterstring="Archived"name="inactive"domain="[('active','=',False)]"/>
                <group expand='0'string='Groupby...'>
                    <filterstring='Technician'name="technicians"domain="[]"context="{'group_by':'technician_user_id'}"/>
                    <filterstring='Category'name="category"domain="[]"context="{'group_by':'category_id'}"/>
                    <filterstring='Owner'name="owner"domain="[]"context="{'group_by':'owner_user_id'}"/>
                    <filterstring='Vendor'name="vendor"domain="[]"context="{'group_by':'partner_id'}"/>
                </group>
            </search>
        </field>
    </record>

    <recordid="hr_equipment_action"model="ir.actions.act_window">
        <fieldname="name">Equipments</field>
        <fieldname="res_model">maintenance.equipment</field>
        <fieldname="view_mode">kanban,tree,form</field>
        <fieldname="view_id"ref="hr_equipment_view_kanban"/>
        <fieldname="help"type="html">
            <pclass="o_view_nocontent_smiling_face">
                Addanewequipment
            </p><p>
                Trackequipmentsandlinkittoanemployeeordepartment.
                Youwillbeabletomanageallocations,issuesandmaintenanceofyourequipment.
            </p>
        </field>
    </record>

    <!--equiment:actions-->
    <recordid="hr_equipment_action_from_category_form"model="ir.actions.act_window">
        <fieldname="name">Equipments</field>
        <fieldname="res_model">maintenance.equipment</field>
        <fieldname="view_mode">kanban,tree,form</field>
        <fieldname="search_view_id"ref="hr_equipment_view_search"/>
        <fieldname="view_id"ref="hr_equipment_view_kanban"/>
        <fieldname="context">{
            'search_default_category_id':[active_id],
            'default_category_id':active_id,
        }</field>
        <fieldname="help"type="html">
            <pclass="o_view_nocontent_smiling_face">
                Addanewequipment
            </p><p>
                Trackequipmentsandlinkittoanemployeeordepartment.
                Youwillbeabletomanageallocations,issuesandmaintenanceofyourequipment.
            </p>
        </field>
    </record>

    <!--equipment.category:views-->
    <recordid="hr_equipment_category_view_form"model="ir.ui.view">
        <fieldname="name">equipment.category.form</field>
        <fieldname="model">maintenance.equipment.category</field>
        <fieldname="arch"type="xml">
            <formstring="EquipmentCategories">
                <sheet>
                <divclass="oe_button_box"name="button_box">
                    <buttonname="%(hr_equipment_action_from_category_form)d"
                        class="oe_stat_button"
                        icon="fa-cubes"
                        type="action">
                        <fieldstring="Equipment"name="equipment_count"widget="statinfo"/>
                    </button>
                    <buttonname="%(hr_equipment_request_action_link)d"
                        type="action"
                        class="oe_stat_button"
                        icon="fa-wrench">
                        <fieldstring="Maintenance"name="maintenance_count"widget="statinfo"/>
                    </button>
                </div>
                <divclass="oe_title">
                    <labelfor="name"class="oe_edit_only"string="CategoryName"/>
                    <h1>
                        <fieldname="name"/>
                    </h1>
                </div>
                <group>
                    <fieldname="technician_user_id"class="oe_inline"domain="[('share','=',False)]"/>
                    <fieldname="company_id"groups="base.group_multi_company"options="{'no_create':True}"class="oe_inline"/>
                </group>
                <groupname="group_alias"attrs="{'invisible':[('alias_domain','=',False)]}"groups="base.group_no_one">
                    <labelfor="alias_name"string="EmailAlias"/>
                    <divname="alias_def">
                        <fieldname="alias_id"class="oe_read_onlyoe_inline"string="EmailAlias"required="0"/>
                        <divclass="oe_edit_onlyoe_inline"name="edit_alias"style="display:inline;">
                            <fieldname="alias_name"class="oe_inline"/>@<fieldname="alias_domain"class="oe_inline"readonly="1"/>
                        </div>
                    </div>
                </group>
                <fieldname="note"nolabel="1"/>
                </sheet>
                <divclass="oe_chatter">
                    <fieldname="message_follower_ids"/>
                    <fieldname="message_ids"/>
                </div>
            </form>
        </field>
    </record>

    <recordid="hr_equipment_category_view_tree"model="ir.ui.view">
        <fieldname="name">equipment.category.tree</field>
        <fieldname="model">maintenance.equipment.category</field>
        <fieldname="arch"type="xml">
            <treestring="AssignToUser">
                <fieldname="name"string="Name"/>
                <fieldname="technician_user_id"/>
                <fieldname="company_id"groups="base.group_multi_company"/>
            </tree>
        </field>
    </record>

    <recordid="hr_equipment_category_view_search"model="ir.ui.view">
        <fieldname="name">equipment.category.search</field>
        <fieldname="model">maintenance.equipment.category</field>
        <fieldname="arch"type="xml">
            <searchstring="Search">
                <fieldname="name"string="CategoryName"filter_domain="[('name','ilike',self)]"/>
                <group expand='0'string='Groupby...'>
                    <filterstring='Responsible'name="responsible"domain="[]"context="{'group_by':'technician_user_id'}"/>
                </group>
            </search>
        </field>
    </record>

    <recordid="view_maintenance_equipment_category_kanban"model="ir.ui.view">
        <fieldname="name">maintenance.equipment.category.kanban</field>
        <fieldname="model">maintenance.equipment.category</field>
        <fieldname="arch"type="xml">
            <kanban>
                <fieldname="name"/>
                <fieldname="technician_user_id"/>
                <templates>
                    <tt-name="kanban-box">
                        <divt-attf-class="oe_kanban_global_click">
                            <divclass="mb4">
                                <strong><fieldname="name"/></strong>
                            </div>
                            <divclass="rowmt4">
                                <divclass="col-6">
                                    <spanclass="badgebadge-pill">
                                        <strong>Equipments:</strong><fieldname="equipment_count"/>
                                    </span>
                                </div>
                                <divclass="col-6text-right">
                                    <spanclass="badgebadge-pill">
                                        <strong>Maintenance:</strong><fieldname="maintenance_count"/>
                                    </span>
                                    <fieldname="technician_user_id"widget="many2one_avatar_user"/>
                                </div>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <!--equipment.category:actions-->
    <recordid="hr_equipment_category_action"model="ir.actions.act_window">
        <fieldname="name">EquipmentCategories</field>
        <fieldname="res_model">maintenance.equipment.category</field>
        <fieldname="view_mode">tree,kanban,form</field>
        <fieldname="view_id"ref="hr_equipment_category_view_tree"/>
        <fieldname="help"type="html">
            <pclass="o_view_nocontent_smiling_face">
                Addanewequipmentcategory
            </p>
        </field>
    </record>

    <!--equipment.stage:views-->
    <recordid="hr_equipment_stage_view_search"model="ir.ui.view">
        <fieldname="name">equipment.stage.search</field>
        <fieldname="model">maintenance.stage</field>
        <fieldname="arch"type="xml">
            <searchstring="MaintenanceRequestStages">
               <fieldname="name"string="MaintenanceRequestStages"/>
            </search>
        </field>
    </record>

    <recordid="hr_equipment_stage_view_tree"model="ir.ui.view">
        <fieldname="name">equipment.stage.tree</field>
        <fieldname="model">maintenance.stage</field>
        <fieldname="arch"type="xml">
            <treestring="MaintenanceRequestStage"editable="top">
                <fieldname="sequence"widget="handle"/>
                <fieldname="name"/>
                <fieldname="fold"/>
                <fieldname="done"/>
            </tree>
        </field>
    </record>
    <recordid="hr_equipment_stage_view_kanban"model="ir.ui.view">
        <fieldname="name">equipment.stage.kanban</field>
        <fieldname="model">maintenance.stage</field>
        <fieldname="arch"type="xml">
            <kanbanclass="o_kanban_mobile">
                <templates>
                    <tt-name="kanban-box">
                        <divt-attf-class="oe_kanban_global_click">
                            <div>
                                <strong><fieldname="name"/></strong>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <!--equipment.stages:actions-->
    <recordid="hr_equipment_stage_action"model="ir.actions.act_window">
        <fieldname="name">Stages</field>
        <fieldname="res_model">maintenance.stage</field>
        <fieldname="view_mode">tree,kanban,form</field>
        <fieldname="help"type="html">
          <pclass="o_view_nocontent_smiling_face">
            Addanewstageinthemaintenancerequest
          </p>
        </field>
    </record>

    <!--maintenance.team:views-->
    <recordid="maintenance_team_view_form"model="ir.ui.view">
        <fieldname="name">maintenance.team.form</field>
        <fieldname="model">maintenance.team</field>
        <fieldname="arch"type="xml">
            <formstring="MaintenanceTeam">
                <sheet>
                <widgetname="web_ribbon"title="Archived"bg_color="bg-danger"attrs="{'invisible':[('active','=',True)]}"/>
                <divclass="oe_title">
                    <labelfor="name"class="oe_edit_only"string="TeamName"/>
                    <h1>
                        <fieldname="name"/>
                    </h1>
                </div>
                <group>
                    <group>
                        <fieldname="active"invisible="1"/>
                        <fieldname="member_ids"widget="many2many_tags"options="{'color_field':'color','no_create':True}"domain="[('share','=',False)]"/>
                    </group>
                    <group>
                        <fieldname="company_id"groups="base.group_multi_company"options="{'no_create':True}"/>
                    </group>
                </group>
                </sheet>
            </form>
        </field>
    </record>

    <recordid="maintenance_team_view_tree"model="ir.ui.view">
        <fieldname="name">maintenance.team.tree</field>
        <fieldname="model">maintenance.team</field>
        <fieldname="arch"type="xml">
            <treestring="MaintenanceTeam"editable="bottom">
                <fieldname="name"/>
                <fieldname="member_ids"widget="many2many_tags"options="{'color_field':'color','no_create':True}"domain="[('share','=',False)]"/>
                <fieldname="company_id"groups="base.group_multi_company"options="{'no_create':True}"/>
            </tree>
        </field>
    </record>

    <recordid="maintenance_team_view_kanban"model="ir.ui.view">
        <fieldname="name">maintenance.team.kanban</field>
        <fieldname="model">maintenance.team</field>
        <fieldname="arch"type="xml">
            <kanbanclass="o_kanban_mobile">
                <templates>
                    <tt-name="kanban-box">
                        <divt-attf-class="oe_kanban_global_click">
                            <div>
                                <strong><fieldname="name"/></strong>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <recordid="maintenance_team_kanban"model="ir.ui.view">
        <fieldname="name">maintenance.team.kanban</field>
        <fieldname="model">maintenance.team</field>
        <fieldname="arch"type="xml">
            <kanbanclass="oe_background_greyo_kanban_dashboardo_maintenance_team_kanban"create="0">
                <fieldname="name"/>
                <fieldname="color"/>
                <fieldname="todo_request_ids"/>
                <fieldname="todo_request_count"/>
                <fieldname="todo_request_count_date"/>
                <fieldname="todo_request_count_high_priority"/>
                <fieldname="todo_request_count_block"/>
                <fieldname="todo_request_count_unscheduled"/>
                <templates>
                    <tt-name="kanban-box">
                        <divt-attf-class="#{!selection_mode?kanban_color(record.color.raw_value):''}">
                            <divt-attf-class="o_kanban_card_header">
                                <divclass="o_kanban_card_header_title">
                                    <divclass="o_primary">
                                        <aname="%(hr_equipment_todo_request_action_from_dashboard)d"type="action">
                                            <fieldname="name"/>
                                        </a></div>
                                </div>
                                <divclass="o_kanban_manage_button_section">
                                    <aclass="o_kanban_manage_toggle_button"href="#"><iclass="fafa-ellipsis-v"role="img"aria-label="Manage"title="Manage"/></a>
                                </div>
                            </div>
                            <divclass="containero_kanban_card_content">
                                <divclass="row">
                                    <divclass="col-6o_kanban_primary_left">
                                        <buttonclass="btnbtn-primary"name="%(hr_equipment_todo_request_action_from_dashboard)d"type="action"context="{'search_default_todo':1}">
                                            <tt-esc="record.todo_request_count.value"/>ToDo
                                        </button>
                                    </div>
                                    <divclass="col-6o_kanban_primary_right">
                                        <divt-if="record.todo_request_count_date.raw_value>0">
                                            <aname="%(hr_equipment_request_action_cal)d"type="action">
                                                <tt-esc="record.todo_request_count_date.value"/>
                                                Scheduled
                                            </a>
                                        </div>
                                        <divt-if="record.todo_request_count_high_priority.raw_value>0">
                                            <aname="%(hr_equipment_todo_request_action_from_dashboard)d"type="action"context="{'search_default_high_priority':1}">
                                                <tt-esc="record.todo_request_count_high_priority.value"/>
                                                TopPriorities
                                            </a>
                                        </div>
                                        <divt-if="record.todo_request_count_block.raw_value>0">
                                            <aname="%(hr_equipment_todo_request_action_from_dashboard)d"type="action"context="{'search_default_kanban_state_block':1}">
                                                <tt-esc="record.todo_request_count_block.value"/>
                                                Blocked
                                            </a>
                                        </div>
                                        <divt-if="record.todo_request_count_unscheduled.raw_value>0">
                                            <aname="%(hr_equipment_todo_request_action_from_dashboard)d"type="action"context="{'search_default_unscheduled':1}">
                                                <tt-esc="record.todo_request_count_unscheduled.value"/>
                                                Unscheduled
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div><divclass="containero_kanban_card_manage_panedropdown-menu"role="menu">
                                <divclass="row">
                                    <divclass="col-6o_kanban_card_manage_sectiono_kanban_manage_view">
                                        <divrole="menuitem"class="o_kanban_card_manage_title">
                                            <span>Requests</span>
                                        </div>
                                        <divrole="menuitem">
                                            <aname="%(hr_equipment_todo_request_action_from_dashboard)d"type="action">
                                                All
                                            </a>
                                        </div>
                                        <divrole="menuitem">
                                            <aname="%(hr_equipment_todo_request_action_from_dashboard)d"type="action"context="{'search_default_todo':1}">
                                                ToDo
                                            </a>
                                        </div>
                                        <divrole="menuitem">
                                            <aname="%(hr_equipment_todo_request_action_from_dashboard)d"type="action"context="{'search_default_progress':1}">
                                                InProgress
                                            </a>
                                        </div>
                                        <divrole="menuitem">
                                            <aname="%(hr_equipment_todo_request_action_from_dashboard)d"type="action"context="{'search_default_done':1}">
                                                Done
                                            </a>
                                        </div>
                                    </div>
                                    <divclass="col-6o_kanban_card_manage_sectiono_kanban_manage_new">
                                        <divrole="menuitem"class="o_kanban_card_manage_title">
                                            <span>Reporting</span>
                                        </div>
                                        <divrole="menuitem">
                                            <aname="%(maintenance_request_action_reports)d"type="action"context="{'search_default_maintenance_team_id':active_id}">
                                            MaintenanceRequests
                                            </a>
                                        </div>
                                    </div>
                                </div>
                                <divt-if="widget.editable"class="o_kanban_card_manage_settingsrow">
                                    <divclass="col-8"role="menuitem"aria-haspopup="true">
                                        <ulrole="menu"class="oe_kanban_colorpicker"data-field="color"/>
                                    </div>
                                    <divrole="menuitem"class="col-4">
                                        <atype="edit"class="dropdown-item">Configuration</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <recordid="maintenance_team_view_search"model="ir.ui.view">
        <fieldname="name">maintenance.team.search</field>
        <fieldname="model">maintenance.team</field>
        <fieldname="arch"type="xml">
            <searchstring="Search">
                <fieldstring="Team"name="name"/>
                <filterstring="Archived"domain="[('active','=',False)]"name="inactive"/>
            </search>
        </field>
    </record>

    <!--equipment.team:actions-->
    <recordid="maintenance_team_action_settings"model="ir.actions.act_window">
        <fieldname="name">Teams</field>
        <fieldname="res_model">maintenance.team</field>
        <fieldname="view_mode">tree,kanban,form</field>
        <fieldname="search_view_id"ref="maintenance_team_view_search"/>
        <fieldname="view_ids"eval="[(5,0,0),
                (0,0,{'view_mode':'tree','view_id':ref('maintenance_team_view_tree')}),
                (0,0,{'view_mode':'kanban','view_id':ref('maintenance_team_view_kanban')})]"/>
        <fieldname="help"type="html">
          <pclass="o_view_nocontent_smiling_face">
            Addateaminthemaintenancerequest
          </p>
        </field>
    </record>

    <recordid="maintenance_dashboard_action"model="ir.actions.act_window">
        <fieldname="name">MaintenanceTeams</field>
        <fieldname="res_model">maintenance.team</field>
        <fieldname="view_mode">kanban,form</field>
        <fieldname="view_id"ref="maintenance_team_kanban"/>
        <fieldname="help"type="html">
          <pclass="o_view_nocontent_smiling_face">
            Addanewstageinthemaintenancerequest
          </p>
        </field>
    </record>


    <!--Menuitemshierachy-->
    <menuitem
        id="menu_maintenance_title"
        name="Maintenance"
        web_icon="maintenance,static/description/icon.png"
        sequence="110"/>

    <menuitem
        id="menu_m_dashboard"
        name="Dashboard"
        parent="menu_maintenance_title"
        groups="group_equipment_manager,base.group_user"
        action="maintenance_dashboard_action"
        sequence="0"/>

    <menuitem
        id="menu_m_request"
        name="Maintenance"
        parent="menu_maintenance_title"
        groups="group_equipment_manager,base.group_user"
        sequence="1"/>

    <menuitem
        id="menu_m_request_form"
        name="MaintenanceRequests"
        parent="menu_m_request"
        action="hr_equipment_request_action"
        groups="group_equipment_manager,base.group_user"
        sequence="1"/>

    <menuitem
        id="menu_m_request_calendar"
        name="MaintenanceCalendar"
        parent="menu_m_request"
        action="hr_equipment_request_action_cal"
        groups="group_equipment_manager,base.group_user"
        sequence="2"/>

    <menuitem
        id="menu_equipment_form"
        name="Equipments"
        parent="menu_maintenance_title"
        action="hr_equipment_action"
        groups="group_equipment_manager,base.group_user"
        sequence="2"/>

    <menuitem
        id="menu_m_reports"
        name="Reporting"
        parent="menu_maintenance_title"
        groups="group_equipment_manager,base.group_user"
        sequence="3"/>

    <menuitem
        id="menu_m_reports_oee"
        name="OverallEquipmentEffectiveness(OEE)"
        parent="menu_m_reports"
        groups="group_equipment_manager,base.group_user"
        sequence="1"/>

    <menuitem
        id="menu_m_reports_losses"
        name="LossesAnalysis"
        parent="menu_m_reports"
        groups="group_equipment_manager,base.group_user"
        sequence="2"/>

    <menuitem
        id="maintenance_reporting"
        name="Reporting"
        parent="menu_maintenance_title"
        sequence="20"/>
    <menuitem
        id="maintenance_request_reporting"
        action="maintenance_request_action_reports"
        parent="maintenance_reporting"/>

    <menuitem
        id="menu_maintenance_configuration"
        name="Configuration"
        parent="menu_maintenance_title"
        groups="group_equipment_manager"
        sequence="100"/>

    <menuitem
        id="menu_maintenance_teams"
        name="MaintenanceTeams"
        parent="menu_maintenance_configuration"
        action="maintenance_team_action_settings"
        groups="group_equipment_manager"
        sequence="1"/>

    <menuitem
        id="menu_maintenance_cat"
        name="EquipmentCategories"
        parent="menu_maintenance_configuration"
        action="hr_equipment_category_action"
        sequence="2"/>

    <menuitem
        id="menu_maintenance_stage_configuration"
        name="MaintenanceStages"
        parent="menu_maintenance_configuration"
        action="hr_equipment_stage_action"
        groups="base.group_no_one"
        sequence="3"/>
</flectra>
