<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
    <!--Thisgroupisonlyallowedtodealwithequipmentregistrationandmaintenance-->
    <recordid="group_equipment_manager"model="res.groups">
        <fieldname="name">EquipmentManager</field>
        <fieldname="category_id"ref="base.module_category_manufacturing_maintenance"/>
        <fieldname="implied_ids"eval="[(4,ref('base.group_user'))]"/>
        <fieldname="comment">Theuserwillbeabletomanageequipments.</field>
    </record>

    <datanoupdate="1">

    <!--Rules-->
    <recordid="equipment_request_rule_user"model="ir.rule">
        <fieldname="name">Usersareallowedtoaccesstheirownmaintenancerequests</field>
        <fieldname="model_id"ref="model_maintenance_request"/>
        <fieldname="domain_force">['|','|',('owner_user_id','=',user.id),('message_partner_ids','in',[user.partner_id.id]),('user_id.id','=',user.id)]</field>
        <fieldname="groups"eval="[(4,ref('base.group_user'))]"/>
    </record>

    <recordid="equipment_rule_user"model="ir.rule">
        <fieldname="name">Usersareallowedtoaccessequipmentstheyfollow</field>
        <fieldname="model_id"ref="model_maintenance_equipment"/>
        <fieldname="domain_force">[('message_partner_ids','in',[user.partner_id.id])]</field>
        <fieldname="groups"eval="[(4,ref('base.group_user'))]"/>
    </record>

    <recordid="equipment_request_rule_admin_user"model="ir.rule">
        <fieldname="name">Administratorofmaintenancerequests</field>
        <fieldname="model_id"ref="model_maintenance_request"/>
        <fieldname="domain_force">[(1,'=',1)]</field>
        <fieldname="groups"eval="[(4,ref('group_equipment_manager'))]"/>
    </record>

    <recordid="equipment_rule_admin_user"model="ir.rule">
        <fieldname="name">Equipmentsadministrator</field>
        <fieldname="model_id"ref="model_maintenance_equipment"/>
        <fieldname="domain_force">[(1,'=',1)]</field>
        <fieldname="groups"eval="[(4,ref('group_equipment_manager'))]"/>
    </record>

    <recordid="maintenance_request_comp_rule"model="ir.rule">
        <fieldname="name">MaintenanceRequestMulti-companyrule</field>
        <fieldname="model_id"ref="model_maintenance_request"/>
        <fieldname="domain_force">[('company_id','in',company_ids+[False])]</field>
    </record>

    <recordid="maintenance_equipment_comp_rule"model="ir.rule">
        <fieldname="name">MaintenanceEquipmentMulti-companyrule</field>
        <fieldname="model_id"ref="model_maintenance_equipment"/>
        <fieldname="domain_force">[('company_id','in',company_ids+[False])]</field>
    </record>

    <recordid="maintenance_team_comp_rule"model="ir.rule">
        <fieldname="name">MaintenanceTeamMulti-companyrule</field>
        <fieldname="model_id"ref="model_maintenance_team"/>
        <fieldname="domain_force">[('company_id','in',company_ids+[False])]</field>
    </record>

    <recordid="maintenance_equipment_category_comp_rule"model="ir.rule">
        <fieldname="name">MaintenanceEquipmentCategoryMulti-companyrule</field>
        <fieldname="model_id"ref="model_maintenance_equipment_category"/>
        <fieldname="domain_force">[('company_id','in',company_ids+[False])]</field>
    </record>

    <recordid="base.user_admin"model="res.users">
        <fieldname="groups_id"eval="[(4,ref('group_equipment_manager'))]"/>
    </record>

    </data>

</flectra>
