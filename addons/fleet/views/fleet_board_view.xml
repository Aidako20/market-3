<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
    <recordid="fleet_costs_report_view_search"model="ir.ui.view">
        <fieldname="name">fleet.vehicle.cost.view.search</field>
        <fieldname="model">fleet.vehicle.cost.report</field>
        <fieldname="arch"type="xml">
            <searchstring="FleetCostsAnalysis">
                <fieldname="name"filter_domain="[('name','ilike',self)]"/>
                <fieldname="driver_id"filter_domain="[('driver_id','ilike',self)]"/>
                <fieldname="date_start"/>
                <filterstring="Service"name="service"domain="[('cost_type','=','service')]"/>
                <filterstring="Contract"name="contract"domain="[('cost_type','=','contract')]"/>
                <separator/>
                <filtername="filter_date_start"date="date_start"default_period="this_year"/>
                <groupexpand="1"string="GroupBy">
                    <filterstring="Vehicle"name="vehicle"context="{'group_by':'vehicle_id'}"/>
                    <filterstring="Driver"name="driver"context="{'group_by':'driver_id'}"/>
                </group>
            </search>
        </field>
    </record>

    <recordid="fleet_costs_report_view_pivot"model="ir.ui.view">
        <fieldname="name">fleet.vehicle.cost.view.pivot</field>
        <fieldname="model">fleet.vehicle.cost.report</field>
        <fieldname="arch"type="xml">
            <pivotsample="1"disable_linking="True">
                <fieldname="date_start"type="col"interval="year"/>
                <fieldname="cost_type"type="col"/>
                <fieldname="vehicle_id"type="row"/>
                <fieldname="cost"type="measure"/>
            </pivot>
        </field>
    </record>

    <recordid="fleet_costs_report_view_graph"model="ir.ui.view">
        <fieldname="name">fleet.vehicle.cost.view.graph</field>
        <fieldname="model">fleet.vehicle.cost.report</field>
        <fieldname="arch"type="xml">
            <graphstring="FleetCostsAnalysis"type="bar"sample="1"disable_linking="1">
                <fieldname="date_start"type="row"interval="month"/>
                <fieldname="cost_type"type="row"/>
                <fieldname="cost"type="measure"/>
            </graph>
        </field>
    </record>


 <recordid="fleet_costs_reporting_action"model="ir.actions.act_window">
      <fieldname="name">CostsAnalysis</field>
      <fieldname="res_model">fleet.vehicle.cost.report</field>
      <fieldname="view_mode">graph,pivot</field>
      <fieldname="view_id"></field> 
      <fieldname="context"eval="{'search_default_filter_date_start':1}"/>
      <fieldname="search_view_id"ref="fleet.fleet_costs_report_view_search"/>
      <fieldname="help"type="html">
        <pclass="o_view_nocontent_empty_folder">
          Nodataforanalysis
        </p><p>
          Flectrahelpsyoumanagingthecostsforyourdifferentvehicles
          Costsaregenerallycreatedfromservicesandcontractandappearshere.
        </p><p>
          Thankstothedifferentfilters,Flectracanonlyprinttheeffective
          costs,sortthembytypeandbyvehicle.
        </p>
      </field>
    </record>
    <menuitemname="Reporting"parent="menu_root"id="menu_fleet_reporting"sequence="99"groups="fleet_group_manager"/>
    <menuitemid="menu_fleet_reporting_costs"
              name="Costs"
              parent="menu_fleet_reporting"
              action="fleet_costs_reporting_action"
              sequence="1"
              groups="fleet_group_manager"/>
</flectra>
