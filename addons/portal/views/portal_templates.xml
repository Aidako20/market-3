<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
    <templateid="frontend_layout"name="MainFrontendLayout"inherit_id="web.frontend_layout">
        <xpathexpr="//div[@id='wrapwrap']"position="attributes">
            <attributename="t-attf-class"add="#{request.env['res.lang']._lang_get(request.env.lang).direction=='rtl'and'o_rtl'or''}"separator=""/>
            <attributename="t-attf-class"add="#{'o_portal'ifis_portalelse''}"separator=""/>
        </xpath>
        <xpathexpr="//div[@id='wrapwrap']/header/img"position="replace">
            <navclass="navbarnavbar-expandnavbar-lightbg-light">
                <divclass="container">
                    <ahref="/"class="navbar-brandlogo">
                        <imgt-att-src="'/logo.png?company=%s'%res_company.id"t-att-alt="'Logoof%s'%res_company.name"t-att-title="res_company.name"/>
                    </a>
                    <ulid="top_menu"class="navnavbar-navml-auto">
                        <tt-call="portal.placeholder_user_sign_in">
                            <tt-set="_item_class"t-value="'nav-item'"/>
                            <tt-set="_link_class"t-value="'nav-link'"/>
                        </t>
                        <tt-call="portal.user_dropdown">
                            <tt-set="_user_name"t-value="true"/>
                            <tt-set="_item_class"t-value="'nav-itemdropdown'"/>
                            <tt-set="_link_class"t-value="'nav-link'"/>
                            <tt-set="_dropdown_menu_class"t-value="'dropdown-menu-right'"/>
                        </t>
                    </ul>
                </div>
            </nav>
        </xpath>
        <xpathexpr="//div[@id='wrapwrap']/main/t[@t-raw='0']"position="before">
            <divt-if="o_portal_fullwidth_alert"class="alertalert-infoalert-dismissiblerounded-0fadeshowd-print-nonecss_editable_mode_hidden">
                <divclass="container">
                    <tt-raw="o_portal_fullwidth_alert"/>
                </div>
            </div>
        </xpath>
    </template>

    <!--Addedbyanothertemplatesothatitcanbedisabledifneeded-->
    <templateid="footer_language_selector"inherit_id="portal.frontend_layout"name="FooterLanguageSelector">
        <xpathexpr="//*[hasclass('o_footer_copyright_name')]"position="after">
            <tid="language_selector_call"t-call="portal.language_selector">
                <tt-set="_div_classes"t-value="(_div_classesor'')+'dropup'"/>
            </t>
        </xpath>
    </template>

    <templateid="language_selector"name="LanguageSelector">
        <tt-set="active_lang"t-value="list(filter(lambdalg:lg[0]==lang,languages))[0]"/>
        <tt-set="language_selector_visible"t-value="len(languages)&gt;1"/>
        <divt-attf-class="js_language_selector#{_div_classes}"t-if="language_selector_visible">
            <buttonclass="btnbtn-smbtn-outline-secondaryborder-0dropdown-toggle"type="button"data-toggle="dropdown"aria-haspopup="true"aria-expanded="true">
                <spant-if="notno_text"
                        class="align-middle"
                        t-esc="active_lang[2].split('/').pop()"/>
            </button>
            <divclass="dropdown-menu"role="menu">
                <tt-foreach="languages"t-as="lg">
                    <at-att-href="url_for(request.httprequest.path+'?'+keep_query(),lang_code=lg[0])"
                    class="dropdown-itemjs_change_lang"
                    t-att-data-url_code="lg[1]">
                        <spant-if="notno_text"
                              t-esc="lg[2].split('/').pop()"/>
                    </a>
                </t>
            </div>
        </div>
    </template>

    <templateid="user_dropdown"name="PortalUserDropdown">
        <tt-set="is_connected"t-value="notuser_id._is_public()"/>
        <lit-if="is_connected"t-attf-class="#{_item_class}o_no_autohide_item">
            <ahref="#"role="button"data-toggle="dropdown"t-attf-class="dropdown-toggle#{_link_class}">
                <tt-if="_avatar">
                    <tt-if="user_id.image_256"t-set="avatar_source"t-value="image_data_uri(user_id.image_256)"/>
                    <tt-else=""t-set="avatar_source"t-value="'/web/static/src/img/placeholder.png'"/>
                    <imgt-att-src="avatar_source"t-attf-class="rounded-circleo_object_fit_cover#{_avatar_class}"width="24"height="24"alt=""loading="eager"/>
                </t>
                <it-if="_icon"t-attf-class="fafa-1xfa-fwfa-user-circle-o#{_icon_class}"/>
                <spant-if="_user_name"t-attf-class="#{_user_name_class}"t-esc="user_id.name[:23]+'...'ifuser_id.nameandlen(user_id.name)&gt;25elseuser_id.name"/>
            </a>
            <divt-attf-class="dropdown-menujs_usermenu#{_dropdown_menu_class}"role="menu">
                <divid="o_logout_divider"class="dropdown-divider"/>
                <at-attf-href="/web/session/logout?redirect=/"role="menuitem"id="o_logout"class="dropdown-item">Logout</a>
            </div>
        </li>
    </template>

    <templateid="portal_breadcrumbs"name="PortalBreadcrumbs">
        <olt-if="page_name!='home'"class="o_portal_submenubreadcrumbmb-0py-2flex-grow-1row">
            <liclass="breadcrumb-itemml-1"><ahref="/my/home"aria-label="Home"title="Home"><iclass="fafa-home"/></a></li>
            <lit-if="page_name=='my_details'"class="breadcrumb-item">Details</li>
        </ol>
    </template>

    <templateid="portal_back_in_edit_mode"name="Backtoeditmode">
        <divt-ignore="true"class="text-center">
            <tt-if="custom_html"t-raw="custom_html"/>
            <tt-else="">Thisisapreviewofthecustomerportal.</t>
            <at-att-href="backend_url"><iclass="fafa-arrow-rightmr-1"/>Backtoeditmode</a>
        </div>
        <buttontype="button"class="close"data-dismiss="alert"aria-label="Close">&#215;</button>
    </template>

    <templateid="portal_layout"name="PortalLayout">
        <tt-call="portal.frontend_layout">
            <tt-set="is_portal"t-value="True"/>

            <divt-if="notno_breadcrumbsandnotmy_detailsandnotbreadcrumbs_searchbar"class="o_portalcontainermt-3">
                <divclass="rowalign-items-centerbg-whiteno-guttersborderrounded">
                    <divclass="col-10">
                        <tt-call="portal.portal_breadcrumbs"></t>
                    </div>
                    <divt-if="prev_recordornext_record"class="col-2flex-grow-0text-center">
                        <tt-call='portal.record_pager'/>
                    </div>
                </div>
            </div>
            <divid="wrap"class='o_portal_wrap'>
                <divclass="containermb64">
                    <tt-if="my_details">
                        <divclass="rowjustify-content-betweenmt-4">
                            <divt-attf-class="col-12col-mdcol-lg-6">
                                <tt-raw="0"/>
                            </div>
                            <divid="o_my_sidebar"class="pt-3pt-lg-0col-12col-mdcol-lg-4col-xl-3o_my_sidebar">
                                <divclass="o_my_contact"t-if="sales_user">
                                    <tt-call="portal.portal_contact"/>
                                </div>
                                <divclass="o_portal_my_details">
                                    <h4>Details<arole="button"href="/my/account"class="btnbtn-smbtn-link"><iclass="fafa-pencil"/>Edit</a></h4>
                                    <hrclass="mt-1mb-0"/>
                                    <divt-field="user_id.partner_id"t-options='{"widget":"contact","fields":["email","phone","address","name"]}'/>
                                </div>
                                <divclass="o_portal_my_securitymt-3">
                                    <h4>AccountSecurity</h4>
                                    <hrclass="mt-1mb-1"/>
                                    <ahref="/my/security"><iclass="fafa-pencilmx-1"/>EditSecuritySettings</a>
                                </div>
                            </div>
                        </div>
                    </t>
                    <tt-else="">
                        <tt-raw="0"/>
                    </t>
                </div>
            </div>
        </t>
    </template>

    <templateid="placeholder_user_sign_in"name="UserSignInPlaceholder"/>

    <templateid="user_sign_in"name="UserSignIn"inherit_id="portal.placeholder_user_sign_in">
        <xpathexpr="."position="inside">
            <ligroups="base.group_public"t-attf-class="#{_item_class}o_no_autohide_item">
                <at-attf-href="/web/login"t-attf-class="#{_link_class}">Signin</a>
            </li>
        </xpath>
    </template>

    <templateid="portal_my_home"name="MyPortal">
        <tt-call="portal.portal_layout">
            <tt-set="my_details"t-value="True"/>
            <divclass="o_portal_my_home">
                <divclass="oe_structure"id="oe_structure_portal_my_home_1"/>
                <h3>Documents</h3>
                <divclass="o_portal_docslist-group">
                </div>
            </div>
            <divclass="oe_structure"id="oe_structure_portal_my_home_2"/>
        </t>
    </template>

    <templateid="portal_docs_entry"name="MyPortalDocsEntry">
        <at-att-href="url"t-att-title="title"class="list-group-itemlist-group-item-actiond-flexalign-items-centerjustify-content-between">
            <tt-esc="title"/>
            <tt-if='count'>
                <spanclass="badgebadge-secondarybadge-pill"t-esc="count"/>
            </t>
            <tt-elif="placeholder_count">
                <spanclass="badgebadge-secondarybadge-pill"t-att-data-placeholder_count="placeholder_count">
                    <iclass="fafa-spinfa-spinner"></i>
                </span>
            </t>
        </a>
    </template>

    <templateid="portal_table"name="MyPortalTable">
        <divt-attf-class="table-responsiveborderroundedborder-top-0#{classesifclasseselse''}">
            <tableclass="tableroundedmb-0bg-whiteo_portal_my_doc_table">
                <tt-raw="0"/>
            </table>
        </div>
        <divt-if="pager"class="o_portal_pagertext-center">
            <tt-call="portal.pager"/>
        </div>
    </template>

    <templateid="portal_record_sidebar"name="MyPortalRecordSidebar">
        <divt-attf-class="#{classes}">
            <divclass="cardbg-whitemb-4sticky-top"id="sidebar_content">
                <divt-if="title"class="card-bodytext-centerpb-2pt-3">
                    <tt-raw="title"/>
                </div>
                <tt-if="entries"t-raw="entries"/>
                <divclass="card-footersmalltext-centertext-mutedborder-top-0pt-1pb-1d-noned-lg-block">
                    Poweredby<atarget="_blank"href="http://www.flectrahq.com?utm_source=db&amp;utm_medium=portal"title="flectra"><imgsrc="/web/static/src/img/logo.png"alt="FlectraLogo"height="15"/></a>
                </div>
            </div>
        </div>
    </template>

    <!--
        Thesearchbariscomposedof2buttons:a"filterby"anda"sortby".Changingthe'sortby'
        criteriawillkeepthenumberofpage,queryparams,...Changingthe'filterby'paramwill
        redirecttheusertothebeginningofdocumentlist,keepingqueryparameters.

        These2buttonscanbeprependedbyaadvancedsearchinput,toactivateit,search_inputneed
        tobeinitializedat'True'andthecontentofthet-callisthelistoflielementssearchable.

        :paramdictsearchbar_sortings:containingthesortcriterialike
            {'date':{'label':_('Newest'),'order':'create_datedesc'}}
        :paramstringsortby:nameofthesortcriteria
        :paramdictsearchbar_filters:containingthefiltercriterialike
            {'open':{'label':_('InProgress'),'domain':[('state','=','open')]}}
        :paramstringfilterby:nameofthefiltercriteria
        :paramdefault_url:thebaseurlofthepages(like'/my/orders')
        :parambooleanbreadcrumbs_searchbar:settoTruetoshowbreadcrumbsratherthanthetitle
        :parambooleano_portal_search_panel:settoTruetoactivetheinputsearch
        :paramhtml$0:contentofthet-call
        :paramtitle:bavbartitle
        :paramclasses:navbarclasses
    -->
    <templateid="portal_searchbar"name="PortalSearchBar">
        <navt-attf-class="navbarnavbar-lightnavbar-expand-lgborderpy-0mb-2o_portal_navbar{{classesifclasseselse''}}{{'mt-3rounded'ifbreadcrumbs_searchbarelse'border-top-0'}}">
            <!-- Navbarbreadcrumbortitle -->
            <tt-if="breadcrumbs_searchbar">
                <tt-call="portal.portal_breadcrumbs"/>
            </t>
            <spant-else=""class="navbar-brandmb-0h1mr-auto"t-esc="titleor'Notitle'"/>

            <!-- Collapsebutton-->
            <buttonclass="navbar-toggler"type="button"data-toggle="collapse"data-target="#o_portal_navbar_content"aria-controls="navbarSupportedContent"aria-expanded="false"aria-label="Togglefilters">
                <spanclass="navbar-toggler-iconsmall"/>
            </button>

            <!-- Collapsablecontent -->
            <divclass="collapsenavbar-collapse"id="o_portal_navbar_content">
                <divclass="navflex-columnflex-lg-rowml-autop-0mb-3mb-lg-0mt-1mt-lg-0">
                    <divt-if="searchbar_sortings"class="form-inline">
                        <spanclass="smallmr-1navbar-text">SortBy:</span>
                        <divclass="btn-group">
                            <buttonid="portal_searchbar_sortby"data-toggle="dropdown"class="btnbtn-secondarybtn-smdropdown-toggle">
                                <tt-esc="searchbar_sortings[sortby].get('label','Newest')"/>
                            </button>
                            <divclass="dropdown-menu"aria-labelledby="portal_searchbar_sortby">
                                <tt-foreach="searchbar_sortings"t-as="option">
                                    <at-att-href="request.httprequest.path+'?'+keep_query('*',sortby=option)"
                                       t-attf-class="dropdown-item#{sortby==optionand'active'or''}">
                                        <spant-esc="searchbar_sortings[option].get('label')"/>
                                    </a>
                                </t>
                            </div>
                        </div>
                    </div>
                    <divt-if="searchbar_filters"class="form-inlineml-lg-2">
                        <spanclass="smallmr-1navbar-text">FilterBy:</span>
                        <divclass="btn-group">
                            <buttonid="portal_searchbar_filters"data-toggle="dropdown"class="btnbtn-secondarybtn-smdropdown-toggle">
                                <tt-esc="searchbar_filters.get(filterby,searchbar_filters.get('all')).get('label','All')"/>
                            </button>
                            <divclass="dropdown-menu"aria-labelledby="portal_searchbar_filters">
                                <tt-foreach="searchbar_filters"t-as="option">
                                    <at-att-href="default_url+'?'+keep_query('*',filterby=option)"
                                       t-attf-class="dropdown-item#{filterby==optionand'active'or''}">
                                        <spant-esc="searchbar_filters[option].get('label')"/>
                                    </a>
                                </t>
                            </div>
                        </div>
                    </div>
                    <divt-if="searchbar_groupby"class="form-inlineml-lg-2">
                        <spanclass="smallmr-1navbar-text">GroupBy:</span>
                        <divclass="btn-group">
                            <buttonid="portal_searchbar_groupby"data-toggle="dropdown"class="btnbtn-secondarybtn-smdropdown-toggle">
                                <tt-esc="searchbar_groupby[groupby].get('label','None')"/>
                            </button>
                            <divclass="dropdown-menu"aria-labelledby="portal_searchbar_groupby">
                                <tt-foreach="searchbar_groupby"t-as="option">
                                    <at-att-href="default_url+'?'+keep_query('*',groupby=option)"
                                       t-attf-class="dropdown-item#{groupby==optionand'active'or''}">
                                        <spant-esc="searchbar_groupby[option].get('label')"/>
                                    </a>
                                </t>
                            </div>
                        </div>
                    </div>
                    <tt-raw="0"/>
                </div>
                <formt-if="searchbar_inputs"class="form-inlineo_portal_search_panelml-lg-4col-xl-4col-md-5">
                    <divclass="input-groupinput-group-smw-100">
                        <divclass="input-group-prepend">
                            <buttontype="button"class="btnbtn-secondarydropdown-toggle"data-toggle="dropdown"/>
                            <divclass="dropdown-menu"role="menu">
                                <tt-foreach='searchbar_inputs't-as='input'>
                                    <at-att-href="'#'+searchbar_inputs[input]['input']"
                                        t-attf-class="dropdown-item#{search_in==searchbar_inputs[input]['input']and'active'or''}">
                                        <spant-raw="searchbar_inputs[input]['label']"/>
                                    </a>
                                </t>
                            </div>
                        </div>
                        <inputtype="text"class="form-controlform-control-sm"placeholder="Search"t-att-value='search'name="search"/>
                        <spanclass="input-group-append">
                            <buttonclass="btnbtn-secondarysearch-submit"type="button">
                                <spanclass="fafa-search"/>
                            </button>
                        </span>
                    </div>
                </form>
            </div>
        </nav>
    </template>

    <templateid="portal_record_layout"name="Portalsinglerecordlayout">
        <divt-attf-class="cardmt-0border-top-0rounded-0rounded-bottom#{classesifclasseselse''}">
            <divt-if="card_header"t-attf-class="card-header#{header_classesifheader_classeselse''}">
                <tt-raw="card_header"/>
            </div>
            <divt-if="card_body"t-attf-class="card-body#{body_classesifbody_classeselse''}">
                <tt-raw="card_body"/>
            </div>
        </div>
    </template>

    <!--
    TODOadaptinmaster:removetheuseofthe"title"variableinthis
    template(orrenamethevariable).Usingitatcontrollerlevelactually
    alsocontrolsthebrowsertabtitle,whichmakesnosense.
    -->
    <templateid="portal_contact"name="Contact">
        <divclass="o_portal_contact_detailsmb-5">
            <h4><tt-if="title"t-esc="title"/><tt-else="">Yourcontact</t></h4>
            <hrclass="mt-1mb0"/>
            <h6class="mb-1"><bt-esc="sales_user.name"/></h6>
            <divclass="d-flexalign-items-centermb-1">
                <divclass="fafa-envelopefa-fwmr-1"></div>
                <at-att-href="'mailto:'+sales_user.email"t-esc="sales_user.email"/>
            </div>
            <divclass="d-flexflex-nowrapalign-items-centermb-1">
                <divclass="fafa-phonefa-fwmr-1"></div>
                <spant-esc="sales_user.phone"/>
            </div>
            <divclass="d-flexflex-nowrapalign-items-centermb-1">
                <divclass="fafa-map-markerfa-fwmr-1"></div>
                <spant-esc="sales_user.city"/>
            </div>
        </div>
    </template>

    <templateid="portal_my_details">
        <tt-call="portal.portal_layout">
            <tt-set="additional_title">ContactDetails</t>
            <formaction="/my/account"method="post">
                <inputtype="hidden"name="csrf_token"t-att-value="request.csrf_token()"/>
                <divclass="rowo_portal_details">
                    <divclass="col-lg-8">
                        <divclass="row">
                            <tt-set="partner_can_edit_vat"t-value="partner.can_edit_vat()"/>
                            <divclass="col-lg-12">
                              <divt-if="error_message"class="alertalert-danger"role="alert">
                                  <tt-foreach="error_message"t-as="err"><tt-esc="err"/><br/></t>
                              </div>
                            </div>
                            <divt-attf-class="form-group#{error.get('name')and'o_has_error'or''}col-xl-6">
                                <labelclass="col-form-label"for="name">Name</label>
                                <inputtype="text"name="name"t-attf-class="form-control#{error.get('name')and'is-invalid'or''}"t-att-value="nameorpartner.name"/>
                            </div>
                            <divt-attf-class="form-group#{error.get('email')and'o_has_error'or''}col-xl-6">
                                <labelclass="col-form-label"for="email">Email</label>
                                <inputtype="email"name="email"t-attf-class="form-control#{error.get('email')and'is-invalid'or''}"t-att-value="emailorpartner.email"/>
                            </div>

                            <divclass="clearfix"/>
                            <divt-attf-class="form-group#{error.get('company_name')and'o_has_error'or''}col-xl-6">
                                <labelclass="col-form-labellabel-optional"for="company_name">CompanyName</label>
                                <!--The<input>isreplacebya<p>toavoidsendinganunauthorizedvalueonformsubmit.
                                     Theusermightnothaverightstochangecompany_namebutshouldstillbeabletoseeit.
                                -->
                                <pt-if="notpartner_can_edit_vat"t-attf-class="form-control"readonly="1"t-esc="partner.commercial_company_name"title="Changingcompanynameisnotallowedoncedocument(s)havebeenissuedforyouraccount.Pleasecontactusdirectlyforthisoperation."/>
                                <inputt-else=""type="text"name="company_name"t-attf-class="form-control#{error.get('company_name')and'is-invalid'or''}"t-att-value="company_nameorpartner.commercial_company_name"/>
                            </div>
                            <divt-attf-class="form-group#{error.get('vat')and'o_has_error'or''}col-xl-6">
                                <labelclass="col-form-labellabel-optional"for="vat">VATNumber</label>
                                <tt-set="vat_not_editable_message">ChangingVATnumberisnotallowedoncedocument(s)havebeenissuedforyouraccount.Pleasecontactusdirectlyforthisoperation.</t>
                                <inputtype="text"name="vat"t-attf-class="form-control#{error.get('vat')and'is-invalid'or''}"t-att-value="vatorpartner.vat"t-att-readonly="Noneifpartner_can_edit_vatelse'1'"t-att-title="Noneifpartner_can_edit_vatelsevat_not_editable_message"/>
                            </div>
                            <divt-attf-class="form-group#{error.get('phone')and'o_has_error'or''}col-xl-6">
                                <labelclass="col-form-label"for="phone">Phone</label>
                                <inputtype="tel"name="phone"t-attf-class="form-control#{error.get('phone')and'is-invalid'or''}"t-att-value="phoneorpartner.phone"/>
                            </div>

                            <divclass="clearfix"/>
                            <divt-attf-class="form-group#{error.get('street')and'o_has_error'or''}col-xl-6">
                                <labelclass="col-form-label"for="street">Street</label>
                                <inputtype="text"name="street"t-attf-class="form-control#{error.get('street')and'is-invalid'or''}"t-att-value="streetorpartner.street"/>
                            </div>
                            <divt-attf-class="form-group#{error.get('city')and'o_has_error'or''}col-xl-6">
                                <labelclass="col-form-label"for="city">City</label>
                                <inputtype="text"name="city"t-attf-class="form-control#{error.get('city')and'is-invalid'or''}"t-att-value="cityorpartner.city"/>
                            </div>
                            <divt-attf-class="form-group#{error.get('zip')and'o_has_error'or''}col-xl-6">
                                <labelclass="col-form-labellabel-optional"for="zipcode">Zip/PostalCode</label>
                                <inputtype="text"name="zipcode"t-attf-class="form-control#{error.get('zip')and'is-invalid'or''}"t-att-value="zipcodeorpartner.zip"/>
                            </div>
                            <divt-attf-class="form-group#{error.get('country_id')and'o_has_error'or''}col-xl-6">
                                <labelclass="col-form-label"for="country_id">Country</label>
                                <selectname="country_id"t-attf-class="form-control#{error.get('country_id')and'is-invalid'or''}">
                                    <optionvalue="">Country...</option>
                                    <tt-foreach="countriesor[]"t-as="country">
                                        <optiont-att-value="country.id"t-att-selected="country.id==int(country_id)ifcountry_idelsecountry.id==partner.country_id.id">
                                            <tt-esc="country.name"/>
                                        </option>
                                    </t>
                                </select>
                            </div>
                            <divt-attf-class="form-group#{error.get('state_id')and'o_has_error'or''}col-xl-6">
                                <labelclass="col-form-labellabel-optional"for="state_id">State/Province</label>
                                <selectname="state_id"t-attf-class="form-control#{error.get('state_id')and'is-invalid'or''}">
                                    <optionvalue="">select...</option>
                                    <tt-foreach="statesor[]"t-as="state">
                                        <optiont-att-value="state.id"style="display:none;"t-att-data-country_id="state.country_id.id"t-att-selected="state.id==partner.state_id.id">
                                            <tt-esc="state.name"/>
                                        </option>
                                    </t>
                                </select>
                            </div>
                            <inputtype="hidden"name="redirect"t-att-value="redirect"/>
                        </div>
                        <divclass="clearfix">
                            <buttontype="submit"class="btnbtn-primaryfloat-rightmb32">
                                Confirm
                                <spanclass="fafa-long-arrow-right"/>
                            </button>
                        </div>
                    </div>
                </div>
            </form>
        </t>
    </template>

    <templateid="portal_my_security">
        <tt-call="portal.portal_layout"><divclass="o_portal_security_body">
            <tt-set="additional_title">Security</t>
            <tt-set="no_breadcrumbs"t-value="1"/>
            <divclass="alertalert-danger"role="alert"t-if="get_error(errors)">
                <tt-esc="errors"/>
            </div>
            <section>
                <h3>ChangePassword</h3>
                <tt-set="path">password</t>
                <divclass="alertalert-success"role="alert"t-if="successandsuccess.get('password')">
                    PasswordUpdated!
                </div>
                <divclass="alertalert-danger"role="alert"t-if="get_error(errors,'password')">
                    <tt-esc="errors['password']"/>
                </div>
                <formaction="/my/security"method="post"class="oe_reset_password_form">
                    <inputtype="hidden"name="csrf_token"t-att-value="request.csrf_token()"/>
                    <inputtype="hidden"name="op"value="password"/>
                    <divclass="form-group">
                        <labelfor="current">Password:</label>
                        <inputtype="password"t-attf-class="form-controlform-control-sm{{'is-invalid'ifget_error(errors,'password.old')else''}}"
                               id="current"name="old"
                               autocomplete="current-password"required="required"/>
                        <divclass="invalid-feedback">
                            <tt-esc="get_error(errors,'password.old')"/>
                        </div>
                    </div>
                    <divclass="form-group">
                        <labelfor="new">NewPassword:</label>
                        <inputtype="password"t-attf-class="form-controlform-control-sm{{'is-invalid'ifget_error(errors,'password.new1')else''}}"
                               id="new"name="new1"
                               autocomplete="new-password"required="required"/>
                        <divclass="invalid-feedback">
                            <tt-esc="get_error(errors,'password.new1')"/>
                        </div>
                    </div>
                    <divclass="form-group">
                        <labelfor="new2">VerifyNewPassword:</label>
                        <inputtype="password"t-attf-class="form-controlform-control-sm{{'is-invalid'ifget_error(errors,'password.new2')else''}}"
                               id="new2"name="new2"
                               autocomplete="new-password"required="required"/>
                        <divclass="invalid-feedback">
                            <tt-esc="get_error(errors,'password.new2')"/>
                        </div>
                    </div>
                    <buttontype="submit"class="btnbtn-danger">ChangePassword</button>
                </form>
            </section>
        </div></t>
    </template>

    <templateid="record_pager"name="PortalRecordPager">
        <tt-if='prev_recordornext_record'>
            <divclass="record_pagerbtn-group"role="group">
                <arole="button"t-att-class="'btnbtn-link%s'%('disabled'ifnotprev_recordelse'')"t-att-href="prev_recordor'#'"><iclass="fafa-chevron-left"role="img"aria-label="Previous"title="Previous"></i></a>
                <arole="button"t-att-class="'btnbtn-link%s'%('disabled'ifnotnext_recordelse'')"t-att-href="next_recordor'#'"><iclass="fafa-chevron-right"role="img"aria-label="Next"title="Next"></i></a>
            </div>
        </t>
    </template>

    <templateid="pager"name="Pager">
        <ult-if="pager['page_count']>1"t-attf-class="#{classnameor''}paginationm-0#{_classes}"t-att-style="styleorNone">
            <lit-attf-class="page-item#{'disabled'ifpager['page']['num']==1else''}">
                <at-att-href="pager['page_previous']['url']ifpager['page']['num']!=1elseNone"t-attf-class="page-link#{extraLinkClass}">
                    <spanclass="fafa-chevron-left"role="img"aria-label="Previous"title="Previous"/>
                </a>
            </li>
            <tt-foreach="pager['pages']"t-as="page">
                <lit-attf-class="page-item#{'active'ifpage['num']==pager['page']['num']else''}"><at-att-href="page['url']"t-attf-class="page-link#{extraLinkClass}"t-raw="page['num']"></a></li>
            </t>
            <lit-attf-class="page-item#{'disabled'ifpager['page']['num']==pager['page_count']else''}">
                <at-att-href="pager['page_next']['url']ifpager['page']['num']!=pager['page_count']elseNone"t-attf-class="page-link#{extraLinkClass}">
                    <spanclass="fafa-chevron-right"role="img"aria-label="Next"title="Next"/>
                </a>
            </li>
        </ul>
    </template>

    <templateid="my_account_link"name="Linktofrontendportal"inherit_id="portal.user_dropdown">
        <xpathexpr="//*[@id='o_logout_divider']"position="before">
            <ahref="/my/home"role="menuitem"class="dropdown-item">MyAccount</a>
        </xpath>
    </template>

    <!--
        Genericchattertemplateforthefrontend
        Thistemplateprovidethecontainerofthechatter.Therestisdoneinjs.
        Tousethistemplate,youneedtocallitaftersettingthefollowingvariableinyourtemplateorinyourcontroller:
            :objectbrowserecord:themail_threadobject
            :message_per_pageint(optional):numberofmessageperchatterpage
            :tokenstring(optional):ifyouwantyourchattertobeavailablefornon-loggeduser,
                     youcanuseatokentoverifytheidentityoftheuser;
                     themessagewillbepostedwiththeidentityofthepartner_idoftheobject
            :hash:signedtokenwiththepartner_idusing`_sign_token`method(onmail.thread)
            :pid:identifierofthepartnersigningthetoken
    -->
    <templateid="message_thread">
        <divid="discussion"data-anchor="true"class="d-print-noneo_portal_chattero_not_editablep-0"
            t-att-data-token="token"t-att-data-res_model="object._name"t-att-data-pid="pid"t-att-data-hash="hash"t-att-data-res_id="object.id"t-att-data-pager_step="message_per_pageor10"t-att-data-allow_composer="'0'ifdisable_composerelse'1'">
        </div>
    </template>

    <!--
        Snippettorequestusersignatureintheportal.Thefeaturecomeswith
        theJSfile`portal_signature.js`.

        Thefollowingvariablehastobeset:
            -{string}call_url:urlwheretosendthenameandsignaturebyRPC
                Theurlshouldcontainaquerystringifadditionalparameters
                havetobesent,suchasanaccesstoken.

        Thefollowingvariablesareoptional:
            -{string}default_name:thedefaultnametodisplay
            -{string}mode:'draw','auto',or'load'
            -{string}send_label:labelofthesendbutton
            -{number}signature_ratio:ratioofthesignaturearea
            -{string}signature_type:'signature'or'initial'

        Forthedefaultvaluesandmoreinformation,seeinit()ofthewidgets
        SignatureFormandNameAndSignature.
    -->
    <templateid="portal.signature_form"name="AskSignature">
        <divclass="o_portal_signature_form"
            t-att-data-call-url="call_url"
            t-att-data-default-name="default_name"
            t-att-data-mode="mode"
            t-att-data-send-label="send_label"
            t-att-data-signature-ratio="signature_ratio"
            t-att-data-signature-type="signature_type"
            t-att-data-font-color="font_color"
            />
    </template>

    <templateid="portal_sidebar"name="Sidebar">
        <tt-call="portal.portal_layout">
            <bodydata-spy="scroll"data-target=".navspy"data-offset="50">
                <divclass="containero_portal_sidebar"></div>
                <divclass="oe_structuremb32"id="oe_structure_portal_sidebar_1"/>
            </body>
        </t>
    </template>
</flectra>
