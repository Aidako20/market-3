<?xmlversion="1.0"encoding="utf-8"?>
<flectra>

    <!--RESOURCE.RESOURCE-->
    <recordid="view_resource_resource_search"model="ir.ui.view">
        <fieldname="name">resource.resource.search</field>
        <fieldname="model">resource.resource</field>
        <fieldname="arch"type="xml">
            <searchstring="SearchResource">
               <fieldname="name"string="Resource"/>
               <fieldname="resource_type"/>
               <fieldname="user_id"/>
               <fieldname="calendar_id"/>
               <fieldname="company_id"groups="base.group_multi_company"/>
               <filterstring="Inactive"name="inactive"domain="[('active','=',False)]"/>
               <groupexpand="0"string="GroupBy">
                    <filterstring="User"name="user"domain="[]"context="{'group_by':'user_id'}"/>
                    <filterstring="Type"name="type"domain="[]"context="{'group_by':'resource_type'}"/>
                    <filterstring="Company"name="company"domain="[]"context="{'group_by':'company_id'}"groups="base.group_multi_company"/>
                    <filterstring="WorkingPeriod"name="working_period"domain="[]"context="{'group_by':'calendar_id'}"/>
                </group>
           </search>
        </field>
    </record>

    <recordid="resource_resource_form"model="ir.ui.view">
        <fieldname="name">resource.resource.form</field>
        <fieldname="model">resource.resource</field>
        <fieldname="arch"type="xml">
            <formstring="Resource">
            <sheet>
                <group>
                    <groupname="user_details">
                        <fieldname="name"/>
                        <fieldname="user_id"attrs="{'required':[('resource_type','=','user')],'readonly':[('resource_type','=','material')]}"/>
                        <fieldname="company_id"options="{'no_create':True}"groups="base.group_multi_company"/>
                        <fieldname="active"widget="boolean_toggle"/>
                    </group>
                    <groupname="resource_details">
                        <fieldname="resource_type"/>
                        <fieldname="calendar_id"/>
                        <fieldname="tz"/>
                        <fieldname="time_efficiency"/>
                    </group>
                </group>
            </sheet>
            </form>
        </field>
    </record>

    <recordid="resource_resource_tree"model="ir.ui.view">
        <fieldname="name">resource.resource.tree</field>
        <fieldname="model">resource.resource</field>
        <fieldname="arch"type="xml">
            <treestring="Resources">
                <fieldname="name"/>
                <fieldname="user_id"/>
                <fieldname="company_id"groups="base.group_multi_company"/>
                <fieldname="resource_type"/>
                <fieldname="calendar_id"/>
                <fieldname="time_efficiency"/>
            </tree>
        </field>
    </record>

    <recordid="action_resource_resource_tree"model="ir.actions.act_window">
        <fieldname="name">Resources</field>
        <fieldname="res_model">resource.resource</field>
        <fieldname="view_mode">tree,form</field>
        <fieldname="context">{}</field>
        <fieldname="search_view_id"ref="view_resource_resource_search"/>
        <fieldname="help">Resourcesallowyoutocreateandmanageresourcesthatshouldbeinvolvedinaspecificprojectphase.Youcanalsosettheirefficiencylevelandworkloadbasedontheirweeklyworkinghours.</field>
    </record>

    <recordid="resource_resource_action_from_calendar"model="ir.actions.act_window">
        <fieldname="name">Resources</field>
        <fieldname="res_model">resource.resource</field>
        <fieldname="view_mode">tree,form</field>
        <fieldname="context">{
            'default_calendar_id':active_id,
            'search_default_calendar_id':active_id}</field>
        <fieldname="search_view_id"ref="view_resource_resource_search"/>
        <fieldname="help">Resourcesallowyoutocreateandmanageresourcesthatshouldbeinvolvedinaspecificprojectphase.Youcanalsosettheirefficiencylevelandworkloadbasedontheirweeklyworkinghours.</field>
    </record>

    <!--RESOURCE.CALENDAR.LEAVES-->
    <recordid="view_resource_calendar_leaves_search"model="ir.ui.view">
        <fieldname="name">resource.calendar.leaves.search</field>
        <fieldname="model">resource.calendar.leaves</field>
        <fieldname="arch"type="xml">
            <searchstring="SearchWorkingPeriodTimeOff">
                <fieldname="name"/>
                <fieldname="resource_id"/>
                <fieldname="company_id"groups="base.group_multi_company"/>
                <fieldname="calendar_id"/>
                <groupexpand="0"string="GroupBy">
                    <filterstring="Resource"name="resource"domain="[]"context="{'group_by':'resource_id'}"/>
                    <filterstring="Company"name="company"domain="[]"context="{'group_by':'company_id'}"groups="base.group_multi_company"/>
                    <filterstring="LeaveDate"name="leave_month"domain="[]"context="{'group_by':'date_from'}"help="StartingDateofLeave"/>
                </group>
           </search>
        </field>
    </record>

    <recordid="view_resource_calendar"model="ir.ui.view">
        <fieldname="name">resource.calendar.leaves.calendar</field>
        <fieldname="model">resource.calendar.leaves</field>
        <fieldname="arch"type="xml">
            <calendardate_start="date_from"date_stop="date_to"mode="month"string="Resource"color="resource_id"event_limit="5">
                <fieldname="resource_id"avatar_field="image_128"filters="1"/>
                <fieldname="company_id"/>
                <fieldname="name"/>
            </calendar>
        </field>
    </record>

    <recordid="resource_calendar_leave_form"model="ir.ui.view">
        <fieldname="name">resource.calendar.leaves.form</field>
        <fieldname="model">resource.calendar.leaves</field>
        <fieldname="arch"type="xml">
            <formstring="LeaveDetail">
            <sheet>
                <group>
                    <groupname="leave_details">
                        <fieldname="name"string="Reason"/>
                        <fieldname="calendar_id"/>
                        <fieldname="company_id"options="{'no_create':True}"groups="base.group_multi_company"attrs="{'invisible':[('calendar_id','=',False)]}"/>
                        <fieldname="resource_id"/>
                    </group>
                    <groupname="leave_dates">
                       <fieldname="date_from"/>
                       <fieldname="date_to"/>
                    </group>
                </group>
            </sheet>
            </form>
        </field>
    </record>

    <recordid="resource_calendar_leave_tree"model="ir.ui.view">
        <fieldname="name">resource.calendar.leaves.tree</field>
        <fieldname="model">resource.calendar.leaves</field>
        <fieldname="arch"type="xml">
            <treestring="LeaveDetail">
                <fieldname="name"string="Reason"/>
                <fieldname="resource_id"/>
                <fieldname="company_id"groups="base.group_multi_company"/>
                <fieldname="calendar_id"/>
                <fieldname="date_from"/>
                <fieldname="date_to"/>
            </tree>
        </field>
    </record>

    <recordid="action_resource_calendar_leave_tree"model="ir.actions.act_window">
        <fieldname="name">ResourceTimeOff</field>
        <fieldname="res_model">resource.calendar.leaves</field>
        <fieldname="view_mode">tree,form,calendar</field>
        <fieldname="search_view_id"ref="view_resource_calendar_leaves_search"/>
    </record>

    <recordid="resource_calendar_leaves_action_from_calendar"model="ir.actions.act_window">
        <fieldname="name">ResourceTimeOff</field>
        <fieldname="res_model">resource.calendar.leaves</field>
        <fieldname="view_mode">tree,form,calendar</field>
        <fieldname="context">{
            'default_calendar_id':active_id,
            'search_default_calendar_id':active_id}</field>
        <fieldname="search_view_id"ref="view_resource_calendar_leaves_search"/>
    </record>

    <recordid="resource_calendar_closing_days"model="ir.actions.act_window">
        <fieldname="name">ClosingDays</field>
        <fieldname="res_model">resource.calendar.leaves</field>
        <fieldname="view_mode">calendar,tree,form</field>
        <fieldname="domain">[('calendar_id','=',active_id),('resource_id','=',False)]</field>
        <fieldname="context">{'default_calendar_id':active_id}</field>
        <fieldname="binding_model_id"ref="model_resource_calendar"/>
        <fieldname="binding_view_types">form</field>
    </record>

    <recordid="resource_calendar_resources_leaves"model="ir.actions.act_window">
        <fieldname="name">ResourcesTimeOff</field>
        <fieldname="res_model">resource.calendar.leaves</field>
        <fieldname="view_mode">calendar,tree,form</field>
        <fieldname="domain">[('calendar_id','=',active_id),('resource_id','!=',False)]</field>
        <fieldname="context">{'default_calendar_id':active_id}</field>
        <fieldname="binding_model_id"ref="model_resource_calendar"/>
        <fieldname="binding_view_types">form</field>
    </record>

    <!--RESOURCE.CALENDAR.ATTENDANCE-->
    <recordid="view_resource_calendar_attendance_tree"model="ir.ui.view">
        <fieldname="name">resource.calendar.attendance.tree</field>
        <fieldname="model">resource.calendar.attendance</field>
        <fieldname="arch"type="xml">
            <treestring="WorkingTime"editable="top">
                <fieldname="sequence"widget="handle"/>
                <fieldname="display_type"invisible="1"/>
                <fieldname="name"/>
                <fieldname="dayofweek"/>
                <fieldname="day_period"/>
                <fieldname="hour_from"widget="float_time"/>
                <fieldname="hour_to"widget="float_time"/>
                <fieldname="date_from"optional="hide"/>
                <fieldname="date_to"optional="hide"/>
                <fieldname="week_type"readonly="1"force_save="1"groups="base.group_no_one"/>
            </tree>
        </field>
    </record>

    <recordid="view_resource_calendar_attendance_form"model="ir.ui.view">
        <fieldname="name">resource.calendar.attendance.form</field>
        <fieldname="model">resource.calendar.attendance</field>
        <fieldname="arch"type="xml">
            <formstring="WorkingTime">
                <sheet>
                <group>
                    <fieldname="name"/>
                    <fieldname="date_from"/>
                    <fieldname="date_to"/>
                    <fieldname="dayofweek"/>
                    <labelfor="hour_from"string="Hours"/>
                    <divclass="o_row">
                        <fieldname="hour_from"widget="float_time"/>-
                        <fieldname="hour_to"widget="float_time"/>
                    </div>
                    <fieldname="day_period"/>
                </group>
                </sheet>
            </form>
        </field>
    </record>

    <!--RESOURCE.CALENDAR-->
    <recordid="view_resource_calendar_search"model="ir.ui.view">
        <fieldname="name">resource.calendar.search</field>
        <fieldname="model">resource.calendar</field>
        <fieldname="arch"type="xml">
            <searchstring="SearchWorkingTime">
               <fieldname="name"string="WorkingTime"/>
               <fieldname="company_id"groups="base.group_multi_company"/>
               <separator/>
               <filterstring="Archived"name="inactive"domain="[('active','=',False)]"/>
           </search>
        </field>
    </record>

    <recordid="resource_calendar_form"model="ir.ui.view">
        <fieldname="name">resource.calendar.form</field>
        <fieldname="model">resource.calendar</field>
        <fieldname="arch"type="xml">
            <formstring="WorkingTime">
                <sheetstring="WorkingTime">
                    <widgetname="web_ribbon"text="Archived"bg_color="bg-danger"attrs="{'invisible':[('active','=',True)]}"/>
                    <divclass="oe_button_box"name="button_box">
                        <buttonname="%(resource_calendar_leaves_action_from_calendar)d"type="action"
                                string="TimeOff"icon="fa-plane"
                                class="oe_stat_button"
                                groups="base.group_no_one"/>
                        <buttonname="%(resource_resource_action_from_calendar)d"type="action"
                                string="WorkResources"icon="fa-cogs"
                                class="oe_stat_button"
                                groups="base.group_user"/>
                    </div>
                    <h1>
                        <fieldname="name"/>
                    </h1>
                    <groupname="resource_details">
                        <group>
                            <fieldname="active"invisible="1"/>
                            <fieldname="company_id"groups="base.group_multi_company"/>
                            <fieldname="hours_per_day"widget="float_time"/>
                            <fieldname="tz"/>
                        </group>
                    </group>
                    <notebook>
                        <pagestring="WorkingHours"name="working_hours">
                        <buttonname="switch_calendar_type"attrs="{'invisible':[('two_weeks_calendar','=',True)]}"string="Switchto2weekscalendar"type="object"confirm="Areyousureyouwanttoswitchthiscalendarto2weekscalendar?Allentrieswillbelost"/>
                        <buttonname="switch_calendar_type"attrs="{'invisible':[('two_weeks_calendar','=',False)]}"string="Switchto1weekcalendar"type="object"confirm="Areyousureyouwanttoswitchthiscalendarto1weekcalendar?Allentrieswillbelost"/>
                        <fieldname="two_weeks_calendar"invisible="1"/>

                        <groupattrs="{'invisible':[('two_weeks_calendar','=',False)]}">
                            <fieldname="two_weeks_explanation"nolabel="1"/>
                        </group>
                            <fieldname="attendance_ids"widget="section_one2many"/>
                        </page>
                        <pagestring="GlobalTimeOff"name="global_leaves">
                            <fieldname="global_leave_ids">
                                <treeeditable="top">
                                    <fieldname="name"/>
                                    <fieldname="date_from"/>
                                    <fieldname="date_to"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <recordid="view_resource_calendar_tree"model="ir.ui.view">
        <fieldname="name">resource.calendar.tree</field>
        <fieldname="model">resource.calendar</field>
        <fieldname="arch"type="xml">
            <treestring="WorkingTime">
                <fieldname="name"string="WorkingTime"/>
                <fieldname="company_id"groups="base.group_multi_company"/>
            </tree>
        </field>
    </record>

    <recordid="action_resource_calendar_form"model="ir.actions.act_window">
        <fieldname="name">WorkingTimes</field>
        <fieldname="res_model">resource.calendar</field>
        <fieldname="view_mode">tree,form</field>
        <fieldname="view_id"eval="False"/>
        <fieldname="search_view_id"ref="view_resource_calendar_search"/>
        <fieldname="help"type="html">
          <pclass="o_view_nocontent_smiling_face">
            Defineworkinghoursandtimetablethatcouldbescheduledtoyourprojectmembers
          </p>
        </field>
    </record>

    <!--MENUITEMS-->
    <menuitemid="menu_resource_config"name="Resource"
        parent="base.menu_custom"
        sequence="30"/>
    <menuitemid="menu_resource_calendar"
        parent="menu_resource_config"
        action="action_resource_calendar_form"
        sequence="1"/>
    <menuitemid="menu_view_resource_calendar_leaves_search"
        parent="menu_resource_config"
        action="action_resource_calendar_leave_tree"
        sequence="2"/>
    <menuitemid="menu_resource_resource"
        parent="menu_resource_config"
        action="action_resource_resource_tree"
        sequence="3"/>
</flectra>
