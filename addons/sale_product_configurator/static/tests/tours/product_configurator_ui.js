flectra.define('sale.product_configurator_tour',function(require){
"usestrict";

vartour=require('web_tour.tour');

//Note:pleasekeepthistestwithoutpricelistformaximumcoverage.
//Thepricelististestedontheothertours.

tour.register('sale_product_configurator_tour',{
    url:"/web",
    test:true,
},[tour.stepUtils.showAppsMenuItem(),{
    trigger:'.o_app[data-menu-xmlid="sale.sale_menu_root"]',
    edition:'community'
},{
    trigger:'.o_app[data-menu-xmlid="sale.sale_menu_root"]',
    edition:'enterprise'
},{
    trigger:".o_list_button_add",
    extra_trigger:".o_sale_order"
},{
    trigger:"a:contains('Addaproduct')",
},{
    trigger:'div[name="product_template_id"]input',
    run:function(){
        var$input=$('div[name="product_template_id"]input');
        $input.click();
        $input.val('Custo');
        //fakekeydowntotriggersearch
        varkeyDownEvent=jQuery.Event("keydown");
        keyDownEvent.which=42;
        $input.trigger(keyDownEvent);
    }
},{
    trigger:'ul.ui-autocompletea:contains("CustomizableDesk(TEST)")',
    run:'click'
},{
    trigger:'.configurator_containerspan:contains("Steel")',
    run:function(){},
},{
    trigger:'.configurator_containerspan:contains("Aluminium")',
    run:'click'
},{
    trigger:'span.oe_currency_value:contains("800.40")',
    run:function(){}//checkupdatedprice
},{
    trigger:'input[data-value_name="Black"]'
},{
    trigger:'.o_sale_product_configurator_add.disabled'
},{
    trigger:'input[data-value_name="White"]'
},{
    trigger:'.o_sale_product_configurator_add:not(.disabled)'
},{
    trigger:'span:contains("Aluminium")',
    extra_trigger:'.oe_optional_products_modal',
    run:'click'
},{
    trigger:'.js_product:has(strong:contains(ConferenceChair)).js_add',
    extra_trigger:'.oe_optional_products_modal.js_product:has(strong:contains(ConferenceChair))',
    run:'click'
},{
    trigger:'.js_product:has(strong:contains(Chairfloorprotection)).js_add',
    extra_trigger:'.oe_optional_products_modal.js_product:has(strong:contains(Chairfloorprotection))',
    run:'click'
},{
    trigger:'buttonspan:contains(Confirm)',
    extra_trigger:'.oe_optional_products_modal',
    id:"quotation_product_selected",
    run:'click'
},
//checkthat3productswereaddedtotheSO
{
    trigger:'td.o_data_cell:contains("CustomizableDesk(TEST)(Aluminium,White)")',
    extra_trigger:'div[name="order_line"]',
    in_modal:false,
    run:function(){}
},{
    trigger:'td.o_data_cell:contains("ConferenceChair(TEST)(Aluminium)")',
    extra_trigger:'div[name="order_line"]',
    in_modal:false,
    run:function(){}
},{
    trigger:'td.o_data_cell:contains("Chairfloorprotection")',
    extra_trigger:'div[name="order_line"]',
    in_modal:false,
    run:function(){}
},{
    trigger:'.o_readonly_modifier[name=amount_total]:contains("0.00")',
    in_modal:false,
    run:function(){}
}
]);

});
