flectra.define('sale.product_configurator_pricelist_tour',function(require){
"usestrict";

vartour=require('web_tour.tour');

tour.register('sale_product_configurator_pricelist_tour',{
    url:"/web",
    test:true,
},
[
tour.stepUtils.showAppsMenuItem(),
{
    content:"navigatetothesaleapp",
    trigger:'.o_app[data-menu-xmlid="sale.sale_menu_root"]',
    edition:'community'
},{
    content:"navigatetothesaleapp",
    trigger:'.o_app[data-menu-xmlid="sale.sale_menu_root"]',
    edition:'enterprise'
},{
    content:"createaneworder",
    trigger:'.o_list_button_add',
    extra_trigger:".o_sale_order"
},{
    content:"searchthepartner",
    trigger:'div[name="partner_id"]input',
    run:'textAzure'
},{
    content:"selectthepartner",
    trigger:'ul.ui-autocomplete>li>a:contains(Azure)',
},{
    content:"searchthepricelist",
    trigger:'div[name="pricelist_id"]input',
    run:'textCustompricelist(TEST)'
},{
    content:"selectthepricelist",
    trigger:'ul.ui-autocomplete>li>a:contains(Custompricelist(TEST))',
},{
    trigger:"a:contains('Addaproduct')"
},{
    trigger:'div[name="product_template_id"]input',
    run:function(){
        var$input=$('div[name="product_template_id"]input');
        $input.click();
        $input.val('Custo');
        varkeyDownEvent=jQuery.Event("keydown");
        keyDownEvent.which=42;
        $input.trigger(keyDownEvent);
    }
},{
    trigger:'ul.ui-autocompletea:contains("CustomizableDesk(TEST)")',
    run:'click'
},{
    content:"checkpriceiscorrect(USD)",
    trigger:'span.oe_currency_value:contains("750.00")',
    run:function(){}//checkprice
},{
    content:"addonemore",
    trigger:'button.js_add_cart_json:has(i.fa-plus)',
},{
    content:"checkpricefor2",
    trigger:'span.oe_currency_value:contains("600.00")',
    run:function(){}//checkprice(pricelisthasdiscountfor2)
},{
    content:"clickadd",
    trigger:'.o_sale_product_configurator_add:not(.disabled)'
},{
    content:"checkweareontheaddmodal",
    trigger:'.td-product_name:contains("CustomizableDesk(TEST)(Steel,White)")',
    extra_trigger:'.oe_optional_products_modal',
    run:'click'
},{
    content:"addconferencechair",
    trigger:'.js_product:has(strong:contains(ConferenceChair)).js_add',
    extra_trigger:'.oe_optional_products_modal.js_product:has(strong:contains(ConferenceChair))',
    run:'click'
},{
    content:"addchairfloorprotection",
    trigger:'.js_product:has(strong:contains(Chairfloorprotection)).js_add',
    extra_trigger:'.oe_optional_products_modal.js_product:has(strong:contains(Chairfloorprotection))',
    run:'click'
},{
    content:"verifyconfiguratorfinalprice",//taxexcluded
    trigger:'.o_total_row.oe_currency_value:contains("1,257.00")',
},{
    content:"addtoSO",
    trigger:'buttonspan:contains(Confirm)',
    extra_trigger:'.oe_optional_products_modal',
    run:'click'
},{
    content:"verifySOfinalpriceexcluded",
    trigger:'span[name="amount_untaxed"]:contains("1,257.00")',
},{
    content:"verifySOfinalpriceincluded",
    trigger:'span[name="amount_total"]:contains("1,437.00")',
}
]);

});
