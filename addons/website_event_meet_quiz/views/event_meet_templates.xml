<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
<templateid="community_aside"name="Community:Aside(Leaderboard)"
    inherit_id="website_event_meet.community_aside">
    <xpathexpr="//div[hasclass('o_wevent_community_aside')]"position="inside">
        <tt-if="top3_visitors"t-call="website_event_meet_quiz.community_leaderboard_small"/>
    </xpath>
</template>

<templateid="community_leaderboard_small"name="SmallLeaderboard">
    <divclass="w-100d-flexjustify-content-betweenalign-items-endo_page_header">
        <h2>Leaderboard</h2>
        <at-attf-href="#{'/event/%s/community/leaderboard'%(slug(event))}">Viewall</a>
    </div>
    <tt-call="website_event_meet_quiz.visitor_quiz_points_card"/>
</template>

<templateid='visitor_quiz_points_card'name="SmallLeaderboard:top3">
    <tableclass="w-100">
        <trt-foreach="top3_visitors"t-as="visitor">
            <td><divclass="d-flexalign-items-centermb-3">
                <bclass="mr-2text-muted"t-esc="visitor['position']"/>
                <imgclass="rounded-circlefloat-left"
                    style="width:32px;height:32px;object-fit:cover;"
                    t-att-src="image_data_uri(visitor['visitor'].partner_image)ifvisitor['visitor'].partner_imageelse'/web/static/src/img/user_placeholder.jpg'"
                    t-att-alt="visitor['visitor'].display_name"/>
                <divclass="o_we_leaderboard_name">
                    <spant-if="visitor['visitor']==current_visitorandnotvisitor['visitor'].name"class="font-weight-bold">You</span>
                    <spant-else=""class="font-weight-bold"t-esc="visitor['visitor'].display_name"/>
                </div>
            </div></td>
            <tdclass="text-right">
                <divclass="mb-3">
                    <spanclass="text-nowrap"><tt-esc="visitor['points']"/>xp</span>
                </div>
            </td>
        </tr>
    </table>
</template>

</flectra>
