<?xmlversion="1.0"encoding="utf-8"?>
<flectra>

        <!--MEMBERSHIP-->

        <!--MEMBERSHIP/MEMBERSHIPPRODUCTS-->

        <recordmodel="ir.ui.view"id="membership_product_search_form_view">
            <fieldname="name">membership.product.search.form</field>
            <fieldname="model">product.template</field>
            <fieldname="priority">50</field>
            <fieldname="arch"type="xml">
                <searchstring="MembershipProducts">
                    <fieldname="name"string="MembershipProduct"/>
                    <filterstring="Inactive"name="inactive"domain="[('active','=',False)]"/>
                    <fieldname="categ_id"operator="child_of"/>
                    <group expand='0'string='Groupby...'>
                        <filterstring='Category'name="category"domain="[]"context="{'group_by':'categ_id'}"/>
                        <filterstring='StartDate'name="from_month"domain="[]"context="{'group_by':'membership_date_from'}"/>
                    </group>
                </search>
            </field>
        </record>

        <recordmodel="ir.ui.view"id="membership_products_tree">
            <fieldname="name">Membershipproducts</field>
            <fieldname="model">product.template</field>
            <fieldname="priority">50</field>
            <fieldname="arch"type="xml">
                <treestring="Membershipproducts">
                    <fieldname="name"/>
                    <fieldname="membership_date_from"/>
                    <fieldname="membership_date_to"/>
                    <fieldname="list_price"string="MembershipFee"/>
                    <fieldname="categ_id"invisible="1"/>
                    <fieldname="uom_id"invisible="1"/>
                    <fieldname="type"invisible="1"/>
                </tree>
            </field>
        </record>

        <recordid="membership_products_kanban"model="ir.ui.view">
            <fieldname="name">product.template.kanban</field>
            <fieldname="model">product.template</field>
            <fieldname="arch"type="xml">
                <kanbanclass="o_kanban_mobile">
                    <fieldname="name"/>
                    <fieldname="membership_date_from"/>
                    <fieldname="membership_date_to"/>
                    <fieldname="list_price"/>
                    <templates>
                        <tt-name="kanban-box">
                            <divt-attf-class="oe_kanban_cardoe_kanban_global_click">
                                <divclass="o_kanban_record_top">
                                    <divclass="o_kanban_record_headings">
                                        <strongclass="o_kanban_record_title"><spanclass="mt4"><fieldname="name"/></span></strong>
                                    </div>
                                    <spanclass="badgebadge-pill"><iclass="fafa-money"role="img"aria-label="Price"title="Price"/><fieldname="list_price"/></span>
                                </div>
                                <divclass="o_kanban_record_body">
                                    <iclass="fafa-clock-o"role="img"aria-label="Period"title="Period"></i><strong>From:</strong><fieldname="membership_date_from"/><strong>To:</strong><fieldname="membership_date_to"/>
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>

        <recordmodel="ir.ui.view"id="membership_products_form">
            <fieldname="name">MembershipProducts</field>
            <fieldname="model">product.template</field>
            <fieldname="priority">50</field>
            <fieldname="arch"type="xml">
                <formstring="Membershipproducts">
                    <sheet>
                        <labelfor="name"class="oe_edit_only"/>
                        <h1>
                            <fieldname="name"/>
                        </h1>
                        <group>
                            <groupname="product_details">
                                <fieldname="default_code"/>
                                <fieldname="categ_id"/>
                                <fieldname="membership"invisible="1"/>
                                <fieldname="company_id"
                                    groups="base.group_multi_company"
                                    options="{'no_create':True}"/>
                                <fieldname="active"widget="boolean_toggle"/>
                            </group>
                            <groupname="membership_details">
                                <labelfor="membership_date_from"string="MembershipDuration"/>
                                <divclass="o_row">
                                    <fieldname="membership_date_from"required="1"/>-
                                    <fieldname="membership_date_to"required="1"/>
                                </div>
                                <fieldname="list_price"string="MembershipFee"/>
                                <field
                                    name="property_account_income_id"/>
                                <fieldname="taxes_id"widget="many2many_tags"string="Taxes"/>
                            </group>
                        </group>
                        <labelfor="description"/>
                        <fieldcolspan="4"name="description"placeholder="Addadescription..."/>
                        <labelfor="description_sale"/>
                        <fieldcolspan="4"name="description_sale"placeholder="Thisnotewillbedisplayedonquotations..."/>
                    </sheet>
                 </form>
            </field>
        </record>

        <recordmodel="ir.actions.act_window"id="action_membership_products">
            <fieldname="name">MembershipProducts</field>
            <fieldname="res_model">product.template</field>
            <fieldname="domain">[('membership','=',True),('type','=','service')]</field>
            <fieldname="context">{'membership':True,'type':'service','default_membership':True,'default_type':'service'}</field>
            <fieldname="search_view_id"ref="membership_product_search_form_view"/>
        </record>

        <recordmodel="ir.actions.act_window.view"id="action_membership_product_view_tree">
            <fieldname="sequence"eval="1"/>
            <fieldname="view_mode">tree</field>
            <fieldname="view_id"ref="membership_products_tree"/>
            <fieldname="act_window_id"ref="action_membership_products"/>
        </record>

        <recordmodel="ir.actions.act_window.view"id="action_membership_product_view_form">
            <fieldname="sequence"eval="2"/>
            <fieldname="view_mode">form</field>
            <fieldname="view_id"ref="membership_products_form"/>
            <fieldname="act_window_id"ref="action_membership_products"/>
        </record>

        <recordmodel="ir.actions.act_window.view"id="action_membership_product_view_kanban">
            <fieldname="sequence"eval="3"/>
            <fieldname="view_mode">kanban</field>
            <fieldname="view_id"ref="membership_products_kanban"/>
            <fieldname="act_window_id"ref="action_membership_products"/>
        </record>

        <menuitemname="Members"id="menu_association"sequence="15"web_icon="membership,static/description/icon.png"/>
        <menuitemname="Configuration"id="menu_marketing_config_association"
            parent="menu_association"sequence="100"/>
        <menuitemname="MembershipProducts"id="menu_membership_products"parent="menu_marketing_config_association"
            action="action_membership_products"/>

</flectra>
