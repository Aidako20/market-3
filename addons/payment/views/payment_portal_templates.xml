<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
    <data>
    <templateid="pay_methods"name="PaymentMethods">
        <tt-call="portal.frontend_layout">
            <tt-set="additional_title">PaymentMethods</t>
            <divclass="wrap">
                <divclass="container">
                  <divclass="row">
                        <divclass="col-md-6">
                            <olclass="breadcrumbmt8">
                                <liclass="breadcrumb-item"><ahref="/my/home"><iclass="fafa-home"role="img"aria-label="Home"title="Home"/></a></li>
                                <liclass="breadcrumb-item">PaymentMethods</li>
                            </ol>
                        </div>
                    </div>
                    <divclass="clearfix">
                        <divclass="row">
                            <divclass="col-md-8">
                                <h3>ManagePaymentMethods</h3>
                                <tt-call="payment.payment_tokens_list">
                                    <tt-set="acquirers"t-value="acquirers"/>
                                    <tt-set="mode"t-value="'manage'"/>
                                </t>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </t>
    </template>

    <!--TDEFIXME:wascustomize_show=True-->
    <templateid="pay_meth_link"inherit_id="portal.portal_layout">
        <xpathexpr="//div[hasclass('o_portal_my_details')]"position="inside">
            <tt-if="request.env['payment.acquirer'].search([('state','in',['enabled','test']),('registration_view_template_id','!=',False),('payment_flow','=','s2s'),('company_id','=',request.env.company.id)])">
                <divclass='manage_payment_methodmt16'><ahref="/my/payment_method">Managepaymentmethods</a></div>
            </t>
        </xpath>
    </template>

    <templateid="pay">
        <tt-call="portal.frontend_layout">
            <tt-set="additional_title">Payment</t>
            <divclass="wrap">
                <divclass="containero_website_payment">
                    <h1>Payment</h1>
                    <divclass="rowmt32mb32">
                        <divclass="col-lg-7">
                            <p><b>Reference:</b><tt-esc="reference"/></p>
                            <p><b>Amount:</b><tt-esc="amount"t-options="{'widget':'monetary','display_currency':currency}"/></p>
                            <tt-call="payment.payment_tokens_list"t-if="referenceandamountandcurrency">
                                <tt-set="mode"t-value="'payment'"/>
                                <tt-set="_overriden_reference"t-value="reference"/>
                                <tt-set="reference"t-value="quote_plus(reference).replace('+','%20')"/>
                                <tt-set="prepare_tx_url"t-value="'/website_payment/transaction/v2/'+str(amount)+'/'+str(currency.id)+'/'+reference+(('/'+str(partner_id))ifpartner_idelse'')"/>
                                <tt-set="form_action"t-value="'/website_payment/token/v2/'+str(amount)+'/'+str(currency.id)+'/'+reference+(('/'+str(partner_id))ifpartner_idelse'')"/>
                                <tt-set="reference"t-value="_overriden_reference"/>
                            </t>
                            <divt-if="notacquirers"class="alertalert-danger"role="alert">
                                <p>Nopaymentacquirerfound.</p>
                                <p>Pleaseconfigureapaymentacquirer.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </t>
    </template>

    <templateid="confirm">
        <tt-call="portal.frontend_layout">
            <tt-set="additional_title">Payment</t>
            <divclass="wrap">
                <divclass="containero_website_payment">
                    <h1>Payment</h1>
                    <divclass="row">
                        <divclass="col-lg-6">
                            <div>
                                <divt-attf-class="alertalert-#{status}"t-raw="message"role="status"/>
                                <divclass="form-grouprow">
                                    <labelfor="form_partner_name"class="col-md-3col-form-label">From</label>
                                    <divclass="col-md-9">
                                        <spanname="form_partner_name"class="form-control"t-esc="tx.partner_name"/>
                                    </div>
                                </div>
                                <divclass="form-grouprow">
                                    <labelfor="form_reference"class="col-md-3col-form-label">Reference</label>
                                    <divclass="col-md-9">
                                        <spanname="form_reference"class="form-control"t-esc="tx.reference"/>
                                    </div>
                                </div>
                                <divclass="form-grouprow">
                                    <labelfor="form_amount"class="col-md-3col-form-label">Amount</label>
                                    <divclass="col-md-9">
                                        <spanname="form_amount"class="form-control"t-esc="tx.amount"t-options="{'widget':'monetary','display_currency':tx.currency_id}"/>
                                    </div>
                                </div>

                                <divt-if="tx.acquirer_id.qr_code">
                                    <tt-set="qr_code"t-value="tx.acquirer_id.journal_id.bank_account_id.build_qr_code_base64(tx.amount,tx.reference,None,tx.currency_id,tx.partner_id)"/>
                                    <divclass="card-body"t-if="qr_code">
                                        <h3>Orscanmewithyourbankingapp.</h3>
                                        <imgclass="borderborder-darkrounded"t-att-src="qr_code"/>
                                    </div>
                                </div>
                                <divclass="row">
                                    <divclass="col-md-5offset-md-3text-muted">
                                        <spant-field="tx.acquirer_id.image_128"t-att-title="tx.acquirer_id.name"role="img"t-att-aria-label="tx.acquirer_id.name"t-options='{"widget":"image","style":"max-width:60px;display:inline-block"}'/>
                                        <div>Processedby<tt-esc="tx.acquirer_id.name"/>.</div>
                                    </div>
                                    <divclass="col-md-4mt-2pl-0">
                                        <arole="button"t-attf-class="btnbtn-#{status}float-right"href="/my/home"><iclass="fafa-arrow-circle-right"/>BacktoMyAccount</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </t>
    </template>

    <templateid="payment_confirmation_status">
        <!--
        Informtheportaluseraboutthetransactionstatus.

        Tobecalledwiththe'payment_tx_id'value.
        -->
        <divt-if="payment_tx_idandpayment_tx_id.state=='pending'"class="alertalert-warningalert-dismissable"role="status">
            <buttontype="button"class="close"data-dismiss="alert"aria-label="Close">×</button>
            <spant-if='payment_tx_id.acquirer_id.pending_msg't-raw="payment_tx_id.acquirer_id.pending_msg"/>
            <spant-if='thanks_msg't-raw="thanks_msg"/>
            <divt-if="payment_tx_id.acquirer_id.provider=='transfer'andreference">
                <b>Communication:</b><spant-esc='reference'/>
            </div>

            <divt-if="payment_tx_id.acquirer_id.qr_codeand(payment_tx_id.acquirer_id.provider=='transfer')">
                <tt-set="qr_code"t-value="payment_tx_id.acquirer_id.journal_id.bank_account_id.build_qr_code_base64(payment_tx_id.amount,payment_tx_id.reference,None,payment_tx_id.currency_id,payment_tx_id.partner_id)"/>
                <divclass="card-body"t-if="qr_code">
                    <h3>Orscanmewithyourbankingapp.</h3>
                    <imgclass="borderborder-darkrounded"t-att-src="qr_code"/>
                </div>
            </div>
        </div>
        <divt-if="payment_tx_idandpayment_tx_id.state=='authorized'andpayment_tx_id.acquirer_id.authorize_implemented"class="alertalert-successalert-dismissable"role="alert">
            <buttontype="button"class="close"data-dismiss="alert"title="Dismiss"aria-label="Dismiss">×</button>
            <!--Yourpaymenthasbeenauthorized.-->
            <spant-if='payment_tx_id.acquirer_id.auth_msg't-raw="payment_tx_id.acquirer_id.auth_msg"/>
        </div>
        <divt-if="payment_tx_idandpayment_tx_id.state=='done'"class="alertalert-successalert-dismissable">
            <buttontype="button"class="close"data-dismiss="alert"title="Dismiss"aria-label="Dismiss">×</button>
            <spant-if='payment_tx_id.acquirer_id.done_msg't-raw="payment_tx_id.acquirer_id.done_msg"/>
            <spant-if='thanks_msg't-raw="thanks_msg"/>
            <divt-if="thanks_msgandpayment_tx_id.acquirer_id.provider=='transfer'andreference">
                <b>Communication:</b><spant-esc='reference'/>
            </div>
        </div>
        <divt-if="payment_tx_idandpayment_tx_id.state=='cancel'"class="alertalert-dangeralert-dismissable">
            <buttontype="button"class="close"data-dismiss="alert"title="Dismiss"aria-label="Dismiss">×</button>
            <spant-if='payment_tx_id.acquirer_id.cancel_msg't-raw="payment_tx_id.acquirer_id.cancel_msg"/>
        </div>
        <divt-if="payment_tx_idandpayment_tx_id.state_message">
            <spant-esc="payment_tx_id.state_message"/>
        </div>
    </template>

    </data>
</flectra>
