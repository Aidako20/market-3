<?xmlversion="1.0"?>
<flectra>
        <recordid="crm_lead_view_form"model="ir.ui.view">
            <fieldname="name">crm.lead.form</field>
            <fieldname="model">crm.lead</field>
            <fieldname="arch"type="xml">
                <formclass="o_lead_opportunity_form"js_class="crm_form">
                    <header>
                        <buttonname="action_set_won_rainbowman"string="MarkWon"
                            type="object"class="oe_highlight"
                            attrs="{'invisible':['|','|',('active','=',False),('probability','=',100),('type','=','lead')]}"/>
                        <buttonname="%(crm.crm_lead_lost_action)d"string="MarkLost"
                            type="action"class="oe_highlight"context="{'default_lead_id':active_id}"attrs="{'invisible':['|',('type','=','lead'),'&amp;',('active','=',False),('probability','&lt;',100)]}"/>
                        <buttonname="%(crm.action_crm_lead2opportunity_partner)d"string="ConverttoOpportunity"type="action"help="ConverttoOpportunity"
                            class="oe_highlight"attrs="{'invisible':['|',('type','=','opportunity'),('active','=',False)]}"/>
                        <buttonname="toggle_active"string="Restore"type="object"
                            attrs="{'invisible':['|',('probability','&gt;',0),('active','=',True)]}"/>
                        <buttonname="action_set_lost"string="MarkasLost"type="object"
                            attrs="{'invisible':['|',('type','=','opportunity'),'&amp;',('probability','=',0),('active','=',False)]}"/>
                        <fieldname="stage_id"widget="statusbar"
                            options="{'clickable':'1','fold_field':'fold'}"
                            domain="['|',('team_id','=',team_id),('team_id','=',False)]"
                            attrs="{'invisible':['|',('active','=',False),('type','=','lead')]}"/>
                    </header>
                    <divclass="text-centeralertalert-primaryoe_edit_only"role="alert"attrs="{'invisible':['|',('ribbon_message','=',False),('ribbon_message','=','')]}">
                        <fieldname="ribbon_message"/>
                    </div>
                    <sheet>
                        <fieldname="active"invisible="1"/>
                        <divclass="oe_button_box"name="button_box">
                            <buttonname="action_schedule_meeting"type="object"
                                class="oe_stat_button"icon="fa-calendar"
                                context="{'partner_id':partner_id}"
                                attrs="{'invisible':[('type','=','lead')]}">
                                <divclass="o_stat_info">
                                    <fieldname="meeting_count"class="o_stat_value"/>
                                    <spanclass="o_stat_text"attrs="{'invisible':[('meeting_count','&lt;',2)]}">Meetings</span>
                                    <spanclass="o_stat_text"attrs="{'invisible':[('meeting_count','&gt;',1)]}">Meeting</span>
                                </div>
                            </button>
                        </div>
                        <widgetname="web_ribbon"title="Lost"bg_color="bg-danger"attrs="{'invisible':['|',('probability','&gt;',0),('active','=',True)]}"/>
                        <widgetname="web_ribbon"title="Won"attrs="{'invisible':[('probability','&lt;',100)]}"/>
                        <divclass="oe_title">
                            <labelfor="name"class="oe_edit_only"string="Lead"attrs="{'invisible':[('type','=','opportunity')]}"/>
                            <labelfor="name"class="oe_edit_only"attrs="{'invisible':[('type','=','lead')]}"/>
                            <h1><fieldname="name"placeholder="e.g.ProductPricing"/></h1>
                            <h2class="o_rowno-guttersalign-items-end">
                                <divclass="col"attrs="{'invisible':[('type','=','lead')]}">
                                    <labelfor="expected_revenue"class="oe_edit_only"/>
                                    <divclass="o_row">
                                        <fieldname="company_currency"invisible="1"/>
                                        <fieldname="expected_revenue"class="oe_inline"widget='monetary'options="{'currency_field':'company_currency'}"/>
                                        <spanclass="oe_greyp-2"groups="crm.group_use_recurring_revenues">+</span>
                                        <spanclass="oe_greyp-2"groups="!crm.group_use_recurring_revenues">at</span>
                                    </div>
                                </div>
                                <divclass="col"attrs="{'invisible':[('type','=','lead')]}"groups="crm.group_use_recurring_revenues">
                                    <divclass="o_row">
                                        <fieldname="recurring_revenue"class="pr-2oe_inline"widget="monetary"options="{'currency_field':'company_currency'}"/>
                                    </div>
                                </div>
                                <divclass="col"attrs="{'invisible':[('type','=','lead')]}"groups="crm.group_use_recurring_revenues">
                                    <divclass="o_row">
                                        <fieldname="recurring_plan"class="oe_inline"placeholder="E.g.Monthly"
                                               attrs="{'required':[('recurring_revenue','!=',0)]}"options="{'no_create':True,'no_open':True}"/>
                                        <spanclass="oe_greyp-2">at</span>
                                    </div>
                                </div>
                                <divclass="col">
                                    <divclass="oe_edit_onlyd-flexalign-items-center">
                                        <labelfor="probability"/>
                                        <buttonclass="btnbtn-link"name="action_set_automated_probability"type="object"
                                                attrs="{'invisible':[('is_automated_probability','=',True)]}">
                                            <iclass="fafa-gear"role="img"title="Switchtoautomaticprobability"aria-label="Switchtoautomaticprobability"></i>
                                        </button>
                                        <smallclass="oe_greyh6mb0"attrs="{'invisible':[('is_automated_probability','=',True)]}">
                                            <fieldclass="mb0"name="automated_probability"force_save="1"/>%%
                                        </small>
                                    </div>
                                    <divid="probability"class="o_rowd-flex">
                                        <fieldname="is_automated_probability"invisible="1"/>
                                        <fieldname="probability"widget="float"class="oe_inline"/>
                                        <spanclass="oe_grey">%%</span>
                                    </div>
                                </div>
                            </h2>
                        </div>
                        <group>
                            <groupname="lead_partner"attrs="{'invisible':[('type','=','opportunity')]}">
                                <!--Preloadallthepartner'sinformation-->
                                <fieldname="partner_id"widget="res_partner_many2one"
                                    context="{
                                        'default_name':contact_name,
                                        'default_title':title,
                                        'default_street':street,
                                        'default_street2':street2,
                                        'default_city':city,
                                        'default_state_id':state_id,
                                        'default_zip':zip,
                                        'default_country_id':country_id,
                                        'default_function':function,
                                        'default_phone':phone,
                                        'default_mobile':mobile,
                                        'default_email':email_from,
                                        'default_user_id':user_id,
                                        'default_team_id':team_id,
                                        'default_website':website,
                                        'show_vat':True
                                    }"groups="base.group_no_one"/>
                                <fieldname="partner_name"/>
                                <labelfor="street"string="Address"/>
                                <divclass="o_address_format">
                                    <fieldname="street"placeholder="Street..."class="o_address_street"/>
                                    <fieldname="street2"placeholder="Street2..."class="o_address_street"/>
                                    <fieldname="city"placeholder="City"class="o_address_city"/>
                                    <fieldname="state_id"class="o_address_state"placeholder="State"options='{"no_open":True}'/>
                                    <fieldname="zip"placeholder="ZIP"class="o_address_zip"/>
                                    <fieldname="country_id"placeholder="Country"class="o_address_country"options='{"no_open":True,"no_create":True}'/>
                                </div>
                                <fieldname="website"widget="url"placeholder="e.g.https://www.flectrahq.com"/>
                                <fieldname="lang_id"/>
                            </group>

                            <groupname="opportunity_partner"attrs="{'invisible':[('type','=','lead')]}">
                                <fieldname="partner_id"
                                    widget="res_partner_many2one"
                                    string="Customer"
                                    context="{'res_partner_search_mode':type=='opportunity'and'customer'orFalse,
                                        'default_name':contact_nameorpartner_name,
                                        'default_street':street,
                                        'default_is_company':type=='opportunity'andcontact_name==False,
                                        'default_company_name':type=='opportunity'andpartner_name,
                                        'default_street2':street2,
                                        'default_city':city,
                                        'default_title':title,
                                        'default_state_id':state_id,
                                        'default_zip':zip,
                                        'default_country_id':country_id,
                                        'default_function':function,
                                        'default_phone':phone,
                                        'default_mobile':mobile,
                                        'default_email':email_from,
                                        'default_user_id':user_id,
                                        'default_team_id':team_id,
                                        'default_website':website,
                                        'show_vat':True,
                                    }"
                                />
                                <fieldname="is_blacklisted"invisible="1"/>
                                <fieldname="partner_is_blacklisted"invisible="1"/>
                                <fieldname="phone_blacklisted"invisible="1"/>
                                <fieldname="mobile_blacklisted"invisible="1"/>
                                <fieldname="email_state"invisible="1"/>
                                <fieldname="phone_state"invisible="1"/>
                                <labelfor="email_from"class="oe_inline"/>
                                <divclass="o_rowo_row_readonly">
                                    <buttonname="mail_action_blacklist_remove"class="fafa-bantext-danger"
                                        title="Thisemailisblacklistedformassmailings.Clicktounblacklist."
                                        type="object"context="{'default_email':email_from}"groups="base.group_user"
                                        attrs="{'invisible':[('is_blacklisted','=',False)]}"/>
                                    <fieldname="email_from"string="Email"widget="email"/>
                                </div>
                                <labelfor="phone"class="oe_inline"/>
                                <divclass="o_rowo_row_readonly">
                                    <buttonname="phone_action_blacklist_remove"class="fafa-bantext-danger"
                                        title="ThisphonenumberisblacklistedforSMSMarketing.Clicktounblacklist."
                                        type="object"context="{'default_phone':phone}"groups="base.group_user"
                                        attrs="{'invisible':[('phone_blacklisted','=',False)]}"/>
                                    <fieldname="phone"widget="phone"/>
                                </div>
                            </group>
                            <groupname="lead_info"attrs="{'invisible':[('type','=','opportunity')]}">
                                <labelfor="contact_name"/>
                                <divclass="o_row">
                                    <fieldname="contact_name"/>
                                    <fieldname="title"placeholder="Title"domain="[]"options='{"no_open":True}'/>
                                </div>
                                <fieldname="is_blacklisted"invisible="1"/>
                                <fieldname="phone_blacklisted"invisible="1"/>
                                <fieldname="email_state"invisible="1"/>
                                <fieldname="phone_state"invisible="1"/>
                                <labelfor="email_from_group_lead_info"class="oe_inline"/>
                                <divclass="o_rowo_row_readonly">
                                    <buttonname="mail_action_blacklist_remove"class="fafa-bantext-danger"
                                        title="Thisemailisblacklistedformassmailings.Clicktounblacklist."
                                        type="object"context="{'default_email':email_from}"groups="base.group_user"
                                        attrs="{'invisible':[('is_blacklisted','=',False)]}"/>
                                    <fieldname="email_from"id="email_from_group_lead_info"string="Email"widget="email"/>
                                </div>
                                <fieldname="email_cc"groups="base.group_no_one"/>
                                <fieldname="function"/>
                                <labelfor="phone_group_lead_info"class="oe_inline"/>
                                <divclass="o_rowo_row_readonly">
                                    <buttonname="phone_action_blacklist_remove"class="fafa-bantext-danger"
                                        title="ThisphonenumberisblacklistedforSMSMarketing.Clicktounblacklist."
                                        type="object"context="{'default_phone':phone}"groups="base.group_user"
                                        attrs="{'invisible':[('phone_blacklisted','=',False)]}"/>
                                    <fieldname="phone"id="phone_group_lead_info"widget="phone"/>
                                </div>
                                <labelfor="mobile"class="oe_inline"/>
                                <divclass="o_rowo_row_readonly">
                                    <buttonname="phone_action_blacklist_remove"class="fafa-bantext-danger"
                                        title="ThisphonenumberisblacklistedforSMSMarketing.Clicktounblacklist."
                                        type="object"context="{'default_phone':mobile}"groups="base.group_user"
                                        attrs="{'invisible':[('mobile_blacklisted','=',False)]}"/>
                                    <fieldname="mobile"widget="phone"string="Mobile"/>
                                </div>
                            </group>
                            <groupattrs="{'invisible':[('type','=','lead')]}">
                                <fieldname="date_deadline"/>
                                <fieldname="priority"widget="priority"/>
                                <fieldname="tag_ids"widget="many2many_tags"options="{'color_field':'color','no_create_edit':True}"/>
                            </group>
                            <group>
                                <fieldname="user_id"domain="[('share','=',False)]"
                                    context="{'default_sales_team_id':team_id}"widget="many2one_avatar_user"/>
                                <fieldname="team_id"widget="selection"
                                    domain="['|',('company_id','=',False),('company_id','=',company_id)]"/>
                                <fieldname="type"invisible="1"/>
                            </group>
                            <groupname="lead_priority"attrs="{'invisible':[('type','=','opportunity')]}">
                                <fieldname="priority"widget="priority"/>
                                <fieldname="tag_ids"widget="many2many_tags"options="{'color_field':'color','no_create_edit':True}"/>
                            </group>
                            <groupname="opportunity_info"attrs="{'invisible':[('type','=','lead')]}">
                                <fieldname="lost_reason"attrs="{'invisible':[('active','=',True)]}"/>
                                <fieldname="date_conversion"invisible="1"/>
                                <fieldname="company_id"groups="base.group_multi_company"/>
                            </group>
                        </group>

                        <notebook>
                            <pagestring="InternalNotes"name="internal_notes">
                                <fieldname="description"placeholder="Addadescription..."/>
                            </page>
                            <pagename="extra"string="ExtraInfo"attrs="{'invisible':[('type','=','opportunity')]}">
                                <group>
                                    <groupstring="Email"groups="base.group_no_one">
                                        <fieldname="message_bounce"readonly="1"/>
                                    </group>
                                    <groupstring="Tracking"name="categorization">
                                        <fieldname="company_id"
                                            groups="base.group_multi_company"
                                            options="{'no_create':True}"/>
                                        <fieldname="campaign_id"/>
                                        <fieldname="medium_id"/>
                                        <fieldname="source_id"/>
                                        <fieldname="referred"/>
                                    </group>
                                    <groupstring="Analysis">
                                        <fieldname="date_open"/>
                                        <fieldname="date_closed"/>
                                    </group>
                                </group>
                            </page>
                            <pagename="lead"string="ExtraInformation"attrs="{'invisible':[('type','=','lead')]}">
                                <group>
                                    <groupstring="ContactInformation">
                                        <fieldname="partner_name"/>
                                        <labelfor="street_page_lead"string="Address"/>
                                        <divclass="o_address_format">
                                            <fieldname="street"id="street_page_lead"placeholder="Street..."class="o_address_street"/>
                                            <fieldname="street2"placeholder="Street2..."class="o_address_street"/>
                                            <fieldname="city"placeholder="City"class="o_address_city"/>
                                            <fieldname="state_id"class="o_address_state"placeholder="State"options='{"no_open":True}'/>
                                            <fieldname="zip"placeholder="ZIP"class="o_address_zip"/>
                                            <fieldname="country_id"placeholder="Country"class="o_address_country"options='{"no_open":True,"no_create":True}'/>
                                        </div>
                                        <fieldname="website"widget="url"placeholder="e.g.https://www.flectrahq.com"/>
                                        <fieldname="lang_id"options="{'no_create':True}"/>
                                    </group>
                                    <groupclass="mt48">
                                        <labelfor="contact_name_page_lead"/>
                                        <divclass="o_row">
                                            <fieldname="contact_name"id="contact_name_page_lead"/>
                                            <fieldname="title"placeholder="Title"domain="[]"options='{"no_open":True}'/>
                                        </div>
                                        <fieldname="function"/>
                                        <labelfor="mobile_page_lead"class="oe_inline"/>
                                        <divclass="o_rowo_row_readonly">
                                            <buttonname="phone_action_blacklist_remove"class="fafa-bantext-danger"
                                                title="ThisphonenumberisblacklistedforSMSMarketing.Clicktounblacklist."
                                                type="object"context="{'default_phone':mobile}"groups="base.group_user"
                                                attrs="{'invisible':[('mobile_blacklisted','=',False)]}"/>
                                            <fieldname="mobile"id="mobile_page_lead"widget="phone"/>
                                        </div>
                                    </group>
                                    <groupstring="Marketing">
                                        <fieldname="campaign_id"/>
                                        <fieldname="medium_id"/>
                                        <fieldname="source_id"/>
                                    </group>
                                    <groupstring="Misc"name="Misc">
                                        <fieldname="day_open"groups="base.group_no_one"/>
                                        <fieldname="day_close"groups="base.group_no_one"/>
                                        <fieldname="referred"/>
                                        <fieldname="type"invisible="1"/>
                                    </group>
                                </group>
                            </page>
                        </notebook>
                    </sheet>
                    <divclass="oe_chatter">
                        <fieldname="message_follower_ids"/>
                        <fieldname="activity_ids"/>
                        <fieldname="message_ids"options="{'post_refresh':'recipients'}"/>
                    </div>
                </form>
            </field>
        </record>

        <!--
            crm.lead(asLead)views
        -->
        <recordid="act_crm_opportunity_calendar_event_new"model="ir.actions.act_window">
            <fieldname="name">Meetings</field>
            <fieldname="res_model">calendar.event</field>
            <fieldname="view_mode">tree,form,calendar</field>
            <fieldname="context">{'default_duration':4.0,'default_opportunity_id':active_id}</field>
        </record>

        <recordid="crm_case_tree_view_leads"model="ir.ui.view">
            <fieldname="name">crm.lead.tree.lead</field>
            <fieldname="model">crm.lead</field>
            <fieldname="priority">10</field>
            <fieldname="arch"type="xml">
                <treestring="Leads"sample="1"multi_edit="1">
                    <fieldname="date_deadline"invisible="1"/>
                    <fieldname="create_date"optional="hide"/>
                    <fieldname="name"string="Lead"readonly="1"/>
                    <fieldname="contact_name"optional="hide"/>
                    <fieldname="partner_name"optional="hide"/>
                    <fieldname="email_from"optional="show"/>
                    <fieldname="phone"optional="show"class="o_force_ltr"/>
                    <fieldname="company_id"groups="base.group_multi_company"optional="show"/>
                    <fieldname="city"optional="show"/>
                    <fieldname="state_id"optional="hide"/>
                    <fieldname="country_id"optional="show"/>
                    <fieldname="partner_id"invisible="1"/>
                    <fieldname="user_id"optional="show" widget="many2one_avatar_user"domain="[('share','=',False)]"/>
                    <fieldname="team_id"optional="show"/>
                    <fieldname="active"invisible="1"/>
                    <fieldname="probability"invisible="1"/>
                    <fieldname="campaign_id"optional="hide"/>
                    <fieldname="referred"invisible="1"/>
                    <fieldname="medium_id"optional="hide"/>
                    <fieldname="source_id"optional="hide"/>
                    <fieldname="message_needaction"invisible="1"/>
                    <fieldname="tag_ids"optional="hide"widget="many2many_tags"options="{'color_field':'color'}"/>
                    <fieldname="priority"optional="hide"/>
                </tree>
            </field>
        </record>

        <recordid="view_crm_lead_kanban"model="ir.ui.view">
            <fieldname="name">crm.lead.kanban</field>
            <fieldname="model">crm.lead</field>
            <fieldname="priority"eval="100"/>
            <fieldname="arch"type="xml">
                <kanbanclass="o_kanban_mobile"archivable="false"js_class="crm_kanban"sample="1">
                    <fieldname="name"/>
                    <fieldname="contact_name"/>
                    <fieldname="priority"/>
                    <fieldname="tag_ids"/>
                    <fieldname="user_id"/>
                    <fieldname="activity_ids"/>
                    <fieldname="activity_state"/>
                    <progressbarfield="activity_state"colors='{"planned":"success","today":"warning","overdue":"danger"}'/>
                    <templates>
                        <tt-name="kanban-box">
                            <divt-attf-class="oe_kanban_contentoe_kanban_global_click">
                                <div>
                                    <strongclass="o_kanban_record_title"><span><fieldname="name"/></span></strong>
                                </div>
                                <div>
                                    <spanclass="o_kanban_record_subtitle"><fieldname="contact_name"/></span>
                                </div>
                                <div>
                                  <fieldname="tag_ids"/>
                                </div>
                                <divclass="o_kanban_record_bottom">
                                    <divclass="oe_kanban_bottom_left">
                                        <fieldname="priority"widget="priority"/>
                                        <divclass="o_kanban_inline_block">
                                            <fieldname="activity_ids"widget="kanban_activity"/>
                                        </div>
                                    </div>
                                    <divclass="oe_kanban_bottom_right">
                                        <fieldname="user_id"widget="many2one_avatar_user"/>
                                    </div>
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>

        <recordid="crm_case_calendar_view_leads"model="ir.ui.view">
            <fieldname="name">crm.lead.calendar.lead</field>
            <fieldname="model">crm.lead</field>
            <fieldname="priority"eval="2"/>
            <fieldname="arch"type="xml">
                <calendarstring="LeadsGeneration"create="0"mode="month"date_start="activity_date_deadline"color="user_id"hide_time="true"event_limit="5">
                    <fieldname="expected_revenue"/>
                    <fieldname="partner_id"avatar_field="image_128"/>
                    <fieldname="user_id"filters="1"invisible="1"/>
                </calendar>
            </field>
        </record>

        <recordid="quick_create_opportunity_form"model="ir.ui.view">
            <fieldname="name">crm.lead.form.quick_create</field>
            <fieldname="model">crm.lead</field>
            <fieldname="priority">1000</field>
            <fieldname="arch"type="xml">
                <form>
                    <group>
                        <fieldname="partner_id"widget="res_partner_many2one"
                            string='Organization/Contact'
                            context="{
                            'res_partner_search_mode':type=='opportunity'and'customer'orFalse,
                            'default_name':contact_nameorpartner_name,
                            'default_is_company':type=='opportunity'andcontact_name==False,
                            'default_company_name':type=='opportunity'andpartner_name,
                            'default_phone':phone,
                            'default_email':email_from,
                            'show_vat':True}"/>
                        <fieldname="name"placeholder="e.g.ProductPricing"/>
                        <fieldname="email_from"string="Email"/>
                        <fieldname="phone"string="Phone"/>
                        <labelfor="expected_revenue"/>
                        <divclass="o_row">
                            <fieldname="expected_revenue"class="oe_inlinemr-5"widget="monetary"options="{'currency_field':'company_currency'}"/>
                            <fieldname="priority"class="oe_inline"nolabel="1"widget="priority"/>
                        </div>
                        <divclass="o_row">
                            <fieldname="recurring_revenue"class="oe_inlinepr-4"widget="monetary"options="{'currency_field':'company_currency'}"/>
                            <fieldname="recurring_plan"class="oe_inline"placeholder="E.g.Monthly"
                                   attrs="{'required':[('recurring_revenue','!=',0)]}"options="{'no_create':True,'no_open':True}"/>
                        </div>
                        <fieldname="company_currency"invisible="1"/>
                        <fieldname="company_id"invisible="1"/>
                        <fieldname="user_id"invisible="1"/>
                        <fieldname="team_id"invisible="1"/>
                        <fieldname="type"invisible="1"/>
                        <fieldname="partner_name"invisible="1"/>
                        <fieldname="contact_name"invisible="1"/>
                        <fieldname="country_id"invisible="1"/>
                        <fieldname="state_id"invisible="1"/>
                        <fieldname="city"invisible="1"/>
                        <fieldname="street"invisible="1"/>
                        <fieldname="street2"invisible="1"/>
                        <fieldname="zip"invisible="1"/>
                        <fieldname="mobile"invisible="1"/>
                        <fieldname="website"invisible="1"/>
                        <fieldname="function"invisible="1"/>
                        <fieldname="title"invisible="1"/>
                    </group>
                </form>
            </field>
        </record>

        <recordid="crm_lead_view_activity"model="ir.ui.view">
            <fieldname="name">crm.lead.view.activity</field>
            <fieldname="model">crm.lead</field>
            <fieldname="arch"type="xml">
                <activitystring="LeadsorOpportunities">
                    <fieldname="user_id"/>
                    <fieldname="company_currency"/>
                    <templates>
                        <divt-name="activity-box">
                            <imgt-att-src="activity_image('res.users','image_128',record.user_id.raw_value)"t-att-title="record.user_id.value"t-att-alt="record.user_id.value"/>
                            <div>
                                <fieldname="name"display="full"/>
                                <fieldname="expected_revenue"widget="monetary"display="full"muted="1"/>
                            </div>
                        </div>
                    </templates>
                </activity>
            </field>
        </record>

        <recordid="crm_case_kanban_view_leads"model="ir.ui.view">
            <fieldname="name">crm.lead.kanban.lead</field>
            <fieldname="model">crm.lead</field>
            <fieldname="priority"eval="1"/>
            <fieldname="arch"type="xml">
                <kanbandefault_group_by="stage_id"class="o_kanban_small_columno_opportunity_kanban"on_create="quick_create"quick_create_view="crm.quick_create_opportunity_form"
                    archivable="false"sample="1">
                    <fieldname="stage_id"options='{"group_by_tooltip":{"requirements":"Description"}}'/>
                    <fieldname="color"/>
                    <fieldname="priority"/>
                    <fieldname="expected_revenue"/>
                    <fieldname="kanban_state"/>
                    <fieldname="activity_date_deadline"/>
                    <fieldname="user_email"/>
                    <fieldname="user_id"/>
                    <fieldname="partner_id"/>
                    <fieldname="activity_summary"/>
                    <fieldname="active"/>
                    <fieldname="company_currency"/>
                    <fieldname="activity_state"/>
                    <fieldname="activity_ids"/>
                    <progressbarfield="activity_state"colors='{"planned":"success","today":"warning","overdue":"danger"}'sum_field="expected_revenue"help="Thisbarallowstofiltertheopportunitiesbasedonscheduledactivities."/>
                    <templates>
                        <tt-name="kanban-box">
                            <divt-attf-class="#{!selection_mode?kanban_color(record.color.raw_value):''}oe_kanban_global_click">
                                <divclass="o_dropdown_kanbandropdown">

                                    <aclass="dropdown-toggleo-no-caretbtn"role="button"data-toggle="dropdown"data-display="static"href="#"aria-label="Dropdownmenu"title="Dropdownmenu">
                                        <spanclass="fafa-ellipsis-v"/>
                                    </a>
                                    <divclass="dropdown-menu"role="menu">
                                        <tt-if="widget.editable"><arole="menuitem"type="edit"class="dropdown-item">Edit</a></t>
                                        <tt-if="widget.deletable"><arole="menuitem"type="delete"class="dropdown-item">Delete</a></t>
                                        <ulclass="oe_kanban_colorpicker"data-field="color"/>
                                    </div>
                                </div>
                                <divclass="oe_kanban_content">
                                    <divclass="o_kanban_record_title">
                                        <strong><fieldname="name"/></strong>
                                    </div>
                                    <divclass="o_kanban_record_subtitle">
                                        <tt-if="record.expected_revenue.raw_value">
                                            <fieldname="expected_revenue"widget="monetary"options="{'currency_field':'company_currency'}"/>
                                            <spant-if="record.recurring_revenueandrecord.recurring_revenue.raw_value">+</span>
                                        </t>
                                        <tt-if="record.recurring_revenueandrecord.recurring_revenue.raw_value">
                                            <fieldname="recurring_revenue"widget="monetary"options="{'currency_field':'company_currency'}"/>
                                            <fieldname="recurring_plan"/>
                                        </t>
                                    </div>
                                    <div>
                                        <spant-if="record.partner_id.value"t-esc="record.partner_id.value"></span>
                                    </div>
                                    <div>
                                        <fieldname="tag_ids"widget="many2many_tags"options="{'color_field':'color'}"/>
                                    </div>
                                    <divclass="o_kanban_record_bottom">
                                        <divclass="oe_kanban_bottom_left">
                                            <fieldname="priority"widget="priority"groups="base.group_user"/>
                                            <fieldname="activity_ids"widget="kanban_activity"/>
                                        </div>
                                        <divclass="oe_kanban_bottom_right">
                                            <fieldname="user_id"widget="many2one_avatar_user"/>
                                        </div>
                                    </div>
                                </div>
                                <divclass="oe_clear"/>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>

        <recordid="view_crm_case_leads_filter"model="ir.ui.view">
            <fieldname="name">crm.lead.search.lead</field>
            <fieldname="model">crm.lead</field>
            <fieldname="arch"type="xml">
                <searchstring="SearchLeads">
                    <fieldname="name"string="Lead"filter_domain="['|','|','|',('partner_name','ilike',self),('email_from','ilike',self),('contact_name','ilike',self),('name','ilike',self)]"/>
                    <fieldname="tag_ids"string="Tag"filter_domain="[('tag_ids','ilike',self)]"/>
                    <fieldname="user_id"/>
                    <fieldname="team_id"/>
                    <fieldname="country_id"/>
                    <fieldname="city"/>
                    <fieldname="phone_mobile_search"/>
                    <fieldname="lang_id"/>
                    <fieldname="create_date"/>
                    <fieldname="source_id"/>
                    <fieldname="medium_id"/>
                    <fieldname="campaign_id"/>
                    <separator/>
                    <filterstring="MyLeads"
                            name="assigned_to_me"
                            domain="[('user_id','=',uid)]"
                            help="Leadsthatareassignedtome"/>
                    <filterstring="Unassigned"name="unassigned_leads"
                            domain="[('user_id','=',False),('type','=','lead')]"
                            help="Leadsthatarenotassigned"/>
                    <separator/>
                    <filterstring="Lost"name="lost"
                            domain="['&amp;',('probability','=',0),('active','=',False)]"/>
                    <separator/>
                    <filterstring="CreationDate"name="filter_creation_date"date="create_date"default_period="this_month"/>
                    <filtername="filter_date_closed"date="date_closed"/>
                    <separator/>
                    <separator/>
                    <filterinvisible="1"string="LateActivities"name="activities_overdue"
                            domain="[('activity_ids.date_deadline','&lt;',context_today().strftime('%Y-%m-%d'))]"
                            help="Showallopportunitiesforwhichthenextactiondateisbeforetoday"/>
                    <filterinvisible="1"string="TodayActivities"name="activities_today"
                            domain="[('activity_ids.date_deadline','=',context_today().strftime('%Y-%m-%d'))]"/>
                    <filterinvisible="1"string="FutureActivities"name="activities_upcoming_all"
                            domain="[('activity_ids.date_deadline','&gt;',context_today().strftime('%Y-%m-%d'))]"/>
                    <separator/>
                    <filterstring="Archived"name="inactive"domain="[('active','=',False)]"/>
                    <groupexpand="0"string="GroupBy">
                        <filterstring="Salesperson"name="salesperson"context="{'group_by':'user_id'}"/>
                        <filterstring="SalesTeam"name="saleschannel"context="{'group_by':'team_id'}"/>
                        <filtername="city"string="City"context="{'group_by':'city'}"/>
                        <filterstring="Country"name="country"context="{'group_by':'country_id'}"/>
                        <filterstring="Company"name="company"context="{'group_by':'company_id'}"groups="base.group_multi_company"/>
                        <filterstring="Campaign"name="compaign"domain="[]"context="{'group_by':'campaign_id'}"/>
                        <filterstring="Medium"name="medium"domain="[]"context="{'group_by':'medium_id'}"/>
                        <filterstring="Source"name="source"domain="[]"context="{'group_by':'source_id'}"/>
                        <separatororientation="vertical"/>
                        <filterstring="CreationDate"context="{'group_by':'create_date:month'}"name="month"/>
                        <filterstring="ClosedDate"name="date_closed"context="{'group_by':'date_closed'}"/>
                    </group>
                </search>
            </field>
        </record>

        <!--
            MASSMAILING
        -->
        <recordid="crm_lead_act_window_compose"model="ir.actions.act_window">
            <fieldname="name">Sendemail</field>
            <fieldname="res_model">mail.compose.message</field>
            <fieldname="view_mode">form</field>
            <fieldname="target">new</field>
            <fieldname="context"eval="{
    'default_composition_mode':'comment',
    'default_use_template':True,
    'default_template_id':ref('crm.email_template_opportunity_mail'),
                }"/>
            <fieldname="binding_model_id"ref="model_crm_lead"/>
            <fieldname="binding_view_types">form</field>
        </record>

        <recordid="action_lead_mass_mail"model="ir.actions.act_window">
            <fieldname="name">Sendemail</field>
            <fieldname="res_model">mail.compose.message</field>
            <fieldname="view_mode">form</field>
            <fieldname="target">new</field>
            <fieldname="context"eval="{
    'default_composition_mode':'mass_mail',
    'default_use_template':True,
    'default_template_id':ref('crm.email_template_opportunity_mail'),
                }"/>
            <fieldname="binding_model_id"ref="model_crm_lead"/>
            <fieldname="binding_view_types">list</field>
        </record>

        <!--Updateofemail_templatedefinedincrm_lead_data,toaddref_ir_act_window
            allowingtohaveawellformedemailtemplate(contextactionconsideredasset).-->
        <recordid="email_template_opportunity_mail"model="mail.template">
            <fieldname="ref_ir_act_window"ref="crm.action_lead_mass_mail"/>
        </record>

        <!--
            crm.lead(asOpportunity)views
        -->

        <recordid="crm_case_tree_view_oppor"model="ir.ui.view">
            <fieldname="name">crm.lead.tree.opportunity</field>
            <fieldname="model">crm.lead</field>
            <fieldname="priority">1</field>
            <fieldname="arch"type="xml">
                <treestring="Opportunities"sample="1"multi_edit="1">
                    <fieldname="date_deadline"invisible="1"/>
                    <fieldname="create_date"optional="hide"/>
                    <fieldname="name"string="Opportunity"readonly="1"/>
                    <fieldname="partner_id"optional="hide"/>
                    <fieldname="contact_name"optional="show"/>
                    <fieldname="email_from"/>
                    <fieldname="phone"class="o_force_ltr"/>
                    <fieldname="company_id"groups="base.group_multi_company"optional="show"/>
                    <fieldname="city"optional="hide"/>
                    <fieldname="state_id"optional="hide"/>
                    <fieldname="country_id"optional="hide"/>
                    <fieldname="user_id"widget="many2one_avatar_user"optional="show"domain="[('share','=',False)]"/>
                    <fieldname="team_id"optional="show"/>
                    <fieldname="priority"optional="hide"/>
                    <fieldname="activity_ids"widget="list_activity"/>
                    <fieldname="activity_user_id"optional="hide"string="Activityby"widget="many2one_avatar_user"/>
                    <fieldname="activity_date_deadline_my"string="MyDeadline"widget="remaining_days"options="{'allow_order':'1'}"/>
                    <fieldname="campaign_id"optional="hide"/>
                    <fieldname="medium_id"optional="hide"/>
                    <fieldname="source_id"optional="hide"/>
                    <fieldname="company_currency"invisible="1"/>
                    <fieldname="expected_revenue"sum="ExpectedRevenues"optional="show"widget="monetary"options="{'currency_field':'company_currency'}"/>
                    <fieldname="recurring_revenue_monthly"sum="ExpectedMRR"optional="show"widget="monetary"options="{'currency_field':'company_currency'}"/>
                    <fieldname="recurring_revenue"sum="RecurringRevenue"optional="hide"widget="monetary"options="{'currency_field':'company_currency'}"/>
                    <fieldname="recurring_plan"optional="hide"/>
                    <fieldname="stage_id"optional="show"decoration-bf="1"/>
                    <fieldname="active"invisible="1"/>
                    <fieldname="probability"optional="hide"/>
                    <fieldname="tag_ids"optional="hide"widget="many2many_tags"options="{'color_field':'color'}"/>
                    <fieldname="referred"invisible="1"/>
                    <fieldname="message_needaction"invisible="1"/>
                </tree>
            </field>
        </record>

        <recordid="crm_lead_view_list_activities"model="ir.ui.view">
            <fieldname="name">crm.lead.list.activities</field>
            <fieldname="model">crm.lead</field>
            <fieldname="mode">primary</field>
            <fieldname="priority">20</field>
            <fieldname="inherit_id"ref="crm.crm_case_tree_view_oppor"/>
            <fieldname="arch"type="xml">
                <xpathexpr="//tree"position="attributes">
                    <attributename="default_order">activity_date_deadline_my</attribute>
                </xpath>
                <xpathexpr="//tree"position="inside">
                    <header>
                        <buttonname="%(crm.action_lead_mass_mail)d"type="action"string="Email"/>
                    </header>
                </xpath>
                <fieldname="user_id"position="attributes">
                    <attributename="optional">hide</attribute>
                </field>
                <fieldname="team_id"position="attributes">
                    <attributename="optional">hide</attribute>
                </field>
                <fieldname="message_needaction"position="after">
                    <buttonname="action_snooze"class="text-warning"type="object"string="Snooze7d"icon="fa-bell-slash"/>
                    <buttonname="%(crm.crm_lead_act_window_compose)d"type="action"string="Email"icon="fa-envelope"/>
                </field>
            </field>
        </record>

        <recordid="view_crm_case_my_activities_filter"model="ir.ui.view">
            <fieldname="name">crm.lead.search.myactivities</field>
            <fieldname="model">crm.lead</field>
            <fieldname="inherit_id"ref="crm.view_crm_case_leads_filter"/>
            <fieldname="arch"type="xml">
                <!--weshouldnotoverridethewholefieldbutinsteadjustsetinvisibleattribute
                 to0.butthisapproachisnotworking.theworkaroundistemporary-->
                <xpathexpr="//filter[@name='activities_overdue']"position="replace">
                    <filterstring="LateActivities"name="activities_overdue"
                        domain="[('my_activity_date_deadline','&lt;',context_today().strftime('%Y-%m-%d'))]"
                        help="Showallopportunitiesforwhichthenextactiondateisbeforetoday"/>
                </xpath>
                <xpathexpr="//filter[@name='activities_today']"position="replace">
                    <filterstring="TodayActivities"name="activities_today"
                        domain="[('my_activity_date_deadline','=',context_today().strftime('%Y-%m-%d'))]"/>
                </xpath>
                <xpathexpr="//filter[@name='activities_upcoming_all']"position="replace">
                    <filterstring="FutureActivities"name="activities_upcoming_all"
                        domain="[('my_activity_date_deadline','&gt;',context_today().strftime('%Y-%m-%d'))]"/>
                </xpath>
                <xpathexpr="//filter[@name='assigned_to_me']"position="replace">
                    <filterstring="MyActivities"name="assigned_to_me"
                        domain="[('activity_user_id','=',uid)]"
                        help="Opportunitiesthatareassignedtome"/>
                </xpath>
            </field>
        </record>

        <recordid="crm_lead_view_graph"model="ir.ui.view">
            <fieldname="name">crm.lead.view.graph</field>
            <fieldname="model">crm.lead</field>
            <fieldname="arch"type="xml">
                <graphstring="Opportunities"sample="1">
                    <fieldname="stage_id"type="col"/>
                    <fieldname="user_id"type="row"/>
                    <fieldname="color"invisible="1"/>
                </graph>
            </field>
        </record>

        <recordid="crm_lead_view_pivot"model="ir.ui.view">
            <fieldname="name">crm.lead.view.pivot</field>
            <fieldname="model">crm.lead</field>
            <fieldname="arch"type="xml">
                <pivotstring="PipelineAnalysis"sample="1">
                    <fieldname="create_date"interval="month"type="row"/>
                    <fieldname="stage_id"type="col"/>
                    <fieldname="expected_revenue"type="measure"/>
                    <fieldname="recurring_revenue_monthly"type="measure"/>
                    <fieldname="color"invisible="1"/>
                </pivot>
            </field>
        </record>

        <recordid="view_crm_case_opportunities_filter"model="ir.ui.view">
            <fieldname="name">crm.lead.search.opportunity</field>
            <fieldname="model">crm.lead</field>
            <fieldname="priority">15</field>
            <fieldname="arch"type="xml">
                <searchstring="SearchOpportunities">
                    <fieldname="name"string="Opportunity"filter_domain="[
                        '|','|','|','|',
                        ('partner_id','ilike',self),
                        ('partner_name','ilike',self),
                        ('email_from','ilike',self),
                        ('name','ilike',self),
                        ('contact_name','ilike',self)]"/>
                    <fieldname="partner_id"operator="child_of"string="Customer"filter_domain="[
                        '|','|','|',
                        ('partner_id','ilike',self),
                        ('partner_name','ilike',self),
                        ('email_from','ilike',self),
                        ('contact_name','ilike',self)]"/>
                    <fieldname="tag_ids"string="Tag"filter_domain="[('tag_ids','ilike',self)]"/>
                    <fieldname="user_id"/>
                    <fieldname="team_id"/>
                    <fieldname="stage_id"domain="[]"/>
                    <fieldname="country_id"/>
                    <fieldname="city"/>
                    <fieldname="phone_mobile_search"/>
                    <separator/>
                    <filterstring="MyPipeline"name="assigned_to_me"
                        domain="[('user_id','=',uid)]"
                        help="Opportunitiesthatareassignedtome"/>
                    <filterstring="Unassigned"name="unassigned"
                        domain="[('user_id','=',False)]"help="Nosalesperson"/>
                    <filterstring="OpenOpportunities"name="open_opportunities"
                        domain="[('probability','&lt;',100),('type','=','opportunity')]"
                        help="OpenOpportunities"/>
                    <separator/>
                    <filterstring="UnreadMessages"name="message_needaction"domain="[('message_needaction','=',True)]"/>
                    <separator/>
                    <filterstring="CreationDate"name="creation_date"date="create_date"/>
                    <filterstring="ClosedDate"name="close_date"date="date_closed"/>
                    <separator/>
                    <filterstring="Won"name="won"domain="['&amp;',('active','=',True),('stage_id.is_won','=',True)]"/>
                    <filterstring="Lost"name="lost"domain="['&amp;',('active','=',False),('probability','=',0)]"/>
                    <separator/>
                    <filterinvisible="1"string="OverdueOpportunities"name="overdue_opp"domain="['&amp;',('date_closed','=',False),('date_deadline','&lt;',context_today().strftime('%Y-%m-%d'))]"/>
                    <filterinvisible="1"string="LateActivities"name="activities_overdue"
                        domain="[('activity_ids.date_deadline','&lt;',context_today().strftime('%Y-%m-%d'))]"
                        help="Showallopportunitiesforwhichthenextactiondateisbeforetoday"/>
                    <filterinvisible="1"string="TodayActivities"name="activities_today"
                        domain="[('activity_ids.date_deadline','=',context_today().strftime('%Y-%m-%d'))]"/>
                    <filterinvisible="1"string="FutureActivities"name="activities_upcoming_all"
                        domain="[('activity_ids.date_deadline','&gt;',context_today().strftime('%Y-%m-%d'))]"/>
                    <separator/>
                    <filterstring="Archived"name="inactive"domain="[('active','=',False)]"/>
                    <groupexpand="0"string="GroupBy"colspan="16">
                        <filterstring="Salesperson"name="salesperson"context="{'group_by':'user_id'}"/>
                        <filterstring="SalesTeam"name="saleschannel"context="{'group_by':'team_id'}"/>
                        <filtername="stage"string="Stage"context="{'group_by':'stage_id'}"/>
                        <filtername="city"string="City"context="{'group_by':'city'}"/>
                        <filterstring="Country"name="country"context="{'group_by':'country_id'}"/>
                        <filterstring="LostReason"name="lostreason"context="{'group_by':'lost_reason'}"/>
                        <filterstring="Company"name="company"context="{'group_by':'company_id'}"groups="base.group_multi_company"/>
                        <filterstring="Campaign"name="compaign"domain="[]"context="{'group_by':'campaign_id'}"/>
                        <filterstring="Medium"name="medium"domain="[]"context="{'group_by':'medium_id'}"/>
                        <filterstring="Source"name="source"domain="[]"context="{'group_by':'source_id'}"/>
                        <separatororientation="vertical"/>
                        <filterstring="CreationDate"context="{'group_by':'create_date:month'}"name="month"/>
                        <filterstring="ConversionDate"name="date_conversion"context="{'group_by':'date_conversion'}"groups="crm.group_use_lead"/>
                        <filterstring="ExpectedClosing"name="date_deadline"context="{'group_by':'date_deadline'}"/>
                        <filterstring="ClosedDate"name="date_closed"context="{'group_by':'date_closed'}"/>
                    </group>
                </search>
            </field>
        </record>

        <!--
            'MarkasLost'inactiondropdown
        -->
        <recordid="action_mark_as_lost"model="ir.actions.server">
            <fieldname="name">Markaslost</field>
            <fieldname="model_id"ref="model_crm_lead"/>
            <fieldname="binding_model_id"ref="crm.model_crm_lead"/>
            <fieldname="binding_view_types">list</field>
            <fieldname="state">code</field>
            <fieldname="code">
ifnot'opportunity'inrecords.mapped('type'):
    records.action_set_lost()
elifrecords:
    action_values=env.ref('crm.crm_lead_lost_action').sudo().read()[0]
    action_values.update({'context':env.context})
    action=action_values
            </field>
        </record>

        <!--LeadMenu-->
        <recordmodel="ir.actions.act_window"id="crm_lead_all_leads">
            <fieldname="name">Leads</field>
            <fieldname="res_model">crm.lead</field>
            <fieldname="view_mode">tree,kanban,graph,pivot,calendar,form,activity</field>
            <fieldname="domain">['|',('type','=','lead'),('type','=',False)]</field>
            <fieldname="search_view_id"ref="crm.view_crm_case_leads_filter"/>
            <fieldname="context">{
                    'default_type':'lead',
                    'search_default_type':'lead',
                    'search_default_to_process':1,
                }
            </field>
        </record>

        <recordid="crm_lead_all_leads_view_tree"model="ir.actions.act_window.view">
            <fieldname="sequence"eval="1"/>
            <fieldname="view_mode">tree</field>
            <fieldname="view_id"ref="crm_case_tree_view_leads"/>
            <fieldname="act_window_id"ref="crm_lead_all_leads"/>
        </record>

        <recordid="crm_lead_all_leads_view_kanban"model="ir.actions.act_window.view">
            <fieldname="sequence"eval="2"/>
            <fieldname="view_mode">kanban</field>
            <fieldname="view_id"ref="view_crm_lead_kanban"/>
            <fieldname="act_window_id"ref="crm_lead_all_leads"/>
        </record>

        <recordid="crm_lead_all_leads_view_calendar"model="ir.actions.act_window.view">
            <fieldname="sequence"eval="3"/>
            <fieldname="view_mode">calendar</field>
            <fieldname="view_id"ref="crm_case_calendar_view_leads"/>
            <fieldname="act_window_id"ref="crm_lead_all_leads"/>
        </record>

        <recordid="crm_lead_all_leads_view_pivot"model="ir.actions.act_window.view">
            <fieldname="sequence"eval="4"/>
            <fieldname="view_mode">pivot</field>
            <fieldname="view_id"ref="crm_lead_view_pivot"/>
            <fieldname="act_window_id"ref="crm_lead_all_leads"/>
        </record>

        <recordid="crm_lead_all_leads_view_graph"model="ir.actions.act_window.view">
            <fieldname="sequence"eval="5"/>
            <fieldname="view_mode">graph</field>
            <fieldname="view_id"ref="crm_lead_view_graph"/>
            <fieldname="act_window_id"ref="crm_lead_all_leads"/>
        </record>

        <recordid="crm_menu_leads"model="ir.ui.menu">
            <fieldname="action"ref="crm.crm_lead_all_leads"/>
        </record>

        <!--MyActivitiesMenu-->
        <recordid="crm_lead_action_my_activities"model="ir.actions.act_window">
            <fieldname="name">MyActivities</field>
            <fieldname="res_model">crm.lead</field>
            <fieldname="view_mode">tree,kanban,graph,pivot,calendar,form,activity</field>
            <fieldname="view_id"ref="crm_lead_view_list_activities"/>
            <fieldname="domain">[('activity_ids','!=',False)]</field>
            <fieldname="search_view_id"ref="crm.view_crm_case_my_activities_filter"/>
            <fieldname="context">{'default_type':'opportunity',
                    'search_default_assigned_to_me':1}
            </field>
        </record>

        <recordid="crm_lead_action_my_activities_view_tree"model="ir.actions.act_window.view">
            <fieldname="sequence">1</field>
            <fieldname="view_mode">tree</field>
            <fieldname="view_id"ref="crm.crm_lead_view_list_activities"/>
            <fieldname="act_window_id"ref="crm_lead_action_my_activities"/>
        </record>

        <!--'MyPipeline'menu:Serveraction,act_window_viewsandact_windows-->
        <recordmodel="ir.actions.act_window"id="crm_lead_opportunities">
            <fieldname="name">Opportunities</field>
            <fieldname="res_model">crm.lead</field>
            <fieldname="view_mode">kanban,tree,graph,pivot,form,calendar,activity</field>
            <fieldname="domain">[('type','=','opportunity')]</field>
            <fieldname="context">{
                    'default_type':'opportunity',
                }
            </field>
            <fieldname="search_view_id"ref="crm.view_crm_case_opportunities_filter"/>
        </record>

        <recordid="crm_lead_opportunities_view_kanban"model="ir.actions.act_window.view">
            <fieldname="sequence"eval="0"/>
            <fieldname="view_mode">kanban</field>
            <fieldname="view_id"ref="crm_case_kanban_view_leads"/>
            <fieldname="act_window_id"ref="crm_lead_opportunities"/>
        </record>

        <recordid="crm_lead_opportunities_view_tree"model="ir.actions.act_window.view">
            <fieldname="sequence"eval="1"/>
            <fieldname="view_mode">tree</field>
            <fieldname="view_id"ref="crm.crm_case_tree_view_oppor"/>
            <fieldname="act_window_id"ref="crm_lead_opportunities"/>
        </record>

        <recordid="crm_lead_opportunities_view_graph"model="ir.actions.act_window.view">
            <fieldname="sequence"eval="3"/>
            <fieldname="view_mode">graph</field>
            <fieldname="view_id"ref="crm_lead_view_graph"/>
            <fieldname="act_window_id"ref="crm_lead_opportunities"/>
        </record>

        <recordid="crm_lead_opportunities_view_pivot"model="ir.actions.act_window.view">
            <fieldname="sequence"eval="4"/>
            <fieldname="view_mode">pivot</field>
            <fieldname="view_id"ref="crm_lead_view_pivot"/>
            <fieldname="act_window_id"ref="crm_lead_opportunities"/>
        </record>

        <recordid="crm_lead_opportunities_view_calendar"model="ir.actions.act_window.view">
            <fieldname="sequence"eval="5"/>
            <fieldname="view_mode">calendar</field>
            <fieldname="view_id"ref="crm_case_calendar_view_leads"/>
            <fieldname="act_window_id"ref="crm_lead_opportunities"/>
        </record>

        <recordid="action_your_pipeline"model="ir.actions.server">
            <fieldname="name">Crm:MyPipeline</field>
            <fieldname="model_id"ref="crm.model_crm_team"/>
            <fieldname="state">code</field>
            <fieldname="groups_id" eval="[(4,ref('base.group_user'))]"/>
            <fieldname="code">action=model.action_your_pipeline()</field>
        </record>

        <recordmodel="ir.actions.act_window"id="crm_lead_action_pipeline">
            <fieldname="name">Pipeline</field>
            <fieldname="res_model">crm.lead</field>
            <fieldname="view_mode">kanban,tree,graph,pivot,form,calendar,activity</field>
            <fieldname="domain">[('type','=','opportunity')]</field>
            <fieldname="context">{
                    'default_type':'opportunity',
                    'search_default_assigned_to_me':1
            }</field>
            <fieldname="search_view_id"ref="crm.view_crm_case_opportunities_filter"/>
        </record>

        <recordid="crm_lead_action_pipeline_view_kanban"model="ir.actions.act_window.view">
            <fieldname="sequence"eval="0"/>
            <fieldname="view_mode">kanban</field>
            <fieldname="view_id"ref="crm_case_kanban_view_leads"/>
            <fieldname="act_window_id"ref="crm_lead_action_pipeline"/>
        </record>

        <recordid="crm_lead_action_pipeline_view_tree"model="ir.actions.act_window.view">
            <fieldname="sequence"eval="1"/>
            <fieldname="view_mode">tree</field>
            <fieldname="view_id"ref="crm.crm_case_tree_view_oppor"/>
            <fieldname="act_window_id"ref="crm_lead_action_pipeline"/>
        </record>

        <recordid="crm_lead_action_pipeline_view_calendar"model="ir.actions.act_window.view">
            <fieldname="sequence"eval="2"/>
            <fieldname="view_mode">calendar</field>
            <fieldname="view_id"ref="crm_case_calendar_view_leads"/>
            <fieldname="act_window_id"ref="crm_lead_action_pipeline"/>
        </record>

        <recordid="crm_lead_action_pipeline_view_pivot"model="ir.actions.act_window.view">
            <fieldname="sequence"eval="3"/>
            <fieldname="view_mode">pivot</field>
            <fieldname="view_id"ref="crm_lead_view_pivot"/>
            <fieldname="act_window_id"ref="crm_lead_action_pipeline"/>
        </record>

        <recordid="crm_lead_action_pipeline_view_graph"model="ir.actions.act_window.view">
            <fieldname="sequence"eval="5"/>
            <fieldname="view_mode">graph</field>
            <fieldname="view_id"ref="crm_lead_view_graph"/>
            <fieldname="act_window_id"ref="crm_lead_action_pipeline"/>
        </record>

        <recordid="menu_crm_opportunities"model="ir.ui.menu">
            <fieldname="action"ref="crm.action_your_pipeline"/>
        </record>
        <recordid="crm_menu_root"model="ir.ui.menu">
            <fieldname="action"ref="crm.action_your_pipeline"/>
        </record>
        <recordid="crm_lead_menu_my_activities"model="ir.ui.menu">
            <fieldname="action"ref="crm.crm_lead_action_my_activities"/>
        </record>
</flectra>
