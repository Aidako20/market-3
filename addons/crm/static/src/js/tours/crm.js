flectra.define('crm.tour',function(require){
"usestrict";

varcore=require('web.core');
vartour=require('web_tour.tour');

var_t=core._t;

tour.register('crm_tour',{
    url:"/web",
    rainbowManMessage:_t("Congrats,bestofluckcatchingsuchbigfish!:)"),
    sequence:10,
},[tour.stepUtils.showAppsMenuItem(),{
    trigger:'.o_app[data-menu-xmlid="crm.crm_menu_root"]',
    content:_t('Readytoboostyoursales?Let\'shavealookatyour<b>Pipeline</b>.'),
    position:'bottom',
    edition:'community',
},{
    trigger:'.o_app[data-menu-xmlid="crm.crm_menu_root"]',
    content:_t('Readytoboostyoursales?Let\'shavealookatyour<b>Pipeline</b>.'),
    position:'bottom',
    edition:'enterprise',
},{
    trigger:'.o-kanban-button-new',
    extra_trigger:'.o_opportunity_kanban',
    content:_t("<b>Createyourfirstopportunity.</b>"),
    position:'bottom',
},{
    trigger:".o_kanban_quick_create.o_field_widget[name='partner_id']",
    content:_t('<b>Writeafewletters</b>tolookforacompany,orcreateanewone.'),
    position:"top",
    run:function(actions){
        actions.text("BrandonFreeman",this.$anchor.find("input"));
    },
},{
    trigger:".ui-menu-item>a",
    auto:true,
    in_modal:false,
},{
    trigger:".o_kanban_quick_create.o_kanban_add",
    content:_t("Now,<b>addyourOpportunity</b>toyourPipeline."),
    position:"bottom",
},{
    trigger:".o_opportunity_kanban.o_kanban_group:first-child.o_kanban_record:last-child.oe_kanban_content",
    extra_trigger:".o_opportunity_kanban",
    content:_t("<b>Drag&amp;dropopportunities</b>betweencolumnsasyouprogressinyoursalescycle."),
    position:"right",
    run:"drag_and_drop.o_opportunity_kanban.o_kanban_group:eq(2)",
},{
    trigger:".o_kanban_record:not(.o_updating).o_activity_color_default",
    extra_trigger:".o_opportunity_kanban",
    content:_t("Lookslikenothingisplanned.:(<br><br><i>Tip:Scheduleactivitiestokeeptrackofeverythingyouhavetodo!</i>"),
    position:"bottom",
},{
    trigger:".o_schedule_activity",
    extra_trigger:".o_opportunity_kanban",
    content:_t("Let's<b>ScheduleanActivity.</b>"),
    position:"bottom",
    width:200,
},{
    trigger:'.modal-footerbutton[name="action_close_dialog"]',
    content:_t("Allset.Let’s<b>Schedule</b>it."),
    position:"top", //dotNOTmovetobottom,itwouldcausearesizeflicker,seetask-2476595
    run:function(actions){
        actions.auto('.modal-footerbutton[special=cancel]');
    },
},{
    id:"drag_opportunity_to_won_step",
    trigger:".o_opportunity_kanban.o_kanban_record:last-child",
    content:_t("Dragyouropportunityto<b>Won</b>whenyougetthedeal.Congrats!"),
    position:"bottom",
    run:"drag_and_drop.o_opportunity_kanban.o_kanban_group:eq(3)",
}, {
    trigger:".o_kanban_record",
    extra_trigger:".o_opportunity_kanban",
    content:_t("Let’shavealookatanOpportunity."),
    position:"right",
    run:function(actions){
        actions.auto(".o_kanban_record");
    },
},{
    trigger:".o_lead_opportunity_form.o_statusbar_status",
    content:_t("Thisbaralsoallowsyoutoswitchstage."),
    position:"bottom"
},{
    trigger:".breadcrumb-item:not(.active):first",
    content:_t("ClickonthebreadcrumbtogobacktothePipeline."),
    position:"bottom",
    run:function(actions){
        actions.auto(".breadcrumb-item:not(.active):last");
    }
}]);

});
