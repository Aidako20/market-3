<?xmlversion="1.0"encoding="UTF-8"?>
<flectra>
    <data>
        <!--STOCK.LANDED.COST-->
        <recordid='view_stock_landed_cost_form'model='ir.ui.view'>
            <fieldname="name">stock.landed.cost.form</field>
            <fieldname="model">stock.landed.cost</field>
            <fieldname="arch"type="xml">
                <formstring="LandedCosts">
                    <fieldname="stock_valuation_layer_ids"invisible="1"/>
                    <header>
                        <buttonname="button_validate"string="Validate"states="draft"class="oe_highlight"type="object"/>
                        <buttonname="button_cancel"string="Cancel"states="draft"type="object"/>
                        <fieldname="state"widget="statusbar"statusbar_visible="draft,done"/>
                    </header>
                    <sheet>
                        <divclass="oe_button_box"name="button_box">
                            <buttonstring="Valuation"type="object"
                                name="action_view_stock_valuation_layers"
                                class="oe_stat_button"icon="fa-dollar"groups="stock.group_stock_manager"
                                attrs="{'invisible':['|',('state','notin',['done']),('stock_valuation_layer_ids','=',[])]}"/>
                        </div>
                        <divclass="oe_title">
                            <labelfor="name"class="oe_edit_only"string="LandedCost"/>
                            <h1>
                                <fieldname="name"placeholder="LandedCostName"/>
                            </h1>
                        </div>
                        <group>
                            <group>
                                <fieldname="date"/>
                                <fieldname="target_model"widget="radio"invisible="1"/>
                                <fieldname="picking_ids"widget="many2many_tags"
                                    options="{'no_create_edit':True}"attrs="{'invisible':[('target_model','!=','picking')]}"
                                    domain="[('company_id','=',company_id),('move_lines.stock_valuation_layer_ids','!=',False)]"/>
                            </group>
                            <group>
                                <labelfor="account_journal_id"string="Journal"/>
                                <fieldname="account_journal_id"nolabel="1"/>
                                <fieldname="company_id"groups="base.group_multi_company"/>
                                <fieldname="account_move_id"attrs="{'invisible':[('account_move_id','=',False)]}"/>
                                <fieldname="vendor_bill_id"/>
                            </group>
                        </group>
                        <notebook>
                            <pagestring="AdditionalCosts"name="additional_costs">
                                <fieldname="cost_lines">
                                    <formstring="CostLines">
                                        <group>
                                            <group>
                                                <fieldname="product_id"
                                                    domain="[('landed_cost_ok','=',True)]"
                                                    context="{'default_landed_cost_ok':True}"/>
                                                <fieldname="price_unit"/>
                                                <fieldname="currency_id"invisible="1"/>
                                            </group>
                                            <group>
                                                <fieldname="split_method"/>
                                                <fieldname="account_id"options="{'no_create':True}"/>
                                            </group>
                                        </group>
                                        <labelfor="name"/>
                                        <fieldname="name"/>
                                    </form>
                                    <treestring="CostLines"editable="bottom">
                                        <fieldname="product_id"
                                            domain="[('landed_cost_ok','=',True)]"
                                            context="{'default_landed_cost_ok':True,'default_type':'service'}"/>
                                        <fieldname="name"/>
                                        <fieldname="account_id"options="{'no_create':True}"/>
                                        <fieldname="split_method"/>
                                        <fieldname="price_unit"/>
                                        <fieldname="currency_id"invisible="1"/>
                                    </tree>
                                </field>
                                <groupclass="oe_subtotal_footeroe_right">
                                    <fieldname="currency_id"invisible="1"/>
                                    <fieldname="amount_total"/>
                                    <buttoncolspan="2"name="compute_landed_cost"string="Compute"type="object"class="oe_rightbtn-secondary"states='draft'/>
                                </group>
                            </page>
                            <pagestring="ValuationAdjustments"name="valuation_adjustments">
                                <fieldname="valuation_adjustment_lines">
                                    <formstring="ValuationAdjustments">
                                        <group>
                                            <group>
                                                <fieldname="product_id"/>
                                                <fieldname="quantity"/>
                                            </group>
                                            <group>
                                                <fieldname="currency_id"invisible="1"/>
                                                <fieldname="former_cost"/>
                                                <fieldname="additional_landed_cost"/>
                                            </group>
                                        </group>
                                    </form>
                                    <treestring="ValuationAdjustments"editable="bottom"create="0">
                                        <fieldname="cost_line_id"readonly="1"/>
                                        <fieldname="product_id"readonly="1"/>
                                        <fieldname="weight"readonly="1"optional="hide"/>
                                        <fieldname="volume"readonly="1"optional="hide"/>
                                        <fieldname="quantity"readonly="1"/>
                                        <fieldname="currency_id"invisible="1"/>
                                        <fieldname="former_cost"readonly="1"/>
                                        <fieldname="final_cost"readonly="1"/>
                                        <fieldname="additional_landed_cost"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                    </sheet>
                    <divclass="oe_chatter">
                        <fieldname="message_follower_ids"/>
                        <fieldname="activity_ids"/>
                        <fieldname="message_ids"/>
                    </div>
                </form>
            </field>
        </record>

        <recordid='view_stock_landed_cost_tree'model='ir.ui.view'>
            <fieldname="name">stock.landed.cost.tree</field>
            <fieldname="model">stock.landed.cost</field>
            <fieldname="arch"type="xml">
                <treestring="LandedCosts">
                    <fieldname="name"decoration-bf="1"/>
                    <fieldname="date"/>
                    <fieldname="company_id"groups="base.group_multi_company"/>
                    <fieldname="state"widget="badge"decoration-success="state=='done'"decoration-info="state=='draft'"/>
                    <fieldname="activity_exception_decoration"widget="activity_exception"/>
                </tree>
            </field>
        </record>

        <recordid='view_stock_landed_cost_tree2'model='ir.ui.view'>
            <fieldname="name">stock.landed.cost.tree</field>
            <fieldname="model">stock.landed.cost</field>
            <fieldname="priority">1000</field>
            <fieldname="arch"type="xml">
                <treestring="LandedCosts">
                    <fieldname="name"/>
                    <fieldname="date"/>
                    <fieldname="currency_id"invisible="1"/>
                    <fieldname="amount_total"widget="monetary"/>
                    <fieldname="state"/>
                    <fieldname="company_id"groups="base.group_multi_company"/>
                </tree>
            </field>
        </record>

        <recordid='stock_landed_cost_view_kanban'model='ir.ui.view'>
            <fieldname="name">stock.landed.cost.kanban</field>
            <fieldname="model">stock.landed.cost</field>
            <fieldname="arch"type="xml">
                <kanbanclass="o_kanban_mobile">
                    <fieldname="name"/>
                    <fieldname="date"/>
                    <fieldname="state"/>
                    <fieldname="account_journal_id"/>
                    <templates>
                        <tt-name="kanban-box">
                            <divclass="oe_kanban_global_click">
                                <divclass="rowmb4">
                                    <strongclass="col-6">
                                        <spant-esc="record.name.value"/>
                                    </strong>
                                    <divclass="col-6">
                                        <spanclass="float-rightbadgebadge-secondary">
                                            <fieldname="state"/>
                                        </span>
                                    </div>
                                    <divclass="col-6">
                                        <iclass="fafa-clock-o"title="Date"role="img"aria-label="Date"/><spant-esc="record.date.value"/>
                                    </div>
                                    <divclass="col-6text-right">
                                        <fieldname="account_journal_id"/>
                                    </div>
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>

        <recordid="view_stock_landed_cost_search"model="ir.ui.view">
            <fieldname="name">stock.landed.cost.search</field>
            <fieldname="model">stock.landed.cost</field>
            <fieldname="arch"type="xml">
                <searchstring="LandedCosts">
                    <fieldname="name"string="Name"/>
                    <fieldname="picking_ids"string="Picking"/>
                    <separator/>
                    <filterstring="Draft"name="draft"domain="[('state','=','draft')]"/>
                    <filterstring="Done"name="done"domain="[('state','=','done')]"/>
                    <separator/>
                    <filterstring="Date"name="date"date="date"/>
                    <separator/>
                    <filterinvisible="1"string="LateActivities"name="activities_overdue"
                        domain="[('my_activity_date_deadline','&lt;',context_today().strftime('%Y-%m-%d'))]"
                        help="Showallrecordswhichhasnextactiondateisbeforetoday"/>
                    <filterinvisible="1"string="TodayActivities"name="activities_today"
                        domain="[('my_activity_date_deadline','=',context_today().strftime('%Y-%m-%d'))]"/>
                    <filterinvisible="1"string="FutureActivities"name="activities_upcoming_all"
                        domain="[('my_activity_date_deadline','&gt;',context_today().strftime('%Y-%m-%d'))]"/>
                    <groupexpand="0"string="GroupBy">
                        <filterstring="Status"name="status"context="{'group_by':'state'}"/>
                        <filterstring="Date"name="group_by_month"context="{'group_by':'date'}"/>
                    </group>
                </search>
            </field>
        </record>

        <recordid='action_stock_landed_cost'model='ir.actions.act_window'>
            <fieldname="name">LandedCosts</field>
            <fieldname="res_model">stock.landed.cost</field>
            <fieldname="view_mode">tree,form,kanban</field>
            <fieldname="context">{}</field>
            <fieldname="help"type="html">
                <pclass="o_view_nocontent_smiling_face">
                    Createanewlandedcost
                </p>
            </field>
        </record>

        <menuitemaction="action_stock_landed_cost"name="LandedCosts"parent="stock.menu_stock_warehouse_mgmt"id="menu_stock_landed_cost"sequence="115"/>
    </data>
</flectra>
