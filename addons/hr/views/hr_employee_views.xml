<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
    <data>

        <recordid="view_employee_filter"model="ir.ui.view">
            <fieldname="name">hr.employee.search</field>
            <fieldname="model">hr.employee</field>
            <fieldname="arch"type="xml">
                <searchstring="Employees">
                    <fieldname="name"string="Employee"filter_domain="['|',('work_email','ilike',self),('name','ilike',self)]"/>
                    <fieldname="category_ids"groups="hr.group_hr_user"/>
                    <fieldname="job_id"/>
                    <separator/>
                    <filterstring="UnreadMessages"name="message_needaction"domain="[('message_needaction','=',True)]"/>
                    <separator/>
                    <filterinvisible="1"string="LateActivities"name="activities_overdue"
                        domain="[('my_activity_date_deadline','&lt;',context_today().strftime('%Y-%m-%d'))]"/>
                    <filterinvisible="1"string="TodayActivities"name="activities_today"
                        domain="[('my_activity_date_deadline','=',context_today().strftime('%Y-%m-%d'))]"/>
                    <filterinvisible="1"string="FutureActivities"name="activities_upcoming_all"
                        domain="[('my_activity_date_deadline','&gt;',context_today().strftime('%Y-%m-%d'))]"/>
                    <separator/>
                    <filterstring="Archived"name="inactive"domain="[('active','=',False)]"/>
                    <groupexpand="0"string="GroupBy">
                        <filtername="group_manager"string="Manager"domain="[]"context="{'group_by':'parent_id'}"/>
                        <filtername="group_department"string="Department"domain="[]"context="{'group_by':'department_id'}"/>
                        <filtername="group_job"string="Job"domain="[]"context="{'group_by':'job_id'}"/>
                    </group>
                    <searchpanel>
                        <fieldname="company_id"groups="base.group_multi_company"icon="fa-building"enable_counters="1"/>
                        <fieldname="department_id"icon="fa-users"enable_counters="1"/>
                    </searchpanel>
                </search>
             </field>
        </record>

        <recordid="view_employee_form"model="ir.ui.view">
            <fieldname="name">hr.employee.form</field>
            <fieldname="model">hr.employee</field>
            <fieldname="arch"type="xml">
                <formstring="Employee"js_class="hr_employee_form"class='o_employee_form'>
                    <fieldname="active"invisible="1"/>
                    <fieldname="user_partner_id"invisible="1"/>
                    <fieldname="hr_presence_state"invisible="1"/>
                    <header>
                        <buttonname="%(plan_wizard_action)d"string="LaunchPlan"type="action"groups="hr.group_hr_manager"attrs="{'invisible':[('active','=',False)]}"/>
                    </header>
                    <sheet>
                        <divname="button_box"class="oe_button_box">
                            <button
                                id="hr_presence_button"
                                class="oe_stat_button"
                                disabled="1"
                                attrs="{'invisible':['|',('last_activity','=',False),('user_id','=',False)]}">
                                <divrole="img"class="fafa-fwfa-circletext-successo_button_icon"attrs="{'invisible':[('hr_presence_state','!=','present')]}"aria-label="Available"title="Available"/>
                                <divrole="img"class="fafa-fwfa-circletext-warningo_button_icon"attrs="{'invisible':[('hr_presence_state','!=','to_define')]}"aria-label="Away"title="Away"/>
                                <divrole="img"class="fafa-fwfa-circletext-dangero_button_icon"attrs="{'invisible':[('hr_presence_state','!=','absent')]}"aria-label="Notavailable"title="Notavailable"/>

                                <divclass="o_stat_info"attrs="{'invisible':[('hr_presence_state','=','present')]}">
                                    <spanclass="o_stat_text">
                                        NotConnected
                                    </span>
                                </div>
                                <divclass="o_stat_info"attrs="{'invisible':[('hr_presence_state','!=','present')]}">
                                    <spanclass="o_stat_value"attrs="{'invisible':[('last_activity_time','=',False)]}">
                                        <fieldname="last_activity_time"/>
                                    </span>
                                    <spanclass="o_stat_value"attrs="{'invisible':[('last_activity_time','!=',False)]}">
                                        <fieldname="last_activity"/>
                                    </span>
                                    <spanclass="o_stat_text">PresentSince</span>
                                </div>
                            </button>
                        </div>
                        <widgetname="web_ribbon"title="Archived"bg_color="bg-danger"attrs="{'invisible':[('active','=',True)]}"/>
                        <fieldname="image_1920"widget='image'class="oe_avatar"options='{"zoom":true,"preview_image":"image_128"}'/>
                        <divclass="oe_title">
                            <h1class="d-flex">
                                <fieldname="name"placeholder="Employee'sName"required="True"/>
                                <atitle="Chat"icon="fa-comments"href="#"class="ml8o_employee_chat_btn"invisible="notcontext.get('chat_icon')"attrs="{'invisible':[('user_id','=',False)]}"role="button"><iclass="fafa-comments"/></a>
                            </h1>
                            <h2>
                                <fieldname="job_title"placeholder="JobPosition"/>
                            </h2>
                            <fieldname="category_ids"widget="many2many_tags"options="{'color_field':'color','no_create_edit':True}"placeholder="Tags" groups="hr.group_hr_manager"/>
                        </div>
                        <group>
                            <group>
                                <fieldname="mobile_phone"widget="phone"/>
                                <fieldname="work_phone"widget="phone"/>
                                <fieldname="work_email"widget="email"/>
                                <fieldname="company_id"groups="base.group_multi_company"/>
                            </group>
                            <group>
                                <fieldname="department_id"/>
                                <fieldname="parent_id"/>
                                <fieldname="coach_id"/>
                            </group>
                        </group>
                        <notebook>
                            <pagename="public"string="WorkInformation">
                                <divid="o_work_employee_container"><!--Thesetwodivareusedtopositionorg_chart-->
                                    <divid="o_work_employee_main">
                                        <groupstring="Location">
                                            <fieldname="address_id"
                                                context="{'show_address':1}"
                                                options='{"always_reload":True,"highlight_first_line":True}'/>
                                            <fieldname="work_location"/>
                                        </group>
                                        <groupname="managers"string="Approvers"class="hide-group-if-empty">
                                            <!--isoverriddeninotherhrrelatedmodules-->
                                        </group>
                                        <groupname="departure"string="Departure"attrs="{'invisible':[('active','=',True)]}">
                                            <fieldname="departure_reason"/>
                                            <fieldname="departure_description"/>
                                            <fieldname="departure_date"/>
                                        </group>
                                        <groupstring="Schedule">
                                            <fieldname="resource_calendar_id"required="1"/>
                                            <fieldname="id"invisible="1"/>
                                            <fieldname="tz"attrs="{'required':[('id','!=',False)]}"/>
                                        </group>
                                    </div>
                                </div>
                            </page>
                            <pagename="personal_information"string="PrivateInformation"groups="hr.group_hr_user">
                                <group>
                                    <groupstring="PrivateContact">
                                        <fieldname="address_home_id"
                                            context="{
                                                'show_address':1,
                                                'default_type':'private',
                                                'form_view_ref':'base.res_partner_view_form_private'}"
                                            options='{"always_reload":True,"highlight_first_line":True}'/>
                                        <fieldname="private_email"string="Email"/>
                                        <fieldname="phone"class="o_force_ltr"groups="hr.group_hr_user"string="Phone"readonly="True"/>
                                        <fieldname="bank_account_id"context="{'default_partner_id':address_home_id}"/>
                                        <labelfor="km_home_work"/>
                                        <divclass="o_row"name="div_km_home_work">
                                            <fieldname="km_home_work"groups="hr.group_hr_user"/>
                                            <span>Km</span>
                                        </div>

                                    </group>
                                    <groupstring="Citizenship">
                                        <fieldname="country_id"options='{"no_open":True,"no_create":True}'/>
                                        <fieldname="identification_id"groups="hr.group_hr_user"/>
                                        <fieldname="passport_id"groups="hr.group_hr_user"/>
                                        <fieldname="gender"/>
                                        <fieldname="birthday"/>
                                        <fieldname="place_of_birth"groups="hr.group_hr_user"/>
                                        <fieldname="country_of_birth"groups="hr.group_hr_user"/>
                                    </group>
                                    <groupstring="MaritalStatus">
                                        <fieldname="marital"/>
                                        <fieldname="spouse_complete_name"attrs="{'invisible':[('marital','notin',['married','cohabitant'])]}"groups="hr.group_hr_user"/>
                                        <fieldname="spouse_birthdate"attrs="{'invisible':[('marital','notin',['married','cohabitant'])]}"groups="hr.group_hr_user"/>
                                    </group>
                                    <groupstring="Dependant">
                                        <fieldname="children"/>
                                    </group>
                                    <groupstring="Emergency">
                                        <fieldname="emergency_contact"/>
                                        <fieldname="emergency_phone"class="o_force_ltr"/>
                                    </group>
                                    <groupstring="WorkPermit"name="work_permit">
                                        <fieldname="visa_no"/>
                                        <fieldname="permit_no"/>
                                        <fieldname="visa_expire"/>
                                    </group>
                                    <groupstring="Education">
                                        <fieldname="certificate"/>
                                        <fieldname="study_field"/>
                                        <fieldname="study_school"/>
                                    </group>
                                </group>
                            </page>
                            <pagename="hr_settings"string="HRSettings"groups="hr.group_hr_user">
                                <group>
                                    <groupstring='Status'name="active_group">
                                        <fieldname="user_id"string="RelatedUser"domain="[('share','=',False)]"/>
                                        <fieldname="job_id"/>
                                    </group>
                                    <groupstring="Attendance"name="identification_group">
                                        <fieldname="pin"string="PINCode"/>
                                        <labelfor="barcode"/>
                                        <divclass="o_row">
                                            <fieldname="barcode"/>
                                            <buttonstring="Generate"class="btnbtn-link"type="object"name="generate_random_barcode"attrs="{'invisible':[('barcode','!=',False)]}"/>
                                            <buttonname="%(hr_employee_print_badge)d"string="PrintBadge"class="btnbtn-link"type="action"attrs="{'invisible':[('barcode','=',False)]}"/>
                                        </div>
                                    </group>
                                </group>
                            </page>
                        </notebook>

                    </sheet>
                    <divclass="oe_chatter">
                        <fieldname="message_follower_ids"groups="base.group_user"/>
                        <fieldname="activity_ids"/>
                        <fieldname="message_ids"/>
                    </div>
                </form>
            </field>
        </record>

        <recordid="view_employee_tree"model="ir.ui.view">
            <fieldname="name">hr.employee.tree</field>
            <fieldname="model">hr.employee</field>
            <fieldname="arch"type="xml">
                <treestring="Employees"multi_edit="1"sample="1">
                    <fieldname="name"readonly="1"/>
                    <fieldname="work_phone"class="o_force_ltr"readonly="1"/>
                    <fieldname="work_email"/>
                    <fieldname="company_id"groups="base.group_multi_company"readonly="1"/>
                    <fieldname="department_id"/>
                    <fieldname="job_id"/>
                    <fieldname="parent_id"/>
                    <fieldname="work_location"optional="hide"/>
                    <fieldname="coach_id"invisible="1"/>
                </tree>
            </field>
        </record>

        <recordid="hr_kanban_view_employees"model="ir.ui.view">
           <fieldname="name">hr.employee.kanban</field>
           <fieldname="model">hr.employee</field>
           <fieldname="priority">10</field>
           <fieldname="arch"type="xml">
               <kanbanclass="o_hr_employee_kanban"js_class="hr_employee_kanban"sample="1">
                   <fieldname="id"/>
                   <fieldname="hr_presence_state"/>
                   <fieldname="user_id"/>
                   <fieldname="user_partner_id"/>
                   <fieldname="hr_icon_display"/>
                   <templates>
                       <tt-name="kanban-box">
                       <divclass="oe_kanban_global_clicko_kanban_record_has_image_fillo_hr_kanban_record">
                           <fieldname="image_128"widget="image"class="o_kanban_image_fill_left"options="{'zoom':true,'zoom_delay':1000,'background':true,'preventClicks':false}"/>

                            <divclass="oe_kanban_details">
                               <divclass="o_kanban_record_top">
                                   <divclass="o_kanban_record_headings">
                                       <strongclass="o_kanban_record_title">
                                            <divclass="float-right"
                                                 t-if="record.hr_icon_display.raw_value=='presence_present'"
                                                 name="presence_present">
                                                <!--Employeeispresent/connectedanditisnormalaccordingtohisworkschedule -->
                                                <spanclass="fafa-circletext-success"role="img"aria-label="Present"
                                                      title="Present"name="presence_present">
                                                </span>
                                            </div>
                                            <divclass="float-right"
                                                 t-if="record.hr_icon_display.raw_value=='presence_absent'"
                                                 name="presence_absent">
                                                <!--Employeeisnotpresentanditisnormalaccordingtohisworkschedule-->
                                                <spanclass="fafa-circle-otext-muted"role="img"aria-label="Absent"
                                                      title="Absent"name="presence_absent">
                                                </span>
                                            </div>
                                            <divclass="float-right"
                                                 t-if="record.hr_icon_display.raw_value=='presence_absent_active'"
                                                    name="presence_absent_active">
                                                <!--Employeeisconnectedbutaccordingtohisworkschedule,
                                                     heshouldnotworkfornow -->
                                                <spanclass="fafa-circle-otext-success"role="img"
                                                      aria-label="Presentbutnotactive"
                                                      title="Presentbutnotactive"
                                                      name="presence_absent_active">
                                                </span>
                                            </div>
                                            <divclass="float-right"
                                                 t-if="record.hr_icon_display.raw_value=='presence_to_define'"
                                                    name="presence_to_define">
                                                <!--Employeeisnotherebutaccordingtohisworkschedule,heshouldbeconnected-->
                                                <spanclass="fafa-circletext-warning"role="img"
                                                      aria-label="Todefine"title="Todefine"
                                                      name="presence_to_define">
                                                </span>
                                            </div>
                                            <fieldname="name"placeholder="Employee'sName"/>
                                       </strong>
                                       <spant-if="record.job_title.raw_value"class="o_kanban_record_subtitle"><fieldname="job_title"/></span>
                                   </div>
                               </div>
                               <fieldname="category_ids"widget="many2many_tags"options="{'color_field':'color'}"groups="hr.group_hr_manager"/>
                               <ul>
                                   <liid="last_login"/>
                                   <lit-if="record.work_email.raw_value"class="o_text_overflow"><fieldname="work_email"/></li>
                                   <lit-if="record.work_phone.raw_value"class="o_force_ltr"><fieldname="work_phone"/></li>
                               </ul>
                                <divclass="oe_kanban_content">
                                    <divclass="o_kanban_record_bottom">
                                        <divclass="oe_kanban_bottom_left"/>
                                        <divclass="oe_kanban_bottom_right">
                                            <atitle="Chat"icon="fa-comments"href="#"class="ml8o_employee_chat_btn"attrs="{'invisible':[('user_id','=',False)]}"role="button"><iclass="fafa-comments"/></a>
                                        </div>
                                    </div>
                                </div>
                           </div>
                       </div>
                       </t>
                   </templates>
               </kanban>
            </field>
        </record>

        <recordid="hr_employee_view_activity"model="ir.ui.view">
            <fieldname="name">hr.employee.activity</field>
            <fieldname="model">hr.employee</field>
            <fieldname="arch"type="xml">
                <activitystring="Employees">
                    <fieldname="id"/>
                    <templates>
                        <divt-name="activity-box">
                            <imgt-att-src="activity_image('hr.employee','image_128',record.id.raw_value)"role="img"t-att-title="record.id.value"t-att-alt="record.id.value"/>
                            <div>
                                <fieldname="name"display="full"/>
                                <fieldname="job_id"muted="1"display="full"/>
                            </div>
                        </div>
                    </templates>
                </activity>
            </field>
        </record>

        <recordid="open_view_employee_list_my"model="ir.actions.act_window">
            <fieldname="name">Employees</field>
            <fieldname="res_model">hr.employee</field>
            <fieldname="view_mode">kanban,tree,form,activity</field>
            <fieldname="domain">[]</field>
            <fieldname="context">{'chat_icon':True}</field>
            <fieldname="view_id"eval="False"/>
            <fieldname="search_view_id"ref="view_employee_filter"/>
            <fieldname="help"type="html">
             <pclass="o_view_nocontent_smiling_face">
               Addanewemployee
             </p><p>
               WithjustaquickglanceontheFlectraemployeescreen,you
               caneasilyfindalltheinformationyouneedforeachperson;
               contactdata,jobposition,availability,etc.
             </p>
            </field>
        </record>

        <recordid="open_view_employee_tree"model="ir.actions.act_window">
            <fieldname="name">EmployeesStructure</field>
            <fieldname="res_model">hr.employee</field>
            <fieldname="view_mode">tree,form</field>
            <fieldname="view_id"ref="view_employee_tree"/>
            <fieldname="domain">[('parent_id','=',False)]</field>
            <fieldname="search_view_id"ref="view_employee_filter"/>
        </record>

        <recordid="open_view_employee_list"model="ir.actions.act_window">
            <fieldname="name">Employees</field>
            <fieldname="res_model">hr.employee</field>
            <fieldname="view_mode">form,tree</field>
            <fieldname="view_id"eval="False"/>
            <fieldname="search_view_id"ref="view_employee_filter"/>
        </record>

        <!--Employeetreebymanager-->
        <recordid="view_partner_tree2"model="ir.ui.view">
            <fieldname="name">hr.employee.tree</field>
            <fieldname="model">hr.employee</field>
            <fieldname="priority"eval="20"/>
            <fieldname="arch"type="xml">
                <treestring="Employees">
                    <fieldname="name"/>
                    <fieldname="work_phone"class="o_force_ltr"/>
                    <fieldname="work_email"/>
                    <fieldname="company_id"groups="base.group_multi_company"/>
                    <fieldname="department_id"/>
                    <fieldname="job_id"/>
                    <fieldname="coach_id"invisible="1"/>
                    <fieldname="parent_id"invisible="1"/>
                </tree>
            </field>
        </record>

        <recordid="act_employee_from_department"model="ir.actions.act_window">
            <fieldname="name">Employees</field>
            <fieldname="res_model">hr.employee</field>
            <fieldname="view_mode">kanban,form,tree</field>
            <fieldname="search_view_id"ref="view_employee_filter"/>
            <fieldname="context">{
                "searchpanel_default_department_id":active_id,
                "default_department_id":active_id}
            </field>
            <fieldname="help"type="html">
              <pclass="o_view_nocontent_smiling_face">
                Addanewemployee
              </p><p>
                WithjustaquickglanceontheFlectraemployeescreen,you
                caneasilyfindalltheinformationyouneedforeachperson;
                contactdata,jobposition,availability,etc.
              </p>
            </field>
        </record>

    </data>
</flectra>
