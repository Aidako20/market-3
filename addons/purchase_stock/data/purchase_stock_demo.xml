<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
    <datanoupdate="1">

        <recordid="stock.res_company_1"model="res.company">
            <fieldeval="1.0"name="po_lead"/>
        </record>

        <recordid="product.product_delivery_01"model="product.product">
            <fieldname="route_ids"eval="[(4,ref('route_warehouse0_buy'))]"></field>
        </record>

        <recordid="product.product_delivery_02"model="product.product">
            <fieldname="route_ids"eval="[(4,ref('route_warehouse0_buy'))]"></field>
        </record>

        <recordid="product.product_product_9"model="product.product">
            <fieldname="route_ids"eval="[(4,ref('route_warehouse0_buy'))]"></field>
        </record>

        <recordid="product.product_product_12"model="product.product">
            <fieldname="route_ids"eval="[(4,ref('route_warehouse0_buy'))]"></field>
        </record>

        <recordid="product.product_product_13"model="product.product">
            <fieldname="route_ids"eval="[(4,ref('route_warehouse0_buy'))]"></field>
        </record>

        <recordid="product.product_product_16"model="product.product">
            <fieldname="route_ids"eval="[(4,ref('route_warehouse0_buy'))]"></field>
        </record>

        <recordid="product.product_product_20"model="product.product">
            <fieldname="route_ids"eval="[(4,ref('route_warehouse0_buy'))]"></field>
        </record>

        <recordid="purchase_order_8"model="purchase.order">
            <fieldname="partner_id"ref="base.res_partner_4"/>
            <fieldname="user_id"ref="base.user_admin"/>
            <fieldname="state">draft</field>
            <fieldname="date_order"eval="(datetime.now()+relativedelta(days=2)).strftime('%Y-%m-%d%H:%M:%S')"/>
            <fieldname="date_planned"eval="(datetime.now()+relativedelta(days=2)).strftime('%Y-%m-%d%H:%M:%S')"/>
            <fieldname="order_line"model="purchase.order.line"eval="[(5,0,0),
                (0,0,{
                    'product_id':ref('product.product_product_25'),
                    'name':obj().env.ref('product.product_product_25').partner_ref,
                    'price_unit':2864.80,
                    'product_qty':20.0,
                    'product_uom':ref('uom.product_uom_unit'),
                    'date_planned':DateTime.today()}),
            ]"/>
        </record>

        <functionmodel="purchase.order"name="button_confirm"eval="[[ref('purchase_order_8')]]"/>

    </data>

    <datanoupdate="0">

        <recordid="stock.stock_warehouse_shop0"model="stock.warehouse">
            <fieldname="buy_to_resupply"eval="True"/>
        </record>

        <functionmodel="stock.warehouse"name="write">
          <valuemodel="stock.warehouse"search="[('partner_id','=',ref('stock.res_partner_company_1'))]"/>
          <valueeval="{'buy_to_resupply':True}"/>
        </function>

    </data>

</flectra>
