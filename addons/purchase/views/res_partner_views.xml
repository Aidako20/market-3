<?xmlversion="1.0"encoding="utf-8"?>
<flectra>

    <recordid="view_partner_property_form"model="ir.ui.view">
            <fieldname="name">res.partner.purchase.property.form.inherit</field>
            <fieldname="model">res.partner</field>
            <fieldname="inherit_id"ref="base.view_partner_form"/>
            <fieldname="priority">36</field>
            <fieldname="arch"type="xml">
                <groupname="purchase"position="inside">
                    <labelfor="receipt_reminder_email"groups='purchase.group_send_reminder'/>
                    <divname="receipt_reminder"class="o_row"groups='purchase.group_send_reminder'>
                        <fieldname="receipt_reminder_email"/>
                        <divattrs="{'invisible':[('receipt_reminder_email','=',False)]}">
                            <fieldname="reminder_date_before_receipt"class="oe_inline"/>
                            <span>day(s)before</span>
                        </div>
                    </div>
                    <fieldname="property_purchase_currency_id"options="{'no_create':True,'no_open':True}"groups='base.group_multi_currency'/>
                </group>
            </field>
    </record>

    <recordid="act_res_partner_2_purchase_order"model="ir.actions.act_window">
            <fieldname="name">RFQsandPurchases</field>
            <fieldname="res_model">purchase.order</field>
            <fieldname="view_mode">tree,form,graph</field>
            <fieldname="context">{'search_default_partner_id':active_id,'default_partner_id':active_id}</field>
            <fieldname="groups_id"eval="[(4,ref('purchase.group_purchase_user'))]"/>
            <fieldname="help"type="html">
                <pclass="o_view_nocontent_smiling_face">
                    Thisvendorhasnopurchaseorder.CreateanewRfQ
                </p><p>
                    Therequestforquotationisthefirststepofthepurchasesflow.Once
                    convertedintoapurchaseorder,youwillbeabletocontrolthereceipt
                    oftheproductsandthevendorbill.
                </p>
            </field>
        </record>

        <!--Partnerkanbanviewinherited-->
        <recordmodel="ir.ui.view"id="purchase_partner_kanban_view">
            <fieldname="name">res.partner.kanban.purchaseorder.inherit</field>
            <fieldname="model">res.partner</field>
            <fieldname="inherit_id"ref="base.res_partner_kanban_view"/>
            <fieldname="groups_id"eval="[(4,ref('purchase.group_purchase_user'))]"/>
            <fieldname="arch"type="xml">
                <fieldname="mobile"position="after">
                    <fieldname="purchase_order_count"/>
                </field>
                <xpathexpr="//span[hasclass('oe_kanban_partner_links')]"position="inside">
                    <spant-if="record.purchase_order_count.value>0"class="badgebadge-pill"><iclass="fafa-fwfa-shopping-cart"role="img"aria-label="Shoppingcart"title="Shoppingcart"/><tt-esc="record.purchase_order_count.value"/></span>
                </xpath>
            </field>
        </record>

    <recordid="act_res_partner_2_supplier_invoices"model="ir.actions.act_window">
            <fieldname="name">VendorBills</field>
            <fieldname="res_model">account.move</field>
            <fieldname="view_mode">tree,form,graph</field>
            <fieldname="domain">[('move_type','in',('in_invoice','in_refund'))]</field>
            <fieldname="context">{'search_default_partner_id':active_id,'default_move_type':'in_invoice','default_partner_id':active_id}</field>
            <fieldname="help"type="html">
                <pclass="o_view_nocontent_smiling_face">
                    Recordanewvendorbill
                </p><p>
                    Vendorsbillscanbepre-generatedbasedonpurchase
                    ordersorreceipts.Thisallowsyoutocontrolbills
                    youreceivefromyourvendoraccordingtothedraft
                    documentinFlectra.
                </p>
            </field>
        </record>

        <recordid="res_partner_view_purchase_buttons"model="ir.ui.view">
            <fieldname="name">res.partner.view.purchase.buttons</field>
            <fieldname="model">res.partner</field>
            <fieldname="inherit_id"ref="base.view_partner_form"/>
            <fieldname="priority"eval="9"/>
            <fieldname="groups_id"eval="[(4,ref('purchase.group_purchase_user'))]"/>
            <fieldname="arch"type="xml">
                <divname="button_box"position="inside">
                    <buttonclass="oe_stat_button"name="%(purchase.act_res_partner_2_purchase_order)d"type="action"
                        groups="purchase.group_purchase_user"
                        icon="fa-shopping-cart">
                        <fieldstring="Purchases"name="purchase_order_count"widget="statinfo"/>
                    </button>
                </div>
                <pagename="internal_notes"position="inside">
                    <groupcolspan="2"col="2"groups="purchase.group_warning_purchase">
                        <separatorstring="WarningonthePurchaseOrder"colspan="4"/>
                        <fieldname="purchase_warn"nolabel="1"/>
                        <fieldname="purchase_warn_msg"colspan="3"nolabel="1"
                                attrs="{'required':[('purchase_warn','!=',False),('purchase_warn','!=','no-message')],'readonly':[('purchase_warn','=','no-message')]}"/>
                    </group>
                </page>
            </field>
        </record>

        <recordid="res_partner_view_purchase_account_buttons"model="ir.ui.view">
            <fieldname="name">res.partner.view.purchase.account.buttons</field>
            <fieldname="model">res.partner</field>
            <fieldname="inherit_id"ref="base.view_partner_form"/>
            <fieldname="priority"eval="12"/>
            <fieldname="groups_id"eval="[(4,ref('account.group_account_invoice'))]"/>
            <fieldname="arch"type="xml">
                <divname="button_box"position="inside">
                    <buttonclass="oe_stat_button"name="%(purchase.act_res_partner_2_supplier_invoices)d"type="action"
                        icon="fa-pencil-square-o"help="VendorBills">
                        <fieldstring="VendorBills"name="supplier_invoice_count"widget="statinfo"/>
                    </button>
                </div>
            </field>
        </record>
</flectra>
