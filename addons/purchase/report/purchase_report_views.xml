<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
        <recordmodel="ir.ui.view"id="view_purchase_order_pivot">
            <fieldname="name">product.month.pivot</field>
            <fieldname="model">purchase.report</field>
            <fieldname="arch"type="xml">
                <pivotstring="PurchaseAnalysis"disable_linking="True"display_quantity="true"sample="1">
                    <fieldname="category_id"type="row"/>
                    <fieldname="order_id"type="measure"/>
                    <fieldname="untaxed_total"type="measure"/>
                    <fieldname="price_total"type="measure"/>
                </pivot>
            </field>
        </record>
        <recordmodel="ir.ui.view"id="view_purchase_order_graph">
            <fieldname="name">product.month.graph</field>
            <fieldname="model">purchase.report</field>
            <fieldname="arch"type="xml">
                <graphstring="PurchaseOrdersStatistics"type="line"sample="1"disable_linking="1">
                    <fieldname="date_approve"interval="day"type="col"/>
                    <fieldname="untaxed_total"type="measure"/>
                </graph>
            </field>
        </record>

        <recordid="view_purchase_order_search"model="ir.ui.view">
        <fieldname="name">report.purchase.order.search</field>
        <fieldname="model">purchase.report</field>
        <fieldname="arch"type="xml">
            <searchstring="PurchaseOrders">
                <filterstring="RequestsforQuotation"name="quotes"domain="[('state','in',('draft','sent'))]"/>
                <filterstring="PurchaseOrders"name="orders"domain="[('state','!=','draft'),('state','!=','sent'),('state','!=','cancel')]"/>
                <filterstring="ConfirmationDateLastYear"name="later_than_a_year_ago"domain="[('date_approve','&gt;=',((context_today()-relativedelta(years=1)).strftime('%Y-%m-%d')))]"/>
                <filtername="filter_date_order"date="date_order"/>
                <filtername="filter_date_approve"date="date_approve"default_period="this_month"/>
                <fieldname="partner_id"/>
                <fieldname="product_id"/>
                <groupexpand="0"string="ExtendedFilters">
                    <fieldname="user_id"/>
                    <fieldname="company_id"groups="base.group_multi_company"/>
                    <fieldname="date_order"/>
                    <fieldname="date_approve"/>
                    <fieldname="category_id"filter_domain="[('category_id','child_of',self)]"/>
                </group>
                <groupexpand="1"string="GroupBy">
                    <filterstring="Vendor"name="group_partner_id"context="{'group_by':'partner_id'}"/>
                    <filterstring="VendorCountry"name="country_id"context="{'group_by':'country_id'}"/>
                    <filterstring="PurchaseRepresentative"name="user_id"context="{'group_by':'user_id'}"/>
                    <filterstring="Product"name="group_product_id"context="{'group_by':'product_id'}"/>
                    <filterstring="ProductCategory"name="group_category_id"context="{'group_by':'category_id'}"/>
                    <filterstring="Status"name="status"context="{'group_by':'state'}"/>
                    <filterstring="Company"name="company"context="{'group_by':'company_id'}"groups="base.group_multi_company"/>
                    <separator/>
                    <filterstring="OrderDate"name="order_month"context="{'group_by':'date_order:month'}"/>
                    <filterstring="ConfirmationDate"name="group_date_approve_month"context="{'group_by':'date_approve:month'}"/>
                </group>
            </search>
        </field>
    </record>

    <recordid="action_purchase_order_report_all"model="ir.actions.act_window">
        <fieldname="name">PurchaseAnalysis</field>
        <fieldname="res_model">purchase.report</field>
        <fieldname="view_mode">graph,pivot</field>
        <fieldname="view_id"></field> <!--forceempty-->
        <fieldname="help">PurchaseAnalysisallowsyoutoeasilycheckandanalyseyourcompanypurchasehistoryandperformance.Fromthismenuyoucantrackyournegotiationperformance,thedeliveryperformanceofyourvendors,etc.</field>
        <fieldname="target">current</field>
    </record>

    <menuitemid="purchase_report"name="Reporting"parent="purchase.menu_purchase_root"sequence="99"groups="purchase.group_purchase_manager"action="action_purchase_order_report_all"/>

</flectra>
