<?xmlversion="1.0"?>
<flectra>
        <recordmodel="ir.module.category"id="module_lunch_category">
            <fieldname="name">Lunch</field>
            <fieldname="description">Helpsyouhandleyourlunchneeds,ifyouareamanageryouwillbeabletocreatenewproducts,cashmovesandtoconfirmorcancelorders.</field>
            <fieldname="sequence">16</field>
        </record>
        <recordid="group_lunch_user"model="res.groups">
            <fieldname="name">User</field>
            <fieldname="category_id"ref="base.module_category_human_resources_lunch"/>
        </record>
        <recordid="group_lunch_manager"model="res.groups">
            <fieldname="name">Administrator</field>
            <fieldname="implied_ids"eval="[(4,ref('group_lunch_user'))]"/>
            <fieldname="category_id"ref="base.module_category_human_resources_lunch"/>
            <fieldname="users"eval="[(4,ref('base.user_root')),(4,ref('base.user_admin'))]"/>
        </record>

    <datanoupdate="1">

        <recordid="lunch_mind_your_own_food_money"model="ir.rule">
            <fieldname="name">lunch.cashmove:donotseeotherpeople'scashmove</field>
            <fieldname="model_id"ref="model_lunch_cashmove"/>
            <fieldname="groups"eval="[(4,ref('group_lunch_user'))]"/>
            <fieldname="domain_force">[('user_id','=',user.id)]</field>
        </record>
        <recordid="lunch_mind_other_food_money"model="ir.rule">
            <fieldname="name">lunch.cashmove:doseeotherpeople'scashmove</field>
            <fieldname="model_id"ref="model_lunch_cashmove"/>
            <fieldname="groups"eval="[(4,ref('group_lunch_manager'))]"/>
            <fieldname="domain_force">[(1,'=',1)]</field>
        </record>
        <recordid="lunch_order_rule_delete"model="ir.rule">
            <fieldname="name">lunch.order:Onlynewandcancelledorderlinesdeleted.</field>
            <fieldname="model_id"ref="lunch.model_lunch_order"/>
            <fieldname="domain_force">[('state','in',('new','cancelled'))]</field>
            <fieldname="perm_read"eval="0"/>
            <fieldname="perm_write"eval="0"/>
            <fieldname="perm_create"eval="0"/>
            <fieldname="perm_unlink"eval="1"/>
            <fieldname="groups"eval="[(4,ref('lunch.group_lunch_user'))]"/>
        </record>

        <recordid="lunch_order_rule_write"model="ir.rule">
            <fieldname="name">lunch.order:Don'tchangeconfirmedorder</field>
            <fieldname="model_id"ref="lunch.model_lunch_order"/>
            <fieldname="domain_force">[('state','!=','confirmed'),('user_id','=',user.id)]</field>
            <fieldname="perm_read"eval="0"/>
            <fieldname="perm_create"eval="0"/>
            <fieldname="perm_unlink"eval="0"/>
            <fieldname="groups"eval="[(4,ref('base.group_user'))]"/>
        </record>

        <recordid="lunch_order_rule_write_manager"model="ir.rule">
            <fieldname="name">managercandowhatever</field>
            <fieldname="model_id"ref="lunch.model_lunch_order"/>
            <fieldname="domain_force">[(1,'=',1)]</field>
            <fieldname="perm_read"eval="0"/>
            <fieldname="perm_create"eval="0"/>
            <fieldname="perm_unlink"eval="0"/>
            <fieldname="groups"eval="[(4,ref('lunch.group_lunch_manager'))]"/>
        </record>

        <recordid="base.default_user"model="res.users">
            <fieldname="groups_id"eval="[(4,ref('lunch.group_lunch_manager'))]"/>
        </record>

        <recordid="ir_rule_lunch_supplier_multi_company"model="ir.rule">
            <fieldname="name">Lunchsupplier:MultiCompany</field>
            <fieldname="model_id"ref="model_lunch_supplier"/>
            <fieldname="domain_force">[('company_id','in',company_ids+[False])]</field>
        </record>

        <recordid="ir_rule_lunch_product_multi_company"model="ir.rule">
            <fieldname="name">Lunchproduct:MultiCompany</field>
            <fieldname="model_id"ref="model_lunch_product"/>
            <fieldname="domain_force">[('company_id','in',company_ids+[False])]</field>
        </record>

        <recordid="ir_rule_lunch_product_category_multi_company"model="ir.rule">
            <fieldname="name">Lunchproductcategory:MultiCompany</field>
            <fieldname="model_id"ref="model_lunch_product_category"/>
            <fieldname="domain_force">[('company_id','in',company_ids+[False])]</field>
        </record>

        <recordid="ir_rule_lunch_location_multi_company"model="ir.rule">
            <fieldname="name">Lunchlocation:MultiCompany</field>
            <fieldname="model_id"ref="model_lunch_location"/>
            <fieldname="domain_force">[('company_id','in',company_ids+[False])]</field>
        </record>

        <recordid="ir_rule_lunch_product_report_multi_company"model="ir.rule">
            <fieldname="name">Lunchproductreport:MultiCompany</field>
            <fieldname="model_id"ref="model_lunch_product_report"/>
            <fieldname="domain_force">[('company_id','in',company_ids+[False]),('category_id.company_id','in',company_ids+[False])]</field>
        </record>
    </data>
</flectra>
