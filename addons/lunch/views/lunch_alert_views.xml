<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
    <recordid="lunch_alert_view_search"model="ir.ui.view">
        <fieldname="name">lunch.alert.search</field>
        <fieldname="model">lunch.alert</field>
        <fieldname="arch"type="xml">
            <searchstring="Search">
                <fieldname="message"/>
                <filtername="inactive_today"string="Currentlyinactive"domain="[('available_today','=',False)]"/>
                <separator/>
                <filtername="active"string="Active"domain="[('active','=',True)]"/>
                <filtername="inactive"string="Archived"domain="[('active','=',False)]"/>
            </search>
        </field>
    </record>

    <recordid="lunch_alert_view_tree"model="ir.ui.view">
        <fieldname="name">lunch.alert.tree</field>
        <fieldname="model">lunch.alert</field>
        <fieldname="arch"type="xml">
            <tree>
                <fieldname="name"/>
                <fieldname="mode"/>
                <fieldname="message"invisible="1"/>
                <fieldname="available_today"/>
                <fieldname="active"widget="boolean_toggle"/>
            </tree>
        </field>
    </record>

    <recordid="lunch_alert_view_form"model="ir.ui.view">
        <fieldname="name">lunch.alert.form</field>
        <fieldname="model">lunch.alert</field>
        <fieldname="arch"type="xml">
            <formstring="alertform">
                <sheet>
                    <divclass="oe_title"name="title">
                        <labelfor="name"class="oe_edit_only"/>
                        <h1>
                            <fieldname="name"/>
                        </h1>
                    </div>
                    <group>
                        <group>
                            <fieldname="mode"widget="radio"/>
                            <fieldname="recipients"attrs="{'invisible':[['mode','!=','chat']]}"widget="radio"/>
                            <fieldname="location_ids"widget="many2many_tags"required="1"/>
                            <fieldname="until"/>
                            <fieldname="active"widget="boolean_toggle"/>
                        </group>
                        <group>
                            <fieldname="recurrency_monday"/>
                            <fieldname="recurrency_tuesday"/>
                            <fieldname="recurrency_wednesday"/>
                            <fieldname="recurrency_thursday"/>
                            <fieldname="recurrency_friday"/>
                            <fieldname="recurrency_saturday"/>
                            <fieldname="recurrency_sunday"/>
                            <labelfor="notification_time"attrs="{'invisible':[['mode','!=','chat']]}"/>
                            <divclass="o_row"attrs="{'invisible':[['mode','!=','chat']]}">
                                <fieldname="notification_time"attrs="{'required':[('mode','=','chat')]}"widget="float_time"/>
                                <fieldname="notification_moment"/>
                            </div>
                            <fieldname="tz"groups="base.group_no_one"/>
                        </group>
                        <group>
                            <fieldname="message"/>
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <recordid="lunch_alert_view_kanban"model="ir.ui.view">
        <fieldname="name">lunch.alert.kanban</field>
        <fieldname="model">lunch.alert</field>
        <fieldname="arch"type="xml">
            <kanbanclass="o_kanban_mobile">
                <templates>
                    <tt-name="kanban-box">
                        <divclass="oe_kanban_cardoe_kanban_global_click">
                            <divclass="oe_kanban_content">
                                <divclass="o_kanban_record_top">
                                    <divclass="o_kanban_record_headings">
                                        <strongclass="o_kanban_record_title"><fieldname="name"/></strong>
                                        <span><br/><fieldname="mode"/></span>
                                        <spanattrs="{'invisible':[['mode','!=','chat']]}">
                                            to<fieldname="recipients"/>
                                            on<fieldname="notification_time"/>
                                            <fieldname="notification_moment"/>
                                        </span>
                                    </div>
                                </div>
                                <divclass="o_kanban_record_body">
                                    <fieldname="location_ids"widget="many2many_tags"/>
                                </div>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <recordid="lunch_alert_action"model="ir.actions.act_window">
        <fieldname="name">LunchAlerts</field>
        <fieldname="res_model">lunch.alert</field>
        <fieldname="search_view_id"ref="lunch_alert_view_search"/>
        <fieldname="view_mode">tree,form,kanban</field>
        <fieldname="domain">['|',('active','=',True),('active','=',False)]</field>
        <fieldname="context">{}</field>
        <fieldname="view_id"ref="lunch_alert_view_tree"/>
        <fieldname="help"type="html">
            <pclass="o_view_nocontent_smiling_face">
                Createnewlunchalerts
            </p>
        </field>
    </record>
</flectra>
