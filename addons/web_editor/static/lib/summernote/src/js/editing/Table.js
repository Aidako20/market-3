define([
  'summernote/core/dom','summernote/core/range','summernote/core/list'
],function(dom,range,list){
  /**
   *@classediting.Table
   *
   *Table
   *
   */
  varTable=function(){
    /**
     *handletabkey
     *
     *@param{WrappedRange}rng
     *@param{Boolean}isShift
     */
    this.tab=function(rng,isShift){
      varcell=dom.ancestor(rng.commonAncestor(),dom.isCell);
      vartable=dom.ancestor(cell,dom.isTable);
      varcells=dom.listDescendant(table,dom.isCell);

      varnextCell=list[isShift?'prev':'next'](cells,cell);
      if(nextCell){
        range.create(nextCell,0).select();
      }
    };

    /**
     *createemptytableelement
     *
     *@param{Number}rowCount
     *@param{Number}colCount
     *@return{Node}
     */
    this.createTable=function(colCount,rowCount){
      vartds=[],tdHTML;
      for(varidxCol=0;idxCol<colCount;idxCol++){
        tds.push('<td>'+dom.blank+'</td>');
      }
      tdHTML=tds.join('');

      vartrs=[],trHTML;
      for(varidxRow=0;idxRow<rowCount;idxRow++){
        trs.push('<tr>'+tdHTML+'</tr>');
      }
      trHTML=trs.join('');
      return$('<tableclass="tabletable-bordered">'+trHTML+'</table>')[0];
    };
  };
  returnTable;
});

