<?xmlversion="1.0"encoding="utf-8"?>
<flectranoupdate="True">

    <!--weaddl10n_latam_document_numberononaseparetelinebecauseweneedl10n_latam_document_type_idtobeautoassignedsothataccount.move.namecanbecomputedwiththe_inverse_l10n_latam_document_number-->

    <!--Invoicefromgrittisupportservice,autofiscalpositionsetVATNotApplicable-->
    <recordid="demo_sup_invoice_1"model="account.move">
        <fieldname="partner_id"ref="res_partner_gritti_agrimensura"/>
        <fieldname="invoice_user_id"ref="base.user_demo"/>
        <fieldname="invoice_payment_term_id"ref="account.account_payment_term_end_following_month"/>
        <fieldname="move_type">in_invoice</field>
        <fieldname="invoice_date"eval="time.strftime('%Y-%m')+'-01'"/>
        <fieldname="company_id"ref="company_ri"/>
        <fieldname="invoice_line_ids"eval="[
            (0,0,{'product_id':ref('product.product_product_2'),'price_unit':642.0,'quantity':1}),
            (0,0,{'product_id':ref('product.product_product_27'),'price_unit':642.0,'quantity':5}),
            (0,0,{'product_id':ref('product_product_telefonia'),'price_unit':250.0,'quantity':1}),
            (0,0,{'product_id':ref('product_product_no_gravado'),'price_unit':50.0,'quantity':10}),
            (0,0,{'product_id':ref('product_product_cero'),'price_unit':200.0,'quantity':1}),
            (0,0,{'product_id':ref('product_product_exento'),'price_unit':100.0,'quantity':1}),
        ]"/>
    </record>

    <!--InvoicefromForeignwithvat21,27and10,5-->
    <recordid="demo_sup_invoice_2"model="account.move">
        <fieldname="partner_id"ref="res_partner_foreign"/>
        <fieldname="invoice_user_id"ref="base.user_demo"/>
        <fieldname="invoice_payment_term_id"ref="account.account_payment_term_end_following_month"/>
        <fieldname="move_type">in_invoice</field>
        <fieldname="invoice_date"eval="time.strftime('%Y-%m')+'-01'"/>
        <fieldname="company_id"ref="company_ri"/>
        <fieldname="invoice_line_ids"eval="[
            (0,0,{'product_id':ref('product.product_product_27'),'price_unit':642.0,'quantity':5}),
            (0,0,{'product_id':ref('product_product_telefonia'),'price_unit':250.0,'quantity':1}),
            (0,0,{'product_id':ref('product.product_product_25'),'price_unit':3245.0,'quantity':2}),
        ]"/>
    </record>

    <!--InvoicefromForeignwithvatzeroand21-->
    <recordid="demo_sup_invoice_3"model="account.move">
        <fieldname="partner_id"ref="res_partner_foreign"/>
        <fieldname="invoice_user_id"ref="base.user_demo"/>
        <fieldname="invoice_payment_term_id"ref="account.account_payment_term_end_following_month"/>
        <fieldname="move_type">in_invoice</field>
        <fieldname="invoice_date"eval="time.strftime('%Y-%m')+'-11'"/>
        <fieldname="company_id"ref="company_ri"/>
        <fieldname="invoice_line_ids"eval="[
            (0,0,{'product_id':ref('product.product_product_27'),'price_unit':642.0,'quantity':5}),
            (0,0,{'product_id':ref('product_product_cero'),'price_unit':200.0,'quantity':1}),
        ]"/>
    </record>

    <!--InvoicetoForeignwithvatexemptand21-->
    <recordid="demo_sup_invoice_4"model="account.move">
        <fieldname="partner_id"ref="res_partner_foreign"/>
        <fieldname="invoice_user_id"ref="base.user_demo"/>
        <fieldname="invoice_payment_term_id"ref="account.account_payment_term_end_following_month"/>
        <fieldname="move_type">in_invoice</field>
        <fieldname="invoice_date"eval="time.strftime('%Y-%m')+'-15'"/>
        <fieldname="company_id"ref="company_ri"/>
        <fieldname="invoice_line_ids"eval="[
            (0,0,{'product_id':ref('product.product_product_27'),'price_unit':642.0,'quantity':5}),
            (0,0,{'product_id':ref('product_product_exento'),'price_unit':100.0,'quantity':1}),
        ]"/>
    </record>

    <!--InvoicetoForeignwithalltypeoftaxes -->
    <recordid="demo_sup_invoice_5"model="account.move">
        <fieldname="partner_id"ref="res_partner_foreign"/>
        <fieldname="invoice_user_id"ref="base.user_demo"/>
        <fieldname="invoice_payment_term_id"ref="account.account_payment_term_end_following_month"/>
        <fieldname="move_type">in_invoice</field>
        <fieldname="invoice_date"eval="time.strftime('%Y-%m')+'-18'"/>
        <fieldname="company_id"ref="company_ri"/>
        <fieldname="invoice_line_ids"eval="[
            (0,0,{'product_id':ref('product.product_product_27'),'price_unit':642.0,'quantity':5}),
            (0,0,{'product_id':ref('product_product_telefonia'),'price_unit':250.0,'quantity':1}),
            (0,0,{'product_id':ref('product.product_product_25'),'price_unit':3245.0,'quantity':2}),
            (0,0,{'product_id':ref('product_product_no_gravado'),'price_unit':50.0,'quantity':10}),
            (0,0,{'product_id':ref('product_product_cero'),'price_unit':200.0,'quantity':1}),
            (0,0,{'product_id':ref('product_product_exento'),'price_unit':100.0,'quantity':1}),
        ]"/>
    </record>

    <!--ServiceImporttoFlectra,fiscalpositionchangestaxnotcorrespond-->
    <recordid="demo_sup_invoice_6"model="account.move">
        <fieldname="partner_id"ref="res_partner_flectra"/>
        <fieldname="invoice_user_id"ref="base.user_demo"/>
        <fieldname="invoice_payment_term_id"ref="account.account_payment_term_end_following_month"/>
        <fieldname="move_type">in_invoice</field>
        <fieldname="invoice_date"eval="time.strftime('%Y-%m')+'-26'"/>
        <fieldname="company_id"ref="company_ri"/>
        <fieldname="invoice_line_ids"eval="[
            (0,0,{'product_id':ref('product.product_product_2'),'price_unit':1642.0,'quantity':1}),
        ]"/>
    </record>

    <!--Similartolastonebutwithlinethathavetaxnotcorrespondwithnegativeamount-->
    <recordid="demo_sup_invoice_7"model="account.move">
        <fieldname="partner_id"ref="res_partner_flectra"/>
        <fieldname="invoice_user_id"ref="base.user_demo"/>
        <fieldname="invoice_payment_term_id"ref="account.account_payment_term_end_following_month"/>
        <fieldname="move_type">in_invoice</field>
        <fieldname="invoice_date"eval="time.strftime('%Y-%m')+'-27'"/>
        <fieldname="company_id"ref="company_ri"/>
        <fieldname="invoice_line_ids"eval="[
            (0,0,{'product_id':ref('product.product_product_2'),'price_unit':1642.0,'quantity':1}),
            (0,0,{'product_id':ref('product_product_no_gravado'),'price_unit':-50.0,'quantity':10}),
        ]"/>
    </record>

    <!--InvoicetoADHOCwithmultipletaxesandperceptions-->
    <recordid="demo_sup_invoice_8"model="account.move">
        <fieldname="partner_id"ref="l10n_ar.res_partner_adhoc"/>
        <fieldname="invoice_user_id"ref="base.user_demo"/>
        <fieldname="invoice_payment_term_id"ref="account.account_payment_term_end_following_month"/>
        <fieldname="move_type">in_invoice</field>
        <fieldname="invoice_date"eval="time.strftime('%Y-%m')+'-01'"/>
        <fieldname="company_id"ref="company_ri"/>
        <fieldname="invoice_line_ids"eval="[
            (0,0,{'product_id':ref('product.product_product_27'),'price_unit':642.0,'quantity':5}),
            (0,0,{'product_id':ref('product_product_telefonia'),'price_unit':250.0,'quantity':1}),
            (0,0,{'product_id':ref('product.product_product_25'),'price_unit':3245.0,'quantity':2}),
        ]"/>
    </record>

    <!--ImportCleareance-->
    <recordid="demo_despacho_1"model="account.move">
        <fieldname="partner_id"ref="l10n_ar.partner_afip"/>
        <fieldname="invoice_user_id"ref="base.user_demo"/>
        <fieldname="invoice_payment_term_id"ref="account.account_payment_term_end_following_month"/>
        <fieldname="move_type">in_invoice</field>
        <!--aswecreatelinesseparatellyweneedtosetjournal,ifnot,miscjournalisselected-->
        <fieldname="journal_id"model="account.journal"search="[('type','=','purchase'),('company_id','=',obj().env.company.id)]"/>
        <fieldname="invoice_date"eval="time.strftime('%Y-%m')+'-13'"/>
        <fieldname="company_id"ref="company_ri"/>
    </record>
    <!--createthislinesmanuallytosettaxesandprices-->
    <recordid="demo_despacho_1_line_1"model="account.move.line"context="{'check_move_validity':False}">
        <fieldname="move_id"ref="demo_despacho_1"/>
        <fieldname="price_unit">5064.98</field>
        <fieldname="name">[AFIP_DESPACHO]Despachodeimportación</field>
        <fieldname="quantity">1</field>
        <fieldname="product_id"ref="l10n_ar.product_product_quote_despacho"/>
        <fieldname="product_uom_id"ref="uom.product_uom_unit"/>
        <fieldname="tax_ids"model="account.tax"eval="[(6,0,obj().search([('company_id','=',obj().env.ref('l10n_ar.company_ri').id),('name','=','IVA21%'),('type_tax_use','=','purchase')],limit=1).ids)]"/>
        <fieldname="account_id"model="account.move.line"eval="obj().env.ref('l10n_ar.product_product_quote_despacho').categ_id.property_account_income_categ_id.id"/>
    </record>
    <recordid="demo_despacho_1_line_2"model="account.move.line"context="{'check_move_validity':False}">
        <fieldname="move_id"ref="demo_despacho_1"/>
        <fieldname="price_unit">152.08</field>
        <fieldname="name">[AFIP_TASA_EST]TasaEstadística</field>
        <fieldname="quantity">1</field>
        <fieldname="product_id"ref="l10n_ar.product_product_tasa_estadistica"/>
        <fieldname="product_uom_id"ref="uom.product_uom_unit"/>
        <fieldname="tax_ids"model="account.tax"eval="[(6,0,obj().search([('company_id','=',obj().env.ref('l10n_ar.company_ri').id),('name','=','IVA21%'),('type_tax_use','=','purchase')],limit=1).ids)]"/>
        <fieldname="account_id"model="account.move.line"eval="obj().env.ref('l10n_ar.product_product_tasa_estadistica').categ_id.property_account_income_categ_id.id"/>
    </record>
    <recordid="demo_despacho_1_line_3"model="account.move.line"context="{'check_move_validity':False}">
        <fieldname="move_id"ref="demo_despacho_1"/>
        <fieldname="price_unit">10.0</field>
        <fieldname="name">[AFIP_ARANCEL]Arancel</field>
        <fieldname="quantity">1</field>
        <fieldname="product_id"ref="l10n_ar.product_product_arancel"/>
        <fieldname="product_uom_id"ref="uom.product_uom_unit"/>
        <fieldname="tax_ids"model="account.tax"eval="[(6,0,obj().search([('company_id','=',obj().env.ref('l10n_ar.company_ri').id),('name','=','IVANoGravado'),('type_tax_use','=','purchase')],limit=1).ids)]"/>
        <fieldname="account_id"model="account.move.line"eval="obj().env.ref('l10n_ar.product_product_arancel').categ_id.property_account_income_categ_id.id"/>
    </record>
    <recordid="demo_despacho_1_line_4"model="account.move.line"context="{'check_move_validity':False}">
        <fieldname="move_id"ref="demo_despacho_1"/>
        <fieldname="price_unit">28.00</field>
        <fieldname="name">[AFIP_SERV_GUARDA]ServiciodeGuarda</field>
        <fieldname="quantity">1</field>
        <fieldname="product_id"ref="l10n_ar.product_product_servicio_de_guarda"/>
        <fieldname="product_uom_id"ref="uom.product_uom_unit"/>
        <fieldname="tax_ids"model="account.tax"eval="[(6,0,obj().search([('company_id','=',obj().env.ref('l10n_ar.company_ri').id),('name','=','IVANoGravado'),('type_tax_use','=','purchase')],limit=1).ids)]"/>
        <fieldname="account_id"model="account.move.line"eval="obj().env.ref('l10n_ar.product_product_servicio_de_guarda').categ_id.property_account_income_categ_id.id"/>
    </record>
    <recordid="demo_despacho_1_line_5"model="account.move.line"context="{'check_move_validity':False}">
        <fieldname="name">FOBTotal</field>
        <fieldname="move_id"ref="demo_despacho_1"/>
        <fieldname="price_unit">28936.06</field>
        <fieldname="quantity">1</field>
        <fieldname="product_uom_id"ref="uom.product_uom_unit"/>
        <fieldname="tax_ids"model="account.tax"eval="[(6,0,obj().search([('company_id','=',obj().env.ref('l10n_ar.company_ri').id),('name','=','IVA21%'),('type_tax_use','=','purchase')],limit=1).ids)]"/>
        <fieldname="account_id"model="account.move.line"eval="obj().env.ref('product.product_category_all').property_account_income_categ_id.id"/>
    </record>
    <recordid="demo_despacho_1_line_6"model="account.move.line"context="{'check_move_validity':False}">
        <fieldname="name">Flete</field>
        <fieldname="move_id"ref="demo_despacho_1"/>
        <fieldname="price_unit">1350.00</field>
        <fieldname="quantity">1</field>
        <fieldname="product_uom_id"ref="uom.product_uom_unit"/>
        <fieldname="tax_ids"model="account.tax"eval="[(6,0,obj().search([('company_id','=',obj().env.ref('l10n_ar.company_ri').id),('name','=','IVA21%'),('type_tax_use','=','purchase')],limit=1).ids)]"/>
        <fieldname="account_id"model="account.move.line"eval="obj().env.ref('product.product_category_all').property_account_income_categ_id.id"/>
    </record>
    <recordid="demo_despacho_1_line_7"model="account.move.line"context="{'check_move_validity':False}">
        <fieldname="name">Seguro</field>
        <fieldname="move_id"ref="demo_despacho_1"/>
        <fieldname="price_unit">130.21</field>
        <fieldname="quantity">1</field>
        <fieldname="product_uom_id"ref="uom.product_uom_unit"/>
        <fieldname="tax_ids"model="account.tax"eval="[(6,0,obj().search([('company_id','=',obj().env.ref('l10n_ar.company_ri').id),('name','=','IVA21%'),('type_tax_use','=','purchase')],limit=1).ids)]"/>
        <fieldname="account_id"model="account.move.line"eval="obj().env.ref('product.product_category_all').property_account_income_categ_id.id"/>
    </record>
    <recordid="demo_despacho_1_line_8"model="account.move.line"context="{'check_move_validity':False}">
        <fieldname="name">-FOBTotal</field>
        <fieldname="move_id"ref="demo_despacho_1"/>
        <fieldname="price_unit">-28936.06</field>
        <fieldname="quantity">1</field>
        <fieldname="product_uom_id"ref="uom.product_uom_unit"/>
        <fieldname="tax_ids"model="account.tax"eval="[(6,0,obj().search([('company_id','=',obj().env.ref('l10n_ar.company_ri').id),('name','=','IVANoGravado'),('type_tax_use','=','purchase')],limit=1).ids)]"/>
        <fieldname="account_id"model="account.move.line"eval="obj().env.ref('product.product_category_all').property_account_income_categ_id.id"/>
    </record>
    <recordid="demo_despacho_1_line_9"model="account.move.line"context="{'check_move_validity':False}">
        <fieldname="name">-Flete</field>
        <fieldname="move_id"ref="demo_despacho_1"/>
        <fieldname="price_unit">-1350.00</field>
        <fieldname="quantity">1</field>
        <fieldname="product_uom_id"ref="uom.product_uom_unit"/>
        <fieldname="tax_ids"model="account.tax"eval="[(6,0,obj().search([('company_id','=',obj().env.ref('l10n_ar.company_ri').id),('name','=','IVANoGravado'),('type_tax_use','=','purchase')],limit=1).ids)]"/>
        <fieldname="account_id"model="account.move.line"eval="obj().env.ref('product.product_category_all').property_account_income_categ_id.id"/>
    </record>
    <recordid="demo_despacho_1_line_10"model="account.move.line"context="{'check_move_validity':False}">
        <fieldname="name">-Seguro</field>
        <fieldname="move_id"ref="demo_despacho_1"/>
        <fieldname="price_unit">-130.21</field>
        <fieldname="quantity">1</field>
        <fieldname="product_uom_id"ref="uom.product_uom_unit"/>
        <fieldname="tax_ids"model="account.tax"eval="[(6,0,obj().search([('company_id','=',obj().env.ref('l10n_ar.company_ri').id),('name','=','IVANoGravado'),('type_tax_use','=','purchase')],limit=1).ids)]"/>
        <fieldname="account_id"model="account.move.line"eval="obj().env.ref('product.product_category_all').property_account_income_categ_id.id"/>
    </record>

    <recordid="demo_sup_invoice_1"model="account.move">
        <fieldname="l10n_latam_document_number">0001-00000008</field>
    </record>
    <recordid="demo_sup_invoice_2"model="account.move">
        <fieldname="l10n_latam_document_number">0002-00000123</field>
    </record>
    <recordid="demo_sup_invoice_3"model="account.move">
        <fieldname="l10n_latam_document_number">0003-00000312</field>
    </record>
    <recordid="demo_sup_invoice_4"model="account.move">
        <fieldname="l10n_latam_document_number">0001-00000200</field>
    </record>
    <recordid="demo_sup_invoice_5"model="account.move">
        <fieldname="l10n_latam_document_number">0001-00000222</field>
    </record>
    <recordid="demo_sup_invoice_6"model="account.move">
        <fieldname="l10n_latam_document_number">0001-00000333</field>
    </record>
    <recordid="demo_sup_invoice_7"model="account.move">
        <fieldname="l10n_latam_document_number">0001-00000334</field>
    </record>
    <recordid="demo_sup_invoice_8"model="account.move">
        <fieldname="l10n_latam_document_number">0001-00000335</field>
    </record>
    <recordid="demo_despacho_1"model="account.move">
        <fieldname="l10n_latam_document_number">16052IC04000605L</field>
    </record>

    <functionmodel="account.move"name="_onchange_partner_id"context="{'check_move_validity':False}">
        <valueeval="[ref('demo_sup_invoice_1')]"/>
    </function>
    <functionmodel="account.move"name="_onchange_partner_id"context="{'check_move_validity':False}">
        <valueeval="[ref('demo_sup_invoice_2')]"/>
    </function>
    <functionmodel="account.move"name="_onchange_partner_id"context="{'check_move_validity':False}">
        <valueeval="[ref('demo_sup_invoice_3')]"/>
    </function>
    <functionmodel="account.move"name="_onchange_partner_id"context="{'check_move_validity':False}">
        <valueeval="[ref('demo_sup_invoice_4')]"/>
    </function>
    <functionmodel="account.move"name="_onchange_partner_id"context="{'check_move_validity':False}">
        <valueeval="[ref('demo_sup_invoice_5')]"/>
    </function>
    <functionmodel="account.move"name="_onchange_partner_id"context="{'check_move_validity':False}">
        <valueeval="[ref('demo_sup_invoice_6')]"/>
    </function>
    <functionmodel="account.move"name="_onchange_partner_id"context="{'check_move_validity':False}">
        <valueeval="[ref('demo_sup_invoice_7')]"/>
    </function>
    <functionmodel="account.move"name="_onchange_partner_id"context="{'check_move_validity':False}">
        <valueeval="[ref('demo_despacho_1')]"/>
    </function>

    <functionmodel="account.move.line"name="_onchange_product_id"context="{'check_move_validity':False}">
        <valuemodel="account.move.line"eval="obj().search([('move_id','in',[ref('demo_sup_invoice_1'),ref('demo_sup_invoice_2'),ref('demo_sup_invoice_3'),ref('demo_sup_invoice_4'),ref('demo_sup_invoice_5'),ref('demo_sup_invoice_6'),ref('demo_sup_invoice_7'),ref('demo_sup_invoice_8')])]).ids"/>
    </function>

    <functionmodel="account.move"name="_recompute_dynamic_lines"context="{'check_move_validity':False}">
        <valueeval="[ref('demo_sup_invoice_1'),ref('demo_sup_invoice_2'),ref('demo_sup_invoice_3'),ref('demo_sup_invoice_4'),ref('demo_sup_invoice_5'),ref('demo_sup_invoice_6'),ref('demo_sup_invoice_7'),ref('demo_sup_invoice_8'),ref('demo_despacho_1')]"/>
        <valueeval="True"/>
    </function>

    <functionmodel="account.move"name="action_post">
        <valueeval="[ref('demo_sup_invoice_1'),ref('demo_sup_invoice_2'),ref('demo_sup_invoice_3'),ref('demo_sup_invoice_4'),ref('demo_sup_invoice_5'),ref('demo_sup_invoice_6'),ref('demo_sup_invoice_7'),ref('demo_sup_invoice_8'),ref('demo_despacho_1')]"/>
    </function>

</flectra>
