<?xmlversion="1.0"?>
<flectra>
    <data>

        <!--EVENT.TYPEVIEWS-->
        <recordmodel="ir.ui.view"id="view_event_type_form">
            <fieldname="name">event.type.form</field>
            <fieldname="model">event.type</field>
            <fieldname="arch"type="xml">
                <formstring="EventCategory">
                   <sheet>
                        <divclass="oe_title">
                            <labelfor="name"class="oe_edit_only"/>
                            <h1><fieldname="name"/></h1>
                        </div>
                        <h2>Location</h2>
                        <divclass="rowmt16o_settings_container"name="event_type_location">
                            <divclass="col-12col-lg-6o_setting_box">
                                <divclass="o_setting_left_pane">
                                    <fieldname="use_timezone"/>
                                </div>
                                <divclass="o_setting_right_pane">
                                    <labelfor="use_timezone"/>
                                    <divclass="row">
                                        <divclass="col-lg-8mt16"attrs="{'invisible':[('use_timezone','=',False)]}">
                                            <labelfor="default_timezone"/>
                                            <fieldname="default_timezone"
                                                attrs="{'required':[('use_timezone','=',True)]}"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <h2>Communication</h2>
                        <divclass="rowmt16o_settings_container"name="event_type_communication">
                            <divclass="col-12col-lg-12o_setting_box">
                                <divclass="o_setting_left_pane">
                                    <fieldname="use_mail_schedule"/>
                                </div>
                                <divclass="o_setting_right_pane">
                                    <labelfor="use_mail_schedule"/>
                                    <divclass="rowmt16"attrs="{'invisible':[('use_mail_schedule','=',False)]}">
                                        <divclass="col-12">
                                            <fieldname="event_type_mail_ids"style="width:100%;">
                                                <treestring="Communication"editable="bottom">
                                                    <fieldname="notification_type"invisible="1"/>
                                                    <fieldname="template_id"attrs="{'required':[('notification_type','=','mail')]}"/>
                                                    <fieldname="interval_nbr"attrs="{'readonly':[('interval_unit','=','now')]}"/>
                                                    <fieldname="interval_unit"/>
                                                    <fieldname="interval_type"/>
                                                </tree>
                                            </field>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <h2>Visibility</h2>
                        <divclass="rowmt16o_settings_container"name="event_type_visibility">
                            <divclass="col-12col-lg-6o_setting_box"name="event_type_visibility_seats">
                                <divclass="o_setting_left_pane">
                                    <fieldname="has_seats_limitation"/>
                                </div>
                                <divclass="o_setting_right_pane">
                                    <labelfor="has_seats_limitation"/>
                                    <divclass="row">
                                        <divclass="col-lg-8mt16"attrs="{'invisible':[('has_seats_limitation','=',False)]}">
                                            <div>
                                                <labelfor="seats_max"/><fieldname="seats_max"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <divclass="col-12col-lg-6o_setting_box"name="event_type_visibility_tags">
                                <divclass="o_setting_left_pane"/>
                                <divclass="o_setting_right_pane">
                                    <labelfor="tag_ids"string="Tags"/>
                                    <divclass="row">
                                        <divclass="col-12mt16">
                                            <fieldname="tag_ids"widget="many2many_tags"options="{'color_field':'color','no_quick_create':True}"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <h2>Attendees</h2>
                        <divclass="rowmt16o_settings_container"name="event_type_attendees">
                            <divclass="col-12o_setting_box"name="event_type_attendees_tickets">
                                <divclass="o_setting_left_pane">
                                    <fieldname="use_ticket"/>
                                </div>
                                <divclass="o_setting_right_pane">
                                    <labelfor="use_ticket"/>
                                    <divclass="rowmt16"attrs="{'invisible':[('use_ticket','=',False)]}">
                                        <divclass="col">
                                            <fieldname="event_type_ticket_ids"
                                                class="w-100"
                                                context="{
                                                    'tree_view_ref':'event.event_type_ticket_view_tree_from_type',
                                                    'form_view_ref':'event.event_type_ticket_view_form_from_type'
                                                }"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <divclass="col-12col-lg-6o_setting_box"name="event_type_attendees_auto_confirm">
                                <divclass="o_setting_left_pane">
                                    <fieldname="auto_confirm"/>
                                </div>
                                <divclass="o_setting_right_pane">
                                    <labelfor="auto_confirm"/>
                                    <divclass="row">
                                        <divclass="col-lg-8mt16text-muted">
                                            Eventsandregistrationswillautomaticallybeconfirmed
                                            uponcreation,easingtheflowforsimpleevents.
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </sheet>
                </form>
            </field>
        </record>

        <recordmodel="ir.ui.view"id="view_event_type_tree">
            <fieldname="name">event.type.tree</field>
            <fieldname="model">event.type</field>
            <fieldname="arch"type="xml">
                <treestring="EventTemplate">
                    <fieldname="sequence"widget="handle"/>
                    <fieldname="name"/>
                </tree>
            </field>
        </record>

        <recordid="event_type_view_search"model="ir.ui.view">
            <fieldname="name">event.type.search</field>
            <fieldname="model">event.type</field>
            <fieldname="arch"type="xml">
                <searchstring="EventTemplates">
                    <fieldname="name"/>
                </search>
            </field>
        </record>

        <recordmodel="ir.actions.act_window"id="action_event_type">
            <fieldname="name">EventTemplates</field>
            <fieldname="res_model">event.type</field>
        </record>

        <recordid="menu_event_type"model="ir.ui.menu">
            <fieldname="action"ref="event.action_event_type"/>
        </record>

        <!--EVENT.REGISTRATIONACTIONS-->
        <recordid="act_event_registration_from_event"model="ir.actions.act_window">
            <fieldname="res_model">event.registration</field>
            <fieldname="name">Attendees</field>
            <fieldname="view_mode">kanban,tree,form,calendar,graph</field>
            <fieldname="domain">[('event_id','=',active_id)]</field>
            <fieldname="context">{'default_event_id':active_id}</field>
            <fieldname="help"type="html">
                <pclass="o_view_nocontent_smiling_face">
                    CreateanAttendee
                </p>
            </field>
        </record>

        <recordid="event_registration_action"model="ir.actions.act_window">
            <fieldname="res_model">event.registration</field>
            <fieldname="name">Attendees</field>
            <fieldname="view_mode">kanban,tree,form,calendar,graph</field>
            <fieldname="help"type="html">
                <pclass="o_view_nocontent_smiling_face">
                    CreateanAttendee
                </p>
            </field>
        </record>

        <recordid="event_registration_action_tree"model="ir.actions.act_window">
           <fieldname="name">Eventregistrations</field>
           <fieldname="type">ir.actions.act_window</field>
           <fieldname="res_model">event.registration</field>
           <fieldname="view_mode">tree,kanban,form,calendar,graph</field>
        </record>

        <!--EVENT.EVENTVIEWS-->
        <recordid="event_event_action_pivot"model="ir.actions.act_window">
            <fieldname="name">EventsAnalysis</field>
            <fieldname="res_model">event.event</field>
            <fieldname="view_mode">pivot,graph</field>
        </record>

        <recordmodel="ir.ui.view"id="view_event_form">
            <fieldname="name">event.event.form</field>
            <fieldname="model">event.event</field>
            <fieldname="arch"type="xml">
                <formstring="Events"class="o_event_form_view">
                    <header>
                        <fieldname="stage_id"widget="statusbar"options="{'clickable':'1'}"/>
                    </header>
                    <sheet>
                        <divclass="oe_button_box"name="button_box"groups="base.group_user">
                            <buttonname="%(event.act_event_registration_from_event)d"
                                    type="action"
                                    context="{'search_default_expected':True}"
                                    class="oe_stat_button"
                                    icon="fa-users"
                                    help="TotalRegistrationsforthisEvent">
                                <fieldname="seats_expected"widget="statinfo"string="Attendees"/>
                            </button>
                        </div>
                        <fieldname="legend_blocked"invisible="1"/>
                        <fieldname="legend_normal"invisible="1"/>
                        <fieldname="legend_done"invisible="1"/>
                        <widgetname="web_ribbon"text="Archived"bg_color="bg-danger"attrs="{'invisible':[('active','=',True)]}"/>
                        <fieldname="kanban_state"widget="state_selection"class="ml-autofloat-right"/>
                        <divclass="oe_title">
                            <labelfor="name"class="oe_edit_only"string="EventName"/>
                            <h1><fieldname="name"placeholder="e.g.ConferenceforArchitects"/></h1>
                        </div>
                        <group>
                            <group>
                                <fieldname="active"invisible="1"/>
                                <labelfor="date_begin"string="Date"/>
                                <divclass="o_row">
                                    <fieldname="date_begin"widget="daterange"nolabel="1"class="oe_inline"options="{'related_end_date':'date_end'}"/>
                                    <iclass="fafa-long-arrow-rightmx-2"aria-label="Arrowicon"title="Arrow"/>
                                    <fieldname="date_end"widget="daterange"nolabel="1"class="oe_inline"options="{'related_start_date':'date_begin'}"/>
                                </div>
                                <fieldname="date_tz"/>
                                <fieldname="event_type_id"string="Template"options="{'no_create':True}"/>
                                <fieldname="tag_ids"widget="many2many_tags"options="{'color_field':'color','no_quick_create':True}"/>
                            </group>
                            <group>
                                <fieldname="organizer_id"/>
                                <fieldname="user_id"domain="[('share','=',False)]"/>
                                <fieldname="company_id"groups="base.group_multi_company"/>
                                <fieldname="address_id"
                                    context="{'show_address':1}"
                                    options='{"always_reload":True}'/>
                                <labelfor="seats_limited"string="LimitRegistrations"/>
                                <div>
                                    <fieldname="seats_limited"/>
                                    <spanattrs="{'invisible':[('seats_limited','=',False)],'required':[('seats_limited','=',False)]}">to<fieldname="seats_max"class="oe_inline"/>Attendees</span>
                                </div>
                                <fieldname="auto_confirm"/>
                            </group>
                        </group>
                        <notebook>
                            <pagestring="Tickets"name="tickets">
                                <fieldname="event_ticket_ids"context="{
                                    'default_event_name':name,
                                    'tree_view_ref':'event.event_event_ticket_view_tree_from_event',
                                    'form_view_ref':'event.event_event_ticket_view_form_from_event',
                                    'kanban_view_ref':'event.event_event_ticket_view_kanban_from_event'}"mode="tree,kanban"/>
                            </page>
                            <pagestring="Communication"name="event_communication">
                                <fieldname="event_mail_ids">
                                    <treestring="Communication"editable="bottom">
                                        <fieldname="sequence"widget="handle"/>
                                        <fieldname="notification_type"invisible="1"/>
                                        <fieldname="template_id"attrs="{'required':[('notification_type','=','mail')]}"context="{'default_model':'event.registration'}"/>
                                        <fieldname="interval_nbr"attrs="{'readonly':[('interval_unit','=','now')]}"/>
                                        <fieldname="interval_unit"/>
                                        <fieldname="interval_type"/>
                                        <fieldname="done"/>
                                    </tree>
                                </field>
                            </page>
                            <pagestring="Notes"name="event_notes">
                                <fieldname="note"placeholder="Addanote..."/>
                            </page>
                        </notebook>
                    </sheet>
                    <divclass="oe_chatter">
                        <fieldname="message_follower_ids"groups="base.group_user"/>
                        <fieldname="activity_ids"/>
                        <fieldname="message_ids"/>
                    </div>
                </form>
            </field>
        </record>

        <recordmodel="ir.ui.view"id="view_event_tree">
            <fieldname="name">event.event.tree</field>
            <fieldname="model">event.event</field>
            <fieldname="arch"type="xml">
                <treestring="Events"
                    decoration-danger="(seats_maxandseats_max&lt;seats_reserved)"
                    multi_edit="1"
                    sample="1">
                    <fieldname="name"/>
                    <fieldname="address_id"readonly="1"/>
                    <fieldname="organizer_id"readonly="1"optional="hide"/>
                    <fieldname="user_id"readonly="1"widget="many2one_avatar_user"/>
                    <fieldname="company_id"groups="base.group_multi_company"readonly="1"optional="show"/>
                    <fieldname="date_begin"readonly="1"widget="date"/>
                    <fieldname="date_end"readonly="1"widget="date"/>
                    <fieldname="stage_id"readonly="1"/>
                    <fieldname="seats_expected"string="ExpectedAttendees"sum="Total"readonly="1"/>
                    <fieldname="seats_used"sum="Total"readonly="1"/>
                    <fieldname="seats_max"string="MaximumSeats"sum="Total"readonly="1"optional="hide"/>
                    <fieldname="seats_reserved"sum="Total"readonly="1"optional="hide"/>
                    <fieldname="seats_unconfirmed"string="UnconfirmedSeats"sum="Total"readonly="1"optional="hide"/>
                    <fieldname="message_needaction"invisible="1"readonly="1"/>
                    <fieldname="activity_exception_decoration"widget="activity_exception"readonly="1"/>
                </tree>
            </field>
        </record>

        <recordid="event_event_view_form_quick_create"model="ir.ui.view">
            <fieldname="name">event.event.form.quick_create</field>
            <fieldname="model">event.event</field>
            <fieldname="priority">1000</field>
            <fieldname="arch"type="xml">
                <form>
                    <group>
                        <fieldname="name"/>
                        <fieldname="date_begin"/>
                        <fieldname="date_end"/>
                    </group>
                </form>
            </field>
        </record>

        <recordmodel="ir.ui.view"id="view_event_kanban">
            <fieldname="name">event.event.kanban</field>
            <fieldname="model">event.event</field>
            <fieldname="arch"type="xml">
                <kanbanclass="o_event_kanban_view"default_group_by="stage_id"quick_create_view="event.event_event_view_form_quick_create"sample="1">
                    <fieldname="user_id"/>
                    <fieldname="name"/>
                    <fieldname="stage_id"options='{"group_by_tooltip":{"description":"Description"}}'/>
                    <fieldname="address_id"/>
                    <fieldname="date_begin"/>
                    <fieldname="date_end"/>
                    <fieldname="auto_confirm"/>
                    <fieldname="seats_unconfirmed"/>
                    <fieldname="seats_reserved"/>
                    <fieldname="seats_used"/>
                    <fieldname="seats_expected"/>
                    <fieldname="legend_blocked"/>
                    <fieldname="legend_normal"/>
                    <fieldname="legend_done"/>
                    <fieldname="activity_ids"/>
                    <fieldname="activity_state"/>
                    <templates>
                        <tt-name="kanban-box">
                            <divt-attf-class="d-flexflex-columnp-0oe_kanban_cardoe_kanban_global_click">
                                <divclass="o_kanban_contentp-0m-0position-relativerowd-flexflex-fill">
                                    <divclass="col-3bg-primaryp-2text-centerd-flexflex-columnjustify-content-center">
                                        <divt-esc="record.date_begin.raw_value.getDate()"class="o_event_fontsize_20"/>
                                        <div>
                                            <tt-esc="moment(record.date_begin.raw_value).format('MMM')"/>
                                            <tt-esc="record.date_begin.raw_value.getFullYear()"/>
                                        </div>
                                        <div><tt-esc="moment(record.date_begin.raw_value).format('LT')"/></div>
                                        <divt-if="moment(record.date_begin.raw_value).dayOfYear()!==moment(record.date_end.raw_value).dayOfYear()">
                                            <iclass="fafa-arrow-righto_event_fontsize_09"title="Enddate"/>
                                            <tt-esc="moment(record.date_end.raw_value).format('DMMM')"/>
                                         </div>
                                    </div>
                                    <divclass="col-9py-2px-3d-flexflex-columnjustify-content-betweenpt-3">
                                        <div>
                                            <divclass="o_kanban_record_titleo_text_overflow"t-att-title="record.name.value">
                                                <fieldname="name"/>
                                            </div>
                                            <divt-if="record.address_id.value"><iclass="fafa-map-marker"title="Location"/><spanclass="o_text_overflowo_event_kanban_location"t-esc="record.address_id.value"/></div>
                                        </div>
                                        <h5class="o_event_fontsize_11p-0">
                                            <aname="%(act_event_registration_from_event)d"type="action"context="{'search_default_expected':True}">
                                                <tt-esc="record.seats_expected.raw_value"/>Expectedattendees
                                            </a>
                                            <tt-set="total_seats"t-value="record.seats_reserved.raw_value+record.seats_used.raw_value"/>
                                            <div class="pt-2pt-md-0"t-if="total_seats>0and!record.auto_confirm.raw_value"><br/>
                                                <aclass="pl-2"name="%(act_event_registration_from_event)d"type="action"context="{'search_default_confirmed':True}">
                                                    <iclass="fafa-level-upfa-rotate-90"title="Confirmed"/><spanclass="pl-2"><tt-esc="total_seats"/>Confirmed</span>
                                                </a>
                                            </div>
                                        </h5>
                                        <divclass="o_kanban_record_bottom">
                                            <divclass="oe_kanban_bottom_left">
                                                <fieldname="activity_ids"widget="kanban_activity"/>
                                            </div>
                                            <divclass="oe_kanban_bottom_right">
                                                <fieldname="kanban_state"widget="state_selection"/>
                                                <fieldname="user_id"widget="many2one_avatar_user"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>

        <recordmodel="ir.ui.view"id="view_event_calendar">
            <fieldname="name">event.event.calendar</field>
            <fieldname="model">event.event</field>
            <fieldeval="2"name="priority"/>
            <fieldname="arch"type="xml">
                <calendardate_start="date_begin"date_stop="date_end"string="EventOrganization"mode="month"color="event_type_id"event_limit="5">
                    <fieldname="user_id"avatar_field="image_128"/>
                    <fieldname="seats_expected"/>
                    <fieldname="seats_reserved"/>
                    <fieldname="seats_used"/>
                    <fieldname="seats_unconfirmed"/>
                    <fieldname="event_type_id"filters="1"invisible="1"/>
                </calendar>
            </field>
        </record>

        <recordmodel="ir.ui.view"id="view_event_search">
            <fieldname="name">event.event.search</field>
            <fieldname="model">event.event</field>
            <fieldname="arch"type="xml">
                <searchstring="Events">
                    <fieldname="name"string="Event"/>
                    <fieldname="event_type_id"/>
                    <fieldname="user_id"/>
                    <fieldname="stage_id"/>
                    <filterstring="MyEvents"name="myevents"help="MyEvents"domain="[('user_id','=',uid)]"/>
                    <filterstring="UnreadMessages"name="message_needaction"domain="[('message_needaction','=',True)]"/>
                    <separator/>
                    <separator/>
                    <filterstring="Upcoming/Running"name="upcoming"
                        domain="[('date_end','&gt;=',datetime.datetime.combine(context_today(),datetime.time(0,0,0)))]"help="Upcomingeventsfromtoday"/>
                    <separator/>
                    <filterstring="StartDate"name="start_date"date="date_begin"/>
                    <separator/>
                    <filterstring="Archived"name="inactive"domain="[('active','=',False)]"/>
                    <separator/>
                    <filterinvisible="1"string="LateActivities"name="activities_overdue"
                        domain="[('my_activity_date_deadline','&lt;',context_today().strftime('%Y-%m-%d'))]"
                        help="Showallrecordswhichhasnextactiondateisbeforetoday"/>
                    <filterinvisible="1"string="TodayActivities"name="activities_today"
                        domain="[('my_activity_date_deadline','=',context_today().strftime('%Y-%m-%d'))]"/>
                    <filterinvisible="1"string="FutureActivities"name="activities_upcoming_all"
                        domain="[('my_activity_date_deadline','&gt;',context_today().strftime('%Y-%m-%d'))]"/>
                    <groupexpand="0"string="GroupBy">
                        <filterstring="Responsible"name="responsible"context="{'group_by':'user_id'}"/>
                        <filterstring="Template"name="event_type_id"context="{'group_by':'event_type_id'}"/>
                        <filterstring="Stage"name="stage_id"context="{'group_by':'stage_id'}"/>
                        <filterstring="StartDate"name="date_begin"domain="[]"context="{'group_by':'date_begin'}"/>
                    </group>
                </search>
            </field>
        </record>

        <recordid="event_event_view_pivot"model="ir.ui.view">
            <fieldname="name">event.event.view.pivot</field>
            <fieldname="model">event.event</field>
            <fieldname="arch"type="xml">
                <pivotstring="Event"sample="1">
                    <fieldname="name"type="row"/>
                    <fieldname="seats_reserved"type="measure"/>
                </pivot>
            </field>
        </record>

        <recordid="event_event_view_graph"model="ir.ui.view">
            <fieldname="name">event.event.view.graph</field>
            <fieldname="model">event.event</field>
            <fieldname="arch"type="xml">
                <graphstring="Events"sample="1">
                    <fieldname="name"type="row"/>
                    <fieldname="seats_available"type="measure"/>
                </graph>
            </field>
        </record>

        <recordmodel="ir.actions.act_window"id="action_event_view">
           <fieldname="name">Events</field>
           <fieldname="type">ir.actions.act_window</field>
           <fieldname="res_model">event.event</field>
           <fieldname="view_mode">kanban,calendar,tree,form,pivot,graph</field>
           <fieldname="search_view_id"ref="view_event_search"/>
           <fieldname="help"type="html">
              <pclass="o_view_nocontent_smiling_face">
                Addanewevent
              </p><p>
                Scheduleandorganizeyoureventsefficiently:
                trackregistrationsandparticipations,automatetheconfirmationemails,selltickets,etc.
              </p>
            </field>
        </record>

        <recordid="event.menu_event_event"model="ir.ui.menu">
            <fieldname="action"ref="event.action_event_view"/>
        </record>
        <menuitemname="Events"
            id="event_event_menu_pivot_report"
            action="event_event_action_pivot"
            sequence="3"
            parent="event.menu_reporting_events"
            groups="event.group_event_manager"/>

        <!--EVENT.REGISTRATIONVIEWS-->
        <recordmodel="ir.ui.view"id="view_event_registration_tree">
            <fieldname="name">event.registration.tree</field>
            <fieldname="model">event.registration</field>
            <fieldname="arch"type="xml">
                <treestring="Registration"multi_edit="1"sample="1">
                    <fieldname="create_date"optional="show"string="RegistrationDate"/>
                    <fieldname="date_open"optional="hide"/>
                    <fieldname="name"/>
                    <fieldname="partner_id"optional="hide"/>
                    <fieldname="email"optional="show"/>
                    <fieldname="phone"optional="show"/>
                    <fieldname="mobile"optional="hide"/>
                    <fieldname="event_id"invisible="context.get('default_event_id')"/>
                    <fieldname="event_ticket_id"domain="[('event_id','=',event_id)]"/>
                    <fieldname="state"readonly="0"/>
                    <fieldname="company_id"groups="base.group_multi_company"optional="hide"/>
                    <fieldname="message_needaction"invisible="1"/>
                    <buttonname="action_confirm"string="Confirm"states="draft"type="object"icon="fa-check"/>
                    <buttonname="action_set_done"string="MarkasAttending"states="open"type="object"icon="fa-level-down"/>
                    <buttonname="action_cancel"string="Cancel"states="draft,open"type="object"icon="fa-times"/>
                    <fieldname="activity_exception_decoration"widget="activity_exception"/>
                </tree>
            </field>
        </record>

        <recordmodel="ir.ui.view"id="view_event_registration_form">
            <fieldname="name">event.registration.form</field>
            <fieldname="model">event.registration</field>
            <fieldname="arch"type="xml">
                <formstring="EventRegistration">
                    <header>
                        <buttonname="action_send_badge_email"string="SendbyEmail"type="object"states="open,done"class="oe_highlight"/>
                        <buttonname="action_confirm"string="Confirm"states="draft"type="object"class="oe_highlight"/>
                        <buttonname="action_set_done"string="Attended"states="open"type="object"class="oe_highlight"/>
                        <buttonname="action_set_draft"string="SetToUnconfirmed"states="cancel,done"type="object"/>
                        <buttonname="action_cancel"string="CancelRegistration"states="draft,open"type="object"/>
                        <fieldname="state"nolabel="1"colspan="2"widget="statusbar"statusbar_visible="draft,open,done"/>
                    </header>
                    <sheetstring="Registration">
                        <divclass="oe_button_box"name="button_box"/>
                        <group>
                            <groupstring="Attendee"name="attendee">
                                <fieldname="partner_id"attrs="{'readonly':[('state','!=','draft')]}"/>
                                <fieldname="name"/>
                                <fieldname="email"/>
                                <fieldname="phone"class="o_force_ltr"/>
                                <fieldname="mobile"class="o_force_ltr"/>
                            </group>
                            <groupstring="EventInformation"name="event">
                                <fieldname="event_id"attrs="{'readonly':[('state','!=','draft')]}"options="{'no_create':True}"/>
                                <fieldname="event_ticket_id"
                                    domain="[
                                        ('event_id','=',event_id),
                                        '|',('seats_limited','=',False),('seats_available','>',0)
                                    ]"
                                    attrs="{'invisible':[('event_id','=',False)]}"
                                    options="{'no_open':True,'no_create':True}"/>
                                <fieldname="date_open"groups="base.group_no_one"/>
                                <fieldname="date_closed"groups="base.group_no_one"/>
                            </group>
                            <groupstring="Marketing"name="utm_link"groups="base.group_no_one">
                                <fieldname="utm_campaign_id"/>
                                <fieldname="utm_medium_id"/>
                                <fieldname="utm_source_id"/>
                            </group>
                        </group>
                    </sheet>
                    <divclass="oe_chatter">
                        <fieldname="message_follower_ids"/>
                        <fieldname="activity_ids"/>
                        <fieldname="message_ids"options="{'post_refresh':'recipients'}"/>
                    </div>
                </form>
            </field>
        </record>

        <recordid="event_registration_view_kanban"model="ir.ui.view">
            <fieldname="name">event.registration.kanban</field>
            <fieldname="model">event.registration</field>
            <fieldname="priority">10</field>
            <fieldname="arch"type="xml">
                <kanbanclass="o_event_attendee_kanban_view"default_order="name,create_datedesc"sample="1">
                    <fieldname="name"/>
                    <fieldname="partner_id"/>
                    <fieldname="state"/>
                    <fieldname="email"/>
                    <fieldname="event_ticket_id"/>
                    <templates>
                        <tt-name="event_attendees_kanban_icons_desktop">
                            <divclass="d-noned-md-blockh-100">
                                <divid="event_attendees_kanban_icons_desktop"class="h-100float-rightp-2d-flexalign-items-endflex-column">
                                    <aclass="btnbtn-mdbtn-primary"string="ConfirmRegistration"name="action_confirm"type="object"states="draft"role="button">
                                        <iclass="fafa-check"role="img"aria-label="Confirmbutton"title="ConfirmRegistration"/>
                                    </a>
                                    <aclass="btnbtn-mdbtn-primary"string="ConfirmAttendance"name="action_set_done"type="object"states="open"role="button">
                                        <iclass="fafa-user-plus"role="img"aria-label="Attendedbutton"title="ConfirmAttendance"/>
                                    </a>
                                    <spanclass="text-muted"states="done">Attended</span>
                                    <spanclass="text-muted"states="cancel">Canceled</span>
                                </div>
                            </div>
                        </t>
                        <tt-name="event_attendees_kanban_icons_mobile">
                            <divid="event_attendees_kanban_icons_mobile"class="d-md-noneh-100pl-4">
                                <aclass="btnbtn-primaryd-flexjustify-content-centeralign-items-centerh-100w-100"
                                    string="ConfirmRegistration"name="action_confirm"type="object"states="draft"role="button">
                                    <iclass="fafa-checkfa-3x"role="img"aria-label="Confirmbutton"title="ConfirmRegistration"/>
                                </a>
                                <aclass="btnbtn-primaryd-flexjustify-content-centeralign-items-centerh-100w-100"
                                    string="ConfirmAttendance"name="action_set_done"type="object"states="open"role="button">
                                    <iclass="fafa-user-plusfa-3x"role="img"aria-label="Attendedbutton"title="ConfirmAttendance"/>
                                </a>
                                <divclass="d-flexjustify-content-centeralign-items-centerh-100w-100">
                                    <spanclass="text-muted"states="done">Attended</span>
                                    <spanclass="text-muted"states="cancel">Canceled</span>
                                </div>
                            </div>
                        </t>
                        <tt-name="kanban-box">
                            <divclass="oe_kanban_global_clicko_event_registration_kanbancontainer-fluidp-0">
                                <divclass="rowh-100">
                                    <divclass="col-9pr-0">
                                        <divclass="oe_kanban_contenth-100">
                                            <divclass="o_kanban_record_bodypt-1pl-2h-100d-flexflex-column">
                                                <bclass="o_kanban_record_title"><fieldname="name"/></b>
                                                <fieldname="event_id"invisible="context.get('default_event_id')"/>
                                                <spanattrs="{'invisible':[('partner_id','=',False)]}">Bookedby<fieldname="partner_id"/></span>
                                                <divid="event_ticket_id"class="o_field_many2manytagso_field_widgetd-flexmt-auto">
                                                    <tt-if="record.event_ticket_id.raw_value">
                                                        <divt-attf-class="badgebadge-pillo_tag_color_#{(record.event_ticket_id.raw_value%11)+1}">
                                                            <b><spanclass="o_badge_text"><tt-esc="record.event_ticket_id.value"/></span></b>
                                                        </div>
                                                    </t>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <divid="event_attendees_kanban_icons"class="col-3pl-0">
                                        <tt-call="event_attendees_kanban_icons_desktop"/>
                                        <tt-call="event_attendees_kanban_icons_mobile"/>
                                    </div>
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>

        <recordid="view_event_registration_calendar"model="ir.ui.view">
            <fieldname="name">event.registration.calendar</field>
            <fieldname="model">event.registration</field>
            <fieldeval="2"name="priority"/>
            <fieldname="arch"type="xml">
                <calendardate_start="event_begin_date"date_stop="event_end_date"string="EventRegistration"color="event_id"event_limit="5">
                    <fieldname="event_id"filters="1"/>
                    <fieldname="name"/>
                </calendar>
            </field>
        </record>

        <recordmodel="ir.ui.view"id="view_event_registration_pivot">
            <fieldname="name">event.registration.pivot</field>
            <fieldname="model">event.registration</field>
            <fieldname="arch"type="xml">
                <pivotstring="Registration"display_quantity="True"sample="1">
                    <fieldname="event_id"type="row"/>
                </pivot>
            </field>
        </record>

        <recordmodel="ir.ui.view"id="view_event_registration_graph">
            <fieldname="name">event.registration.graph</field>
            <fieldname="model">event.registration</field>
            <fieldname="arch"type="xml">
                <graphstring="Registration"sample="1">
                    <fieldname="event_id"/>
                </graph>
            </field>
        </record>

        <recordmodel="ir.ui.view"id="view_registration_search">
            <fieldname="name">event.registration.search</field>
            <fieldname="model">event.registration</field>
            <fieldname="arch"type="xml">
                <searchstring="EventRegistration">
                    <fieldname="id"string="RegistrationID"/>
                    <fieldname="name"string="Participant"filter_domain="['|',('name','ilike',self),('email','ilike',self)]"/>
                    <filterstring="OngoingEvents"name="filter_is_ongoing"domain="[('event_id.is_ongoing','=',True)]"/>
                    <separator/>
                    <filterstring="UnreadMessages"name="message_needaction"domain="[('message_needaction','=',True)]"/>
                    <filterstring="Expected"name="expected"domain="[('state','in',['draft','open','done'])]"/>
                    <separator/>
                    <filterstring="Unconfirmed"name="unconfirmed"domain="[('state','=','draft')]"/>
                    <filterstring="Confirmed"name="confirmed"domain="[('state','=','open')]"/>
                    <filterstring="Attended"name="attended"domain="[('state','=','done')]"/>
                    <separator/>
                    <filterstring="RegistrationDate"name="filter_date_open"date="date_open"/>
                    <filterstring="EventStartDate"name="filter_event_begin_date"date="event_begin_date"/>
                    <filterstring="AttendedDate"name="filter_date_closed"date="date_closed"/>
                    <fieldname="event_id"/>
                    <fieldname="partner_id"/>
                    <fieldname="company_id"/>
                    <filterinvisible="1"string="LateActivities"name="activities_overdue"
                        domain="[('my_activity_date_deadline','&lt;',context_today().strftime('%Y-%m-%d'))]"
                        help="Showallrecordswhichhasnextactiondateisbeforetoday"/>
                    <filterinvisible="1"string="TodayActivities"name="activities_today"
                        domain="[('my_activity_date_deadline','=',context_today().strftime('%Y-%m-%d'))]"/>
                    <filterinvisible="1"string="FutureActivities"name="activities_upcoming_all"
                        domain="[('my_activity_date_deadline','&gt;',context_today().strftime('%Y-%m-%d'))]"/>
                    <groupexpand="0"string="GroupBy">
                        <filterstring="Partner"name="partner"domain="[]"context="{'group_by':'partner_id'}"/>
                        <filterstring="Event"name="group_event"domain="[]"context="{'group_by':'event_id'}"/>
                        <filterstring="TicketType"name="group_event_ticket_id"domain="[]"context="{'group_by':'event_ticket_id'}"/>
                        <filterstring="Status"name="status"domain="[]"context="{'group_by':'state'}"/>
                        <filterstring="RegistrationDate"name="createmonth"domain="[]"context="{'group_by':'create_date:month'}"/>
                   </group>
                </search>
            </field>
        </record>

        <recordid="action_registration"model="ir.actions.act_window">
            <fieldname="name">Attendees</field>
            <fieldname="res_model">event.registration</field>
            <fieldname="domain"></field>
            <fieldname="view_mode">pivot,graph,kanban,tree,form</field>
            <fieldname="context">{}</field>
            <fieldname="search_view_id"ref="view_registration_search"/>
        </record>

        <menuitemname="Attendees"
            id="menu_action_registration"
            parent="event.menu_reporting_events"
            sequence="4"
            action="action_registration"
            groups="event.group_event_manager"/>

        <!--EVENT.MAILVIEWS-->
        <recordmodel="ir.ui.view"id="view_event_mail_form">
            <fieldname="name">event.mail.form</field>
            <fieldname="model">event.mail</field>
            <fieldname="arch"type="xml">
                <formstring="EventMailScheduler">
                    <sheet>
                        <group>
                            <group>
                                <fieldname="event_id"/>
                                <fieldname="notification_type"invisible="1"/>
                                <fieldname="template_id"attrs="{'required':[('notification_type','=','mail')]}"/>
                                <fieldname="mail_sent"/>
                            </group>
                            <group>
                                <labelfor="interval_nbr"/>
                                <divclass="o_row">
                                    <fieldname="interval_nbr"attrs="{'invisible':[('interval_unit','=','now')],'readonly':[('interval_unit','=','now')]}"/>
                                    <fieldname="interval_unit"/>
                                </div>
                                <fieldname="interval_type"/>
                                <fieldname="scheduled_date"/>
                            </group>
                        </group>
                        <notebookgroups="base.group_no_one">
                            <pagestring="RegistrationMails"name="registration_mails">
                                <fieldname="mail_registration_ids">
                                    <treestring="Registrationmail"editable="bottom">
                                        <fieldname="registration_id"/>
                                        <fieldname="scheduled_date"/>
                                        <fieldname="mail_sent"string="Sent"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>

        <recordmodel="ir.ui.view"id="view_event_mail_tree">
            <fieldname="name">event.mail.tree</field>
            <fieldname="model">event.mail</field>
            <fieldname="arch"type="xml">
                <treestring="EventMailSchedulers">
                    <fieldname="event_id"/>
                    <fieldname="notification_type"invisible="1"/>
                    <fieldname="template_id"attrs="{'required':[('notification_type','=','mail')]}"/>
                    <fieldname="scheduled_date"/>
                    <fieldname="mail_sent"string="Sent"/>
                    <fieldname="done"/>
                </tree>
            </field>
        </record>

        <recordmodel="ir.actions.act_window"id="action_event_mail">
            <fieldname="name">EventsMailSchedulers</field>
            <fieldname="res_model">event.mail</field>
        </record>

        <recordid="menu_event_mail_schedulers"model="ir.ui.menu">
            <fieldname="action"ref="event.action_event_mail"/>
        </record>
    </data>
</flectra>
