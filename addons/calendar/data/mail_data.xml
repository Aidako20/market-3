<?xmlversion="1.0"?>
<flectra>
    <datanoupdate="1">
        <recordid="calendar_template_meeting_invitation"model="mail.template">
            <fieldname="name">Calendar:MeetingInvitation</field>
            <fieldname="model_id"ref="calendar.model_calendar_attendee"/>
            <fieldname="subject">Invitationto${object.event_id.name}</field>
            <fieldname="email_from">${(object.event_id.user_id.email_formattedoruser.email_formattedor'')|safe}</field>
            <fieldname="email_to">${(''ifobject.partner_id.emailandobject.partner_id.email==object.emailelseobject.email)|safe}</field>
            <fieldname="partner_to">${object.partner_id.idifobject.partner_id.emailandobject.partner_id.email==object.emailelseFalse}</field>
            <fieldname="lang">${object.partner_id.lang}</field>
            <fieldname="body_html"type="html">
<div>
    %setcolors=ctx.get('colors',{})
    %setrecurrent=object.recurrence_idandnotctx['ignore_recurrence']
    <p>
        Hello${object.common_name},<br/><br/>
        ${object.event_id.user_id.partner_id.name}invitedyoutothe${object.event_id.name}meetingof${object.event_id.user_id.company_id.name}.
    </p>
    <divstyle="text-align:center;margin:16px0px16px0px;">
        %settarget='recurrence'ifrecurrentelse'meeting'
        <ahref="/calendar/${target}/accept?token=${object.access_token}&amp;id=${object.event_id.id}"
            style="padding:5px10px;color:#FFFFFF;text-decoration:none;background-color:#009EFB;border:1pxsolid#009EFB;border-radius:3px">
            Accept</a>
        <ahref="/calendar/${target}/decline?token=${object.access_token}&amp;id=${object.event_id.id}"
            style="padding:5px10px;color:#FFFFFF;text-decoration:none;background-color:#009EFB;border:1pxsolid#009EFB;border-radius:3px">
            Decline</a>
        <ahref="/calendar/meeting/view?token=${object.access_token}&amp;id=${object.event_id.id}"
            style="padding:5px10px;color:#FFFFFF;text-decoration:none;background-color:#009EFB;border:1pxsolid#009EFB;border-radius:3px">
            View</a>
    </div>
    <tableborder="0"cellpadding="0"cellspacing="0"><tr>
        %ifnotrecurrent:
        <tdwidth="130px;">
            <divstyle="border-top-left-radius:3px;border-top-right-radius:3px;font-size:12px;border-collapse:separate;text-align:center;font-weight:bold;color:#ffffff;min-height:18px;background-color:#009EFB;border:1pxsolid#009EFB;">
                ${object.event_id.get_interval('dayname',tz=object.partner_id.tzifnotobject.event_id.alldayelseNone)}
            </div>
            <divstyle="font-size:48px;min-height:auto;font-weight:bold;text-align:center;color:#5F5F5F;background-color:#F8F8F8;border:1pxsolid#009EFB;">
                ${object.event_id.get_interval('day',tz=object.partner_id.tzifnotobject.event_id.alldayelseNone)}
            </div>
            <divstyle='font-size:12px;text-align:center;font-weight:bold;color:#ffffff;background-color:#009EFB;'>
                ${object.event_id.get_interval('month',tz=object.partner_id.tzifnotobject.event_id.alldayelseNone)}
            </div>
            <divstyle="border-collapse:separate;color:#5F5F5F;text-align:center;font-size:12px;border-bottom-right-radius:3px;font-weight:bold;border:1pxsolid#009EFB;border-bottom-left-radius:3px;">
                ${notobject.event_id.alldayandobject.event_id.get_interval('time',tz=object.partner_id.tz)or''}
            </div>
        </td>
        <tdwidth="20px;"/>
        %endif
        <tdstyle="padding-top:5px;">
            <p><strong>Detailsoftheevent</strong></p>
            <ul>
                %ifobject.event_id.location:
                    <li>Location:${object.event_id.location}
                        (<atarget="_blank"href="http://maps.google.com/maps?oi=map&amp;q=${object.event_id.location}">ViewMap</a>)
                    </li>
                %endif
                %ifobject.event_id.description:
                    <li>Description:${object.event_id.description}</li>
                %endif
                %ifrecurrent:
                    <li>When:${object.recurrence_id.name}</li>
                %endif
                %ifnotobject.event_id.alldayandobject.event_id.duration
                    <li>Duration:${('%dH%02d'%(object.event_id.duration,round(object.event_id.duration*60)%60))}</li>
                %endif
                <li>Attendees
                <ul>
                %forattendeeinobject.event_id.attendee_ids:
                    <li>
                        <divstyle="display:inline-block;border-radius:50%;width:10px;height:10px;background:${colors[attendee.state]or'white'};"></div>
                        %ifattendee.common_name!=object.common_name:
                            <spanstyle="margin-left:5px">${attendee.common_name}</span>
                        %else:
                            <spanstyle="margin-left:5px">You</span>
                        %endif
                    </li>
                %endfor
                </ul></li>
            </ul>
        </td>
    </tr></table>
    <br/>
    Thankyou,
    %ifobject.event_id.user_id.signature:
        <br/>
        ${object.event_id.user_id.signature|safe}
    %endif
</div>
            </field>
            <fieldname="lang">${object.partner_id.lang}</field>
            <fieldname="auto_delete"eval="True"/>
        </record>

        <recordid="calendar_template_meeting_changedate"model="mail.template">
            <fieldname="name">Calendar:Dateupdated</field>
            <fieldname="model_id"ref="calendar.model_calendar_attendee"/>
            <fieldname="subject">${object.event_id.name}:Dateupdated</field>
            <fieldname="email_from">${(object.event_id.user_id.email_formattedoruser.email_formattedor'')|safe}</field>
            <fieldname="email_to">${(''ifobject.partner_id.emailandobject.partner_id.email==object.emailelseobject.email)|safe}</field>
            <fieldname="partner_to">${object.partner_id.idifobject.partner_id.emailandobject.partner_id.email==object.emailelseFalse}</field>
            <fieldname="lang">${object.partner_id.lang}</field>
            <fieldname="body_html"type="html">
<div>
    %setcolors=ctx.get('colors',{})
    %setrecurrent=object.recurrence_idandnotctx['ignore_recurrence']
    <p>
        Hello${object.common_name},<br/><br/>
        Thedateofthemeetinghasbeenupdated.Themeeting${object.event_id.name}createdby${object.event_id.user_id.partner_id.name}isnowscheduledfor${object.event_id.get_display_time_tz(tz=object.partner_id.tz)}.
    </p>
    <divstyle="text-align:center;margin:16px0px16px0px;">
        %settarget='recurrence'ifrecurrentelse'meeting'
        <ahref="/calendar/${target}/accept?token=${object.access_token}&amp;id=${object.event_id.id}"
            style="padding:5px10px;color:#FFFFFF;text-decoration:none;background-color:#009EFB;border:1pxsolid#009EFB;border-radius:3px">
            Accept</a>
        <ahref="/calendar/${target}/decline?token=${object.access_token}&amp;id=${object.event_id.id}"
            style="padding:5px10px;color:#FFFFFF;text-decoration:none;background-color:#009EFB;border:1pxsolid#009EFB;border-radius:3px">
            Decline</a>
        <ahref="/calendar/meeting/view?token=${object.access_token}&amp;id=${object.event_id.id}"
            style="padding:5px10px;color:#FFFFFF;text-decoration:none;background-color:#009EFB;border:1pxsolid#009EFB;border-radius:3px">
            View</a>
    </div>
    <tableborder="0"cellpadding="0"cellspacing="0"><tr>
        %ifnotrecurrent:
        <tdwidth="130px;">
            <divstyle="border-top-left-radius:3px;border-top-right-radius:3px;font-size:12px;border-collapse:separate;text-align:center;font-weight:bold;color:#ffffff;min-height:18px;background-color:#009EFB;border:1pxsolid#009EFB;">
                ${object.event_id.get_interval('dayname',tz=object.partner_id.tzifnotobject.event_id.alldayelseNone)}
            </div>
            <divstyle="font-size:48px;min-height:auto;font-weight:bold;text-align:center;color:#5F5F5F;background-color:#F8F8F8;border:1pxsolid#009EFB;">
                ${object.event_id.get_interval('day',tz=object.partner_id.tzifnotobject.event_id.alldayelseNone)}
            </div>
            <divstyle='font-size:12px;text-align:center;font-weight:bold;color:#ffffff;background-color:#009EFB;'>
                ${object.event_id.get_interval('month',tz=object.partner_id.tzifnotobject.event_id.alldayelseNone)}
            </div>
            <divstyle="border-collapse:separate;color:#5F5F5F;text-align:center;font-size:12px;border-bottom-right-radius:3px;font-weight:bold;border:1pxsolid#009EFB;border-bottom-left-radius:3px;">
                ${notobject.event_id.alldayandobject.event_id.get_interval('time',tz=object.partner_id.tz)or''}
            </div>
        </td>
        <tdwidth="20px;"/>
        %endif
        <tdstyle="padding-top:5px;">
            <p><strong>Detailsoftheevent</strong></p>
            <ul>
                %ifobject.event_id.location:
                    <li>Location:${object.event_id.location}
                        (<atarget="_blank"href="http://maps.google.com/maps?oi=map&amp;q=${object.event_id.location}">ViewMap</a>)
                    </li>
                %endif
                %ifobject.event_id.description:
                    <li>Description:${object.event_id.description}</li>
                %endif
                %ifrecurrent:
                    <li>When:${object.recurrence_id.name}</li>
                %endif
                %ifnotobject.event_id.alldayandobject.event_id.duration
                    <li>Duration:${('%dH%02d'%(object.event_id.duration,round(object.event_id.duration*60)%60))}</li>
                %endif
                <li>Attendees
                <ul>
                %forattendeeinobject.event_id.attendee_ids:
                    <li>
                        <divstyle="display:inline-block;border-radius:50%;width:10px;height:10px;background:${colors[attendee.state]or'white'};"></div>
                        %ifattendee.common_name!=object.common_name:
                            <spanstyle="margin-left:5px">${attendee.common_name}</span>
                        %else:
                            <spanstyle="margin-left:5px">You</span>
                        %endif
                    </li>
                %endfor
                </ul></li>
            </ul>
        </td>
    </tr></table>
    <br/>
    Thankyou,
    %ifobject.event_id.user_id.signature:
        <br/>
        ${object.event_id.user_id.signature|safe}
    %endif
</div>
            </field>
            <fieldname="lang">${object.partner_id.lang}</field>
            <fieldname="auto_delete"eval="True"/>
        </record>

        <recordid="calendar_template_meeting_reminder"model="mail.template">
            <fieldname="name">Calendar:Reminder</field>
            <fieldname="model_id"ref="calendar.model_calendar_attendee"/>
            <fieldname="subject">${object.event_id.name}-Reminder</field>
            <fieldname="email_from">${(object.event_id.user_id.email_formattedoruser.email_formattedor'')|safe}</field>
            <fieldname="email_to">${(''ifobject.partner_id.emailandobject.partner_id.email==object.emailelseobject.email)|safe}</field>
            <fieldname="partner_to">${object.partner_id.idifobject.partner_id.emailandobject.partner_id.email==object.emailelseFalse}</field>
            <fieldname="lang">${object.partner_id.lang}</field>
            <fieldname="body_html"type="html">
<div>
    %setcolors={'needsAction':'grey','accepted':'green','tentative':'#FFFF00', 'declined':'red'}
    <!--
        Inarecurringeventcase,theobject.event_idisalwaysthefirstevent
        Thismakestheeventdate(andalotofotherinformation)incorrect
    -->
    %setevent_id=ctx.get('force_event_id')orobject.event_id
    <p>
        Hello${object.common_name},<br/><br/>
        Thisisareminderforthebelowevent:
    </p>
    <divstyle="text-align:center;margin:16px0px16px0px;">
        <ahref="/calendar/meeting/accept?token=${object.access_token}&amp;id=${object.event_id.id}"
            style="padding:5px10px;color:#FFFFFF;text-decoration:none;background-color:#009EFB;border:1pxsolid#009EFB;border-radius:3px">
            Accept</a>
        <ahref="/calendar/meeting/decline?token=${object.access_token}&amp;id=${object.event_id.id}"
            style="padding:5px10px;color:#FFFFFF;text-decoration:none;background-color:#009EFB;border:1pxsolid#009EFB;border-radius:3px">
            Decline</a>
        <ahref="/calendar/meeting/view?token=${object.access_token}&amp;id=${object.event_id.id}"
            style="padding:5px10px;color:#FFFFFF;text-decoration:none;background-color:#009EFB;border:1pxsolid#009EFB;border-radius:3px">
            View</a>
    </div>
    <tableborder="0"cellpadding="0"cellspacing="0"><tr>
        <tdwidth="130px;">
            <divstyle="border-top-left-radius:3px;border-top-right-radius:3px;font-size:12px;border-collapse:separate;text-align:center;font-weight:bold;color:#ffffff;min-height:18px;background-color:#009EFB;border:1pxsolid#009EFB;">
                ${event_id.get_interval('dayname',tz=object.partner_id.tzifnotevent_id.alldayelseNone)}
            </div>
            <divstyle="font-size:48px;min-height:auto;font-weight:bold;text-align:center;color:#5F5F5F;background-color:#F8F8F8;border:1pxsolid#009EFB;">
                ${event_id.get_interval('day',tz=object.partner_id.tzifnotevent_id.alldayelseNone)}
            </div>
            <divstyle='font-size:12px;text-align:center;font-weight:bold;color:#ffffff;background-color:#009EFB;'>
                ${event_id.get_interval('month',tz=object.partner_id.tzifnotevent_id.alldayelseNone)}
            </div>
            <divstyle="border-collapse:separate;color:#5F5F5F;text-align:center;font-size:12px;border-bottom-right-radius:3px;font-weight:bold;border:1pxsolid#009EFB;border-bottom-left-radius:3px;">
                ${notevent_id.alldayandevent_id.get_interval('time',tz=object.partner_id.tz)or''}
            </div>
        </td>
        <tdwidth="20px;"/>
        <tdstyle="padding-top:5px;">
            <p><strong>Detailsoftheevent</strong></p>
            <ul>
                %ifobject.event_id.location:
                    <li>Location:${object.event_id.location}
                        (<atarget="_blank"href="http://maps.google.com/maps?oi=map&amp;q=${object.event_id.location}">ViewMap</a>)
                    </li>
                %endif
                %ifobject.event_id.description:
                    <li>Description:${object.event_id.description}</li>
                %endif
                %ifnotobject.event_id.alldayandobject.event_id.duration
                    <li>Duration:${('%dH%02d'%(object.event_id.duration,(object.event_id.duration*60)%60))}</li>
                %endif
                <li>Attendees
                <ul>
                %forattendeeinobject.event_id.attendee_ids:
                    <li>
                        <divstyle="display:inline-block;border-radius:50%;width:10px;height:10px;background:${colors[attendee.state]or'white'};"></div>
                        %ifattendee.common_name!=object.common_name:
                            <spanstyle="margin-left:5px">${attendee.common_name}</span>
                        %else:
                            <spanstyle="margin-left:5px">You</span>
                        %endif
                    </li>
                %endfor
                </ul></li>
            </ul>
        </td>
    </tr></table>
    <br/>
    Thankyou,
    %ifobject.event_id.user_id.signature:
        <br/>
        ${object.event_id.user_id.signature|safe}
    %endif
</div>
            </field>
            <fieldname="lang">${object.partner_id.lang}</field>
            <fieldname="auto_delete"eval="True"/>
        </record>
    </data>
</flectra>
