<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
<data>
    <!--USERINPUTS-->
    <recordid="survey_user_input_view_search"model="ir.ui.view">
        <fieldname="name">survey.user_input.view.search</field>
        <fieldname="model">survey.user_input</field>
        <fieldname="arch"type="xml">
            <searchstring="SearchSurvey">
                <fieldname="survey_id"/>
                <fieldname="email"/>
                <fieldname="partner_id"/>
                <filtername="completed"string="Completed"domain="[('state','=','done')]"/>
                <filterstring="InProgress"name="in_progress"domain="[('state','=','in_progress')]"/>
                <filterstring="New"name="new"domain="[('state','=','new')]"/>
                <separator/>
                <filterstring="Quizzpassed"name="scoring_success"domain="[('scoring_success','=',True)]"/>
                <separator/>
                <filterstring="TestEntries"name="test"domain="[('test_entry','=',True)]"/>
                <filterstring="ExceptTestEntries"name="not_test"domain="[('test_entry','=',False)]"invisible="1"/>
                <groupexpand="0"string="GroupBy">
                    <filtername="group_by_survey"string="Survey"domain="[]"context="{'group_by':'survey_id'}"/>
                    <filterstring="Email"name="group_by_email"domain="[]"context="{'group_by':'email'}"/>
                    <filterstring="Partner"name="group_by_partner"domain="[]"context="{'group_by':'partner_id'}"/>
                </group>
            </search>
        </field>
    </record>

    <recordid="survey_user_input_view_form"model="ir.ui.view">
        <fieldname="name">survey.user_input.view.form</field>
        <fieldname="model">survey.user_input</field>
        <fieldname="arch"type="xml">
            <formstring="SurveyUserinputs"create="false">
                <header>
                    <buttonname="action_resend"string="ResendInvitation"type="object"class="oe_highlight"
                        attrs="{'invisible':['|',('state','=','done'),'&amp;',('partner_id','=',False),('email','=',False)]}"/>
                    <buttonname="action_print_answers"states="done"string="Print"type="object" class="oe_highlight"/>
                    <fieldname="state"widget="statusbar"/>
                </header>
                <sheet>
                    <divclass="oe_button_box"name="button_box"/>
                    <groupcol="2">
                        <group>
                            <fieldname="survey_id"/>
                            <fieldname="create_date"/>
                            <fieldname="is_attempts_limited"invisible="1"/>
                            <labelfor="attempts_number"string="AttemptnÂ°"attrs="{'invisible':['|',('is_attempts_limited','=',False),'|',('test_entry','=',True),('state','!=','done')]}"/>
                            <divattrs="{'invisible':['|',('is_attempts_limited','=',False),'|',('test_entry','=',True),('state','!=','done')]}">
                                <fieldname="attempts_number"nolabel="1"/>
                                 /
                                <fieldname="attempts_limit"nolabel="1"/>
                            </div>
                            <fieldname="access_token"groups="base.group_no_one"/>
                        </group>
                        <group>
                            <fieldname="deadline"/>
                            <fieldname="partner_id"/>
                            <fieldname="email"widget="email"/>
                            <fieldname="test_entry"groups="base.group_no_one"/>
                            <fieldname="scoring_type"invisible="1"/>
                            <fieldname="scoring_percentage"attrs="{'invisible':[('scoring_type','=','no_scoring')]}"/>
                            <fieldname="scoring_success"attrs="{'invisible':[('scoring_type','=','no_scoring')]}"/>
                        </group>
                    </group>
                    <fieldname="user_input_line_ids"mode="tree"attrs="{'readonly':False}">
                        <tree>
                            <fieldname="question_sequence"invisible="1"/>
                            <fieldname="question_id"/>
                            <fieldname="page_id"/>
                            <fieldname="answer_type"/>
                            <fieldname="skipped"/>
                            <fieldname="create_date"/>
                            <fieldname="answer_is_correct"/>
                            <fieldname="answer_score"/>
                        </tree>
                    </field>
                </sheet>
            </form>
        </field>
    </record>

    <recordid="survey_user_input_view_tree"model="ir.ui.view">
        <fieldname="name">survey.user_input.view.tree</field>
        <fieldname="model">survey.user_input</field>
        <fieldname="arch"type="xml">
            <treestring="SurveyUserinputs"decoration-muted="test_entry==True"create="false">
                <fieldname="survey_id"/>
                <fieldname="create_date"/>
                <fieldname="deadline"/>
                <fieldname="partner_id"/>
                <fieldname="email"/>
                <fieldname="attempts_number"/>
                <fieldname="state"/>
                <fieldname="test_entry"invisible="True"/>
                <fieldname="scoring_success"/>
                <fieldname="scoring_percentage"/>
            </tree>
        </field>
    </record>

    <recordid="survey_user_input_viuew_kanban"model="ir.ui.view">
        <fieldname="name">survey.user_input.view.kanban</field>
        <fieldname="model">survey.user_input</field>
        <fieldname="arch"type="xml">
            <kanbancreate="false">
                <fieldname="survey_id"/>
                <fieldname="create_date"/>
                <fieldname="partner_id"/>
                <fieldname="email"/>
                <fieldname="state"/>
                <templates>
                    <tt-name="kanban-box">
                        <divt-attf-class="oe_kanban_global_click">
                            <divclass="o_kanban_record_top">
                                <divclass="o_kanban_record_headings">
                                    <strongclass="o_kanban_record_title"><tt-esc="record.survey_id.value"/></strong>
                                </div>
                            </div>
                            <divclass="o_kanban_record_bottom">
                                <divclass="oe_kanban_bottom_left">
                                    <fieldname="create_date"/>
                                </div>
                                <divclass="oe_kanban_bottom_rightmr4">
                                    <fieldname="state"widget="label_selection"options="{'classes':{'new':'default','done':'success','in_progress':'warning'}}"/>
                                </div>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <recordmodel="ir.actions.act_window"id="action_survey_user_input">
        <fieldname="name">Participations</field>
        <fieldname="res_model">survey.user_input</field>
        <fieldname="view_mode">tree,kanban,form</field>
        <fieldname="view_id"ref="survey_user_input_view_tree"></field>
        <fieldname="search_view_id"ref="survey_user_input_view_search"/>
        <fieldname="context">{'search_default_group_by_survey':True}</field>
        <fieldname="help"type="html">
          <pclass="o_view_nocontent_empty_folder">
            Nobodyhasrepliedtoyoursurveysyet
          </p>
        </field>
    </record>

    <!--USERINPUTLINES
        ..note::theseviewsareusefulmainlyfortechnicalusers/administrators-->
    <recordid="survey_user_input_line_view_form"model="ir.ui.view">
        <fieldname="name">survey.user_input.line.view.form</field>
        <fieldname="model">survey.user_input.line</field>
        <fieldname="arch"type="xml">
            <formstring="Userinputlinedetails"create="false">
                <sheet>
                    <groupcol="4">
                        <fieldname="question_id"/>
                        <fieldname="create_date"/>
                        <fieldname="answer_type"/>
                        <fieldname="skipped"/>
                        <fieldname="answer_score"groups="base.group_no_one"/>
                    </group>
                    <group>
                        <fieldname="value_char_box"colspan='2'attrs="{'invisible':[('answer_type','!=','char_box')]}"/>
                        <fieldname="value_numerical_box"colspan='2'attrs="{'invisible':[('answer_type','!=','numerical_box')]}"/>
                        <fieldname="value_date"colspan='2'attrs="{'invisible':[('answer_type','!=','date')]}"/>
                        <fieldname="value_datetime"colspan='2'attrs="{'invisible':[('answer_type','!=','datetime')]}"/>
                        <fieldname="value_text_box"colspan='2'attrs="{'invisible':[('answer_type','!=','text_box')]}"/>
                        <fieldname="matrix_row_id"colspan='2'/>
                        <fieldname="suggested_answer_id"colspan='2'attrs="{'invisible':[('answer_type','!=','suggestion')]}"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>
    <recordid="survey_response_line_view_tree"model="ir.ui.view">
        <fieldname="name">survey.user_input.line.view.tree</field>
        <fieldname="model">survey.user_input.line</field>
        <fieldname="arch"type="xml">
            <treestring="SurveyAnswerLine"create="false">
                <fieldname="survey_id"/>
                <fieldname="user_input_id"/>
                <fieldname="question_id"/>
                <fieldname="create_date"/>
                <fieldname="answer_type"/>
                <fieldname="skipped"/>
                <fieldname="answer_score"groups="base.group_no_one"/>
            </tree>
        </field>
    </record>
    <recordid="survey_user_input_line_view_search"model="ir.ui.view">
        <fieldname="name">survey.user_input.line.view.search</field>
        <fieldname="model">survey.user_input.line</field>
        <fieldname="arch"type="xml">
            <searchstring="SearchUserinputlines">
                <fieldname="user_input_id"/>
                <fieldname="survey_id"/>
                <groupexpand="1"string="GroupBy">
                    <filtername="group_by_survey"string="Survey"domain="[]" context="{'group_by':'survey_id'}"/>
                    <filtername="group_by_user_input"string="UserInput"domain="[]" context="{'group_by':'user_input_id'}"/>
                </group>
            </search>
        </field>
    </record>

    <recordid="survey_user_input_line_action"model="ir.actions.act_window">
        <fieldname="name">DetailedAnswers</field>
        <fieldname="res_model">survey.user_input.line</field>
        <fieldname="view_mode">tree,form</field>
        <fieldname="search_view_id"ref="survey_user_input_line_view_search"/>
        <fieldname="context">{'search_default_group_by_survey':True,'search_default_group_by_user_input':True}</field>
        <fieldname="help"type="html">
          <pclass="o_view_nocontent_empty_folder">
            Nouserinputlinesfound
          </p>
        </field>
    </record>

    <menuitemname="Participations"
        id="menu_survey_type_form1"
        action="action_survey_user_input"
        parent="survey_menu_user_inputs"
        sequence="1"/>
    <menuitemname="DetailedAnswers"
        id="menu_survey_response_line_form"
        action="survey_user_input_line_action"
        parent="survey_menu_user_inputs"
        sequence="4"
        groups="base.group_no_one"/>
</data>
</flectra>
