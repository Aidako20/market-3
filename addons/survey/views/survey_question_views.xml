<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
<data>
    <!--QUESTIONS-->
    <recordmodel="ir.ui.view"id="survey_question_form">
        <fieldname="name">Formviewforsurveyquestion</field>
        <fieldname="model">survey.question</field>
        <fieldname="arch"type="xml">
            <formstring="SurveyQuestion"create="false">
                <fieldname="is_page"invisible="1"/>
                <fieldname="page_id"invisible="1"required="False"/>
                <fieldname="survey_id"invisible="1"/>
                <fieldname="sequence"invisible="1"/>
                <fieldname="scoring_type"invisible="1"/>
                <sheet>
                    <divclass="oe_title"style="width:100%;">
                        <labelfor="title"string="Section"attrs="{'invisible':[('is_page','=',False)]}"/>
                        <labelfor="title"string="Question"attrs="{'invisible':[('is_page','=',True)]}"/>
                        <separator/>
                        <fieldname="title"colspan="4"/>
                        <separator/>
                        <fieldname="questions_selection"invisible="1"/>
                    </div>
                    <groupclass="o_label_nowrap"attrs="{'invisible':['|',('is_page','=',False),('questions_selection','=','all')]}">
                        <fieldname="random_questions_count"/>
                    </group>
                    <groupattrs="{'invisible':[('is_page','=',True)]}">
                        <group>
                            <fieldname="question_type"widget="radio"attrs="{'required':[('is_page','=',False)]}"/>
                        </group>
                        <group>
                            <divclass="col-lg-6offset-lg-3o_preview_questions">
                                <!--MultipleLinesTextZone-->
                                <divattrs="{'invisible':[('question_type','!=','text_box')]}">
                                        <iclass="fafa-align-justifyfa-4x"role="img"aria-label="Multiplelines"title="MultipleLines"/>
                                </div>
                                <!--SingleLineTextZone-->
                                <divattrs="{'invisible':[('question_type','!=','char_box')]}">
                                    <iclass="fafa-minusfa-4x"role="img"aria-label="SingleLine"title="SingleLine"/>
                                </div>
                                <!--NumericalValue-->
                                <divattrs="{'invisible':[('question_type','!=','numerical_box')]}">
                                    <iclass="fafa-2x"role="img"aria-label="Numeric"title="Numeric">123..</i>
                                </div>
                                <!--Date-->
                                <divattrs="{'invisible':[('question_type','!=','date')]}">
                                    <pclass="o_datetime">YYYY-MM-DD
                                        <iclass="fafa-calendarfa-2x"role="img"aria-label="Calendar"title="Calendar"/>
                                    </p>
                                </div>
                                <!--DateandTime-->
                                <divattrs="{'invisible':[('question_type','!=','datetime')]}">
                                    <pclass="o_datetime">YYYY-MM-DDhh:mm:ss
                                        <iclass="fafa-calendarfa-2x"role="img"aria-label="Calendar"title="Calendar"/>
                                    </p>
                                </div>
                                <!--Multiplechoice:onlyoneanswer-->
                                <divattrs="{'invisible':[('question_type','!=','simple_choice')]}"role="img"aria-label="Multiplechoicewithoneanswer"title="Multiplechoicewithoneanswer">
                                    <divclass="row"><iclass="fafa-circle-o fa-lg"/>answer</div>
                                    <divclass="row"><iclass="fafa-dot-circle-ofa-lg"/>answer</div>
                                    <divclass="row"><iclass="fafa-circle-o fa-lg"/>answer</div>
                                </div>
                                <!--Multiplechoice:multipleanswersallowed-->
                                <divattrs="{'invisible':[('question_type','!=','multiple_choice')]}"role="img"aria-label="Multiplechoicewithmultipleanswers"title="Multiplechoicewithmultipleanswers">
                                    <divclass="row"><iclass="fafa-square-ofa-lg"/>answer</div>
                                    <divclass="row"><iclass="fafa-check-square-ofa-lg"/>answer</div>
                                    <divclass="row"><iclass="fafa-square-ofa-lg"/>answer</div>
                                </div>
                                <!--Matrix-->
                                <divattrs="{'invisible':[('question_type','!=','matrix')]}">
                                    <divclass="rowo_matrix_head">
                                        <divclass="col-3"></div>
                                        <divclass="col-3">ans</div>
                                        <divclass="col-3">ans</div>
                                        <divclass="col-3">ans</div>
                                    </div>
                                    <divclass="rowo_matrix_row">
                                        <divclass="col-3">Row1</div>
                                        <divclass="col-3"><iclass="fafa-circle-ofa-lg"role="img"aria-label="Notchecked"title="Notchecked"/></div>
                                        <divclass="col-3"><iclass="fafa-dot-circle-ofa-lg"role="img"aria-label="Checked"title="Checked"/></div>
                                        <divclass="col-3"><iclass="fafa-circle-ofa-lg"role="img"aria-label="Notchecked"title="Notchecked"/></div>
                                    </div>
                                    <divclass="rowo_matrix_row">
                                        <divclass="col-3">Row2</div>
                                        <divclass="col-3"><iclass="fafa-circle-ofa-lg"role="img"aria-label="Notchecked"title="Notchecked"/></div>
                                        <divclass="col-3"><iclass="fafa-circle-ofa-lg"role="img"aria-label="Notchecked"title="Notchecked"/></div>
                                        <divclass="col-3"><iclass="fafa-dot-circle-ofa-lg"role="img"aria-label="Checked"title="Checked"/></div>
                                    </div>
                                    <divclass="rowo_matrix_row">
                                        <divclass="col-3">Row3</div>
                                        <divclass="col-3"><iclass="fafa-dot-circle-ofa-lg"role="img"aria-label="Checked"title="Checked"/></div>
                                        <divclass="col-3"><iclass="fafa-circle-ofa-lg"role="img"aria-label="Notchecked"title="Notchecked"/></div>
                                        <divclass="col-3"><iclass="fafa-circle-ofa-lg"role="img"aria-label="Notchecked"title="Notchecked"/></div>
                                    </div>
                                </div>
                            </div>
                        </group>
                    </group>
                    <notebook>
                        <pagestring="Answers"name="answers"attrs="{'invisible':[('is_page','=',True)]}">
                            <divclass="row">
                                <divclass="col-6"
                                    attrs="{'invisible':[('question_type','notin',['char_box','numerical_box','date','datetime'])]}">
                                    <divattrs="{'invisible':[('question_type','!=','char_box')]}">
                                        <fieldname="validation_email"nolabel="1"/>
                                        <labelfor="validation_email"/><br/>

                                        <fieldname="save_as_email"nolabel="1"attrs="{'invisible':[('validation_email','=',False)]}"/>
                                        <labelfor="save_as_email"attrs="{'invisible':[('validation_email','=',False)]}"/>
                                        <brattrs="{'invisible':[('validation_email','=',False)]}"/>

                                        <fieldname="save_as_nickname"nolabel="1"/>
                                        <labelfor="save_as_nickname"/>
                                    </div>
                                    <div>
                                        <fieldname="validation_required"nolabel="1"/>
                                        <labelfor="validation_required"/>
                                        <groupattrs="{'invisible':[('validation_required','=',False)]}">
                                            <fieldname="validation_length_min"attrs="{'invisible':[('question_type','!=','char_box')]}"/>
                                            <fieldname="validation_length_max"attrs="{'invisible':[('question_type','!=','char_box')]}"/>
                                            <fieldname="validation_min_float_value"attrs="{'invisible':[('question_type','!=','numerical_box')]}"/>
                                            <fieldname="validation_max_float_value"attrs="{'invisible':[('question_type','!=','numerical_box')]}"/>
                                            <fieldname="validation_min_date"attrs="{'invisible':[('question_type','!=','date')]}"/>
                                            <fieldname="validation_max_date"attrs="{'invisible':[('question_type','!=','date')]}"/>
                                            <fieldname="validation_min_datetime"widget="datetime"attrs="{'invisible':[('question_type','!=','datetime')]}"/>
                                            <fieldname="validation_max_datetime"widget="datetime"attrs="{'invisible':[('question_type','!=','datetime')]}"/>
                                            <fieldname="validation_error_msg"/>
                                        </group>
                                    </div>
                                </div>

                                <divclass="col-6"attrs="{'invisible':[
                                        '|',('scoring_type','=','no_scoring'),
                                        ('question_type','notin',['numerical_box','date','datetime'])]
                                    }">
                                    <group>
                                        <fieldname="answer_numerical_box"string="CorrectAnswer"attrs="{'invisible':[('question_type','!=','numerical_box')]}"/>
                                        <fieldname="answer_date"string="CorrectAnswer"attrs="{'invisible':[('question_type','!=','date')]}"/>
                                        <fieldname="answer_datetime"string="CorrectAnswer"attrs="{'invisible':[('question_type','!=','datetime')]}"/>
                                        <fieldname="is_scored_question"/>
                                        <fieldname="answer_score"/>
                                    </group>
                                </div>
                            </div>
                            <groupattrs="{'invisible':[('question_type','notin',['simple_choice','multiple_choice','matrix'])]}">
                                <fieldname="suggested_answer_ids"string="Answers"context="{'default_question_id':active_id}">
                                    <treeeditable="bottom">
                                        <fieldname="sequence"widget="handle"/>
                                        <fieldname="value"string="Choices"/>
                                        <fieldname="value_image"options="{'accepted_file_extensions':'image/*'}"
                                            attrs="{'column_invisible':['|',('parent.allow_value_image','=',False),('parent.question_type','=','matrix')]}"/>
                                        <fieldname="is_correct"attrs="{'column_invisible':['|',('parent.scoring_type','=','no_scoring'),('parent.question_type','=','matrix')]}"/>
                                        <fieldname="answer_score"attrs="{'column_invisible':['|',('parent.scoring_type','=','no_scoring'),('parent.question_type','=','matrix')]}"/>
                                    </tree>
                                </field>
                            </group>
                            <groupattrs="{'invisible':[('question_type','!=','matrix')]}">
                                <fieldname="matrix_row_ids"context="{'default_matrix_question_id':active_id}"attrs="{'invisible':[('question_type','!=','matrix')]}">
                                    <treeeditable="bottom">
                                        <fieldname="sequence"widget="handle"/>
                                        <fieldname="value"string="Rows"/>
                                    </tree>
                                </field>
                            </group>
                        </page>
                        <pagestring="Description"name="survey_description">
                            <fieldname="description"widget="html"/>
                        </page>
                        <pagestring="Options"name="options"attrs="{'invisible':[('is_page','=',True)]}">
                            <groupstring="Constraints">
                                <group>
                                    <fieldname="constr_mandatory"string="MandatoryAnswer"/>
                                    <fieldname="constr_error_msg"attrs="{'invisible':[('constr_mandatory','=',False)]}"/>
                                    <fieldname="matrix_subtype"attrs="{'invisible':[('question_type','notin',['matrix'])],'required':[('question_type','=','matrix')]}"/>
                                </group>
                            </group>
                            <group>
                                <groupstring="Display"attrs="{'invisible':[('question_type','notin',['simple_choice','multiple_choice'])]}">
                                    <fieldname="column_nb"string="Numberofcolumns"/>
                                    <fieldname="allow_value_image"/>
                                </group>
                                <groupstring="ConditionalDisplay"attrs="{'invisible':[('questions_selection','=','random')]}">
                                    <fieldname="is_conditional"/>
                                    <fieldname="triggering_question_id" options="{'no_open':True,'no_create':True}"
                                           attrs="{'invisible':[('is_conditional','=',False)],'required':[('is_conditional','=',True)]}"/>
                                    <fieldname="triggering_answer_id"options="{'no_open':True,'no_create':True}"
                                           attrs="{'invisible':['|',('is_conditional','=',False),('triggering_question_id','=',False)],
                                                   'required':[('is_conditional','=',True)]}"/>
                                </group>
                            </group>
                            <groupstring="AllowComments"attrs="{'invisible':[('question_type','notin',['simple_choice','multiple_choice','matrix'])]}">
                                <fieldname='comments_allowed'/>
                                <fieldname='comments_message'attrs="{'invisible':[('comments_allowed','=',False)]}"/>
                                <fieldname='comment_count_as_answer'attrs="{'invisible':['|',('comments_allowed','=',False),('question_type','in',['matrix'])]}"/>
                            </group>
                            <groupstring="LiveSessions">
                                <labelfor="is_time_limited"string="QuestionTimeLimit"/>
                                <div>
                                    <fieldname="is_time_limited"nolabel="1"/>
                                    <fieldname="time_limit"nolabel="1"class="oe_inline"
                                        attrs="{'invisible':[('is_time_limited','=',False)]}"/>
                                    <spanattrs="{'invisible':[('is_time_limited','=',False)]}">seconds</span>
                                </div>
                            </group>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>
    <recordmodel="ir.ui.view"id="survey_question_tree">
        <fieldname="name">Treeviewforsurveyquestion</field>
        <fieldname="model">survey.question</field>
        <fieldname="arch"type="xml">
            <treestring="SurveyQuestion"create="false">
                <fieldname="sequence"widget="handle"/>
                <fieldname="title"/>
                <fieldname="survey_id"/>
                <fieldname="question_type"/>
                <fieldname="triggering_question_id"invisible="1"/>
                <buttonicon="fa-code-fork"attrs="{'invisible':[('triggering_question_id','=',False)]}"
                    title="Thisquestiondependsonanotherquestion'sanswer."class="icon_rotates"/>
            </tree>
        </field>
    </record>
    <recordmodel="ir.ui.view"id="survey_question_search">
        <fieldname="name">Searchviewforsurveyquestion</field>
        <fieldname="model">survey.question</field>
        <fieldname="arch"type="xml">
            <searchstring="SearchQuestion">
                <fieldname="title"/>
                <fieldname="survey_id"string="Survey"/>
                <fieldname="question_type"string="Type"/>
                <groupexpand="1"string="GroupBy">
                    <filtername="group_by_type"string="Type"domain="[]"context="{'group_by':'question_type'}"/>
                    <filtername="group_by_survey"string="Survey"domain="[]"context="{'group_by':'survey_id'}"/>
                </group>
            </search>
        </field>
    </record>

    <recordmodel="ir.actions.act_window"id="action_survey_question_form">
        <fieldname="name">Questions</field>
        <fieldname="res_model">survey.question</field>
        <fieldname="view_mode">tree,form</field>
        <fieldname="search_view_id"ref="survey_question_search"/>
        <fieldname="context">{'search_default_group_by_page':True}</field>
        <fieldname="domain">[('is_page','=',False)]</field>
        <fieldname="help"type="html">
          <pclass="o_view_nocontent_empty_folder">
            Noquestionsfound
          </p>
        </field>
    </record>

    <!--LABELS-->
    <recordid="survey_question_answer_view_tree"model="ir.ui.view">
        <fieldname="name">survey.question.answer.view.tree</field>
        <fieldname="model">survey.question.answer</field>
        <fieldname="arch"type="xml">
            <treestring="SurveyLabel"create="false">
                <fieldname="sequence"widget="handle"/>
                <fieldname="question_id"/>
                <fieldname="matrix_question_id"/>
                <fieldname="value"/>
                <fieldname="answer_score"groups="base.group_no_one"/>
            </tree>
        </field>
    </record>
    <recordid="survey_question_answer_view_search"model="ir.ui.view">
        <fieldname="name">survey.question.answer.view.search</field>
        <fieldname="model">survey.question.answer</field>
        <fieldname="arch"type="xml">
            <searchstring="SearchLabel">
                <fieldname="question_id"/>
                <groupexpand="1"string="GroupBy">
                    <filtername="group_by_question"string="Question"domain="[]"context="{'group_by':'question_id'}"/>
                </group>
            </search>
        </field>
    </record>

    <recordid="survey_question_answer_action"model="ir.actions.act_window">
        <fieldname="name">SuggestedValues</field>
        <fieldname="res_model">survey.question.answer</field>
        <fieldname="view_mode">tree,form</field>
        <fieldname="search_view_id"ref="survey_question_answer_view_search"/>
        <fieldname="context">{'search_default_group_by_question':True}</field>
        <fieldname="help"type="html">
          <pclass="o_view_nocontent_empty_folder">
            Nosurveylabelsfound
          </p>
        </field>
    </record>

    <menuitemname="Questions"
        id="menu_survey_question_form1"
        action="action_survey_question_form"
        parent="survey_menu_questions"
        sequence="2"/>
    <menuitemname="SuggestedValues"
        id="menu_survey_label_form1"
        action="survey_question_answer_action"
        parent="survey_menu_questions"
        sequence="3"/>
</data>
</flectra>
