<?xmlversion="1.0"encoding="UTF-8"?>
<flectra>

    <recordid="hr_user_view_form"model="ir.ui.view">
        <fieldname="name">hr.user.preferences.view.form.attendance.inherit</field>
        <fieldname="model">res.users</field>
        <fieldname="inherit_id"ref="hr_attendance.hr_user_view_form"/>
        <fieldname="arch"type="xml">
            <!--HideAttendancebutton-->
            <xpathexpr="//button[@id='hr_attendance_button']"position="attributes">
                <attributename="attrs">
                    {'invisible':['|','|','&amp;',
                        ('hr_presence_state','=','present'),
                        ('attendance_state','=','checked_out'),
                        ('is_absent','=',True),
                        ('id','=',False),
                    ]}
                </attribute>
            </xpath>
            <!--Mergeinvisibleattrofbothmodule-->
            <xpathexpr="//button[@id='hr_presence_button']"position="attributes">
                <attributename="attrs">
                    {'invisible':['|','|','|',
                        ('is_absent','=',True),
                        ('hr_presence_state','=','absent'),
                        ('attendance_state','=','checked_in'),
                        ('id','=',False),
                    ]}
                </attribute>
            </xpath>
        </field>
    </record>

    <recordid="hr_employee_view_form"model="ir.ui.view">
        <fieldname="name">hr.employee.holidays.attendance.inherit</field>
        <fieldname="model">hr.employee</field>
        <fieldname="inherit_id"ref="hr_attendance.view_employee_form_inherit_hr_attendance"/>
        <fieldname="arch"type="xml">
            <!--HideAttendancebutton-->
            <xpathexpr="//button[@id='hr_attendance_button']"position="attributes">
                <attributename="attrs">
                    {'invisible':['|','|','&amp;',
                        ('hr_presence_state','=','present'),
                        ('attendance_state','=','checked_out'),
                        ('is_absent','=',True),
                        ('id','=',False),
                    ]}
                </attribute>
            </xpath>
            <!--Mergeinvisibleattrofbothmodule-->
            <xpathexpr="//button[@id='hr_presence_button']"position="attributes">
                <attributename="attrs">
                    {'invisible':['|','|','|',
                        ('is_absent','=',True),
                        ('hr_presence_state','=','absent'),
                        ('attendance_state','=','checked_in'),
                        ('id','=',False),
                    ]}
                </attribute>
            </xpath>
        </field>
    </record>

</flectra>
