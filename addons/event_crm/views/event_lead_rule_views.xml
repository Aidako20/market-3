<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
<data>
    <recordid="event_lead_rule_view_search"model="ir.ui.view">
        <fieldname="name">event.lead.rule.view.search</field>
        <fieldname="model">event.lead.rule</field>
        <fieldname="arch"type="xml">
            <searchstring="SearchLeadGenerationRules">
                <fieldname="name"string="Name"/>
                <separator/>
                <filterstring="Archived"name="filter_inactive"domain="[('active','=',False)]"/>
                <filterstring="CreationType"name="filter_lead_creation_basis"context="{'group_by':'lead_creation_basis'}"/>
                <filterstring="TriggerType"name="filter_lead_creation_trigger"context="{'group_by':'lead_creation_trigger'}"/>
            </search>
        </field>
    </record>

    <recordid="event_lead_rule_view_tree"model="ir.ui.view">
        <fieldname="name">event.lead.rule.view.tree</field>
        <fieldname="model">event.lead.rule</field>
        <fieldname="arch"type="xml">
            <treestring="LeadGenerationRules">
                <fieldname="name"/>
                <fieldname="lead_creation_basis"string="LeadCreationType"invisible="1"/>
                <fieldname="lead_creation_trigger"/>
                <fieldname="event_type_ids"widget="many2many_tags"/>
                <fieldname="event_id"/>
                <fieldname="company_id"groups="base.group_multi_company"/>
            </tree>
        </field>
    </record>

    <recordid="event_lead_rule_view_form"model="ir.ui.view">
        <fieldname="name">event.lead.rule.view.form</field>
        <fieldname="model">event.lead.rule</field>
        <fieldname="arch"type="xml">
            <formstring="LeadGenerationRule">
                <sheet>
                    <widgetname="web_ribbon"title="Archived"bg_color="bg-danger"attrs="{'invisible':[('active','=',True)]}"/>
                    <divclass="oe_title">
                        <labelfor="name"class="oe_edit_only"/>
                        <h1><fieldname="name"placeholder="e.g.B2BFairs"/></h1>
                    </div>
                    <fieldname="active"invisible="1"/>
                    <groupname="lead_creation_configuration">
                        <groupname="lead_creation_basis"invisible="1">
                            <fieldname="lead_creation_basis"widget="radio"/>
                        </group>
                        <group>
                            <fieldname="lead_creation_trigger"widget="radio"/>
                        </group>
                    </group>
                    <groupstring="ForanyoftheseEvents">
                        <group>
                            <fieldname="event_type_ids"widget="many2many_tags"/>
                            <fieldname="company_id"groups="base.group_multi_company"options="{'no_create':True}"/>
                        </group>
                        <group>
                            <fieldname="event_id"options="{'no_create':True}"/>
                        </group>
                    </group>
                    <groupstring="IftheAttendeesmeettheseConditions">
                        <fieldname="event_registration_filter"widget="domain"options="{'model':'event.registration'}"nolabel="1"/>
                    </group>
                    <groupstring="LeadDefaultValues">
                        <groupclass="col">
                            <fieldname="lead_type"groups="crm.group_use_lead"/>
                            <fieldname="lead_sales_team_id"/>
                            <fieldname="lead_user_id"/>
                        </group>
                        <groupclass="col">
                            <fieldname="lead_tag_ids"widget="many2many_tags"options="{'color_field':'color'}"/>
                        </group>                        
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <recordid="event_lead_rule_action"model="ir.actions.act_window">
        <fieldname="name">LeadGenerationRule</field>
        <fieldname="type">ir.actions.act_window</field>
        <fieldname="res_model">event.lead.rule</field>
        <fieldname="view_mode">tree,form</field>
        <fieldname="help"type="html">
            <pclass="o_view_nocontent_smiling_face">CreateaLeadGenerationRule</p>
            <p>Thoseautomaticallycreateleadswhenattendeesregister.</p>
        </field>
    </record>

    <menuitemname="LeadGeneration"
        id="event_lead_rule_menu"
        action="event_lead_rule_action"
        parent="event.menu_event_configuration"
        sequence="10"
        groups="event.group_event_manager"/>
</data>
</flectra>
