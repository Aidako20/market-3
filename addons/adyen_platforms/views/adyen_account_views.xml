<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
    <recordid="adyen_account_view_form"model="ir.ui.view">
        <fieldname="name">adyen.account.view.form</field>
        <fieldname="model">adyen.account</field>
        <fieldname="arch"type="xml">
            <formstring="AdyenAccount"create="false"js_class="adyen_account_form">
                <header>
                    <fieldname="kyc_status"widget="statusbar"statusbar_visible="awaiting_data,pending,passed"/>
                </header>
                <sheet>
                    <divclass="oe_button_box"name="button_box">
                        <buttonname="action_show_transactions"type="object"
                            class="oe_stat_button"icon="fa-credit-card">
                            <divclass="o_stat_info">
                                <fieldname="transactions_count"class="o_stat_value"/>
                                <spanclass="o_stat_text">Transactions</span>
                            </div>
                        </button>
                    </div>

                    <group>
                        <fieldname="adyen_uuid"invisible="1"/>

                        <group>
                            <fieldname="is_business"attrs="{'readonly':[('id','!=',False)]}"/>
                        </group>

                        <group>
                            <fieldname="company_id"readonly="1"/>
                        </group>

                        <groupstring="Individual"attrs="{'invisible':[('is_business','=',True)]}">
                            <fieldname="first_name"
                                attrs="{'required':[('is_business','=',False)]}"/>
                            <fieldname="last_name"
                                attrs="{'required':[('is_business','=',False)]}"/>
                            <fieldname="date_of_birth"
                                attrs="{'required':[('is_business','=',False)]}"/>
                            <fieldname="document_number"
                                attrs="{'invisible':[('country_code','notin',['AU','CA','GR','IT','US'])],'required':[('is_business','=',False),('country_id','in',['AU','CA','GR','IT','US'])]}"/>
                            <fieldname="document_type"
                                attrs="{'invisible':[('country_code','!=','AU')],'required':[('is_business','=',False),('country_id','=','AU')]}"/>
                            <fieldname="id_type"attrs="{'invisible':[('adyen_uuid','=',False)]}"/>
                            <fieldname="id_front"filename="id_front_filename"attrs="{'invisible':[('adyen_uuid','=',False)]}"/>
                            <fieldname="id_front_filename"invisible="1"/>
                            <fieldname="id_back"filename="id_back_filename"
                                attrs="{'invisible':[('id_type','notin',['ID_CARD','DRIVING_LICENSE'])]}"/>
                            <fieldname="id_back_filename"invisible="1"/>
                        </group>

                        <groupstring="Business"attrs="{'invisible':[('is_business','=',False)]}">
                            <fieldname="legal_business_name"
                                attrs="{'required':[('is_business','=',True)]}"/>
                            <fieldname="doing_business_as"
                                attrs="{'required':[('is_business','=',True)]}"/>
                            <fieldname="registration_number"
                                attrs="{'required':[('is_business','=',True)]}"/>
                        </group>

                        <groupstring="Contact">
                            <fieldname="email"widget="email"/>
                            <fieldname="phone_number"/>
                            <labelfor="street"string="Address"/>
                            <divclass="o_address_format">
                                <fieldname="street"placeholder="Street"class="o_address_street"/>
                                <fieldname="house_number_or_name"placeholder="Housenumberorname"class="o_address_street"/>
                                <fieldname="city"placeholder="City"class="o_address_city"/>
                                <fieldname="state_id"class="o_address_state"placeholder="State"options="{'no_open':True,'no_quick_create':True}"
                                    attrs="{'required':[('country_code','in',['AU','CA','IT','US'])]}"/>
                                <fieldname="state_code"invisible="1"/>
                                <fieldname="zip"placeholder="ZIP"class="o_address_zip"/>
                                <fieldname="country_id"placeholder="Country"class="o_address_country"options="{'no_open':True,'no_create':True}"/>
                                <fieldname="country_code"invisible="1"/>
                            </div>
                        </group>
                    </group>
                    <notebookattrs="{'invisible':[('adyen_uuid','=',False)]}">
                        <pagestring="Shareholders"attrs="{'invisible':[('is_business','=',False)],'required':[('is_business','=',True)]}">
                            <fieldname="shareholder_ids">
                                <tree>
                                    <fieldname="first_name"/>
                                    <fieldname="last_name"/>
                                    <fieldname="kyc_status"widget="adyen_kyc_status_tag"/>
                                </tree>
                            </field>
                        </page>
                        <pagestring="BankAccounts">
                            <fieldname="bank_account_ids">
                                <tree>
                                    <fieldname="owner_name"/>
                                    <fieldname="iban"/>
                                    <fieldname="account_number"/>
                                    <fieldname="kyc_status"widget="adyen_kyc_status_tag"/>
                                </tree>
                            </field>
                        </page>
                        <pagestring="Payouts">
                            <fieldname="payout_ids">
                                <tree>
                                    <fieldname="name"/>
                                    <fieldname="payout_schedule"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                </sheet>
                <divclass="oe_chatter">
                    <fieldname="message_follower_ids"/>
                    <fieldname="message_ids"/>
                </div>
            </form>
        </field>
    </record>

    <recordid="adyen_shareholder_view_form"model="ir.ui.view">
        <fieldname="name">adyen.shareholder.view.form</field>
        <fieldname="model">adyen.shareholder</field>
        <fieldname="arch"type="xml">
            <formstring="AdyenShareholder">
                <header>
                    <fieldname="kyc_status"widget="statusbar"statusbar_visible="awaiting_data,pending,passed"/>
                </header>
                <sheet>
                    <divclass="alertalert-warning"role="alert"
                        attrs="{'invisible':[('kyc_status_message','=',False)]}">
                        <fieldname="kyc_status_message"/>
                    </div>
                    <group>
                        <fieldname="shareholder_uuid"invisible="1"/>
                        <group>
                            <fieldname="first_name"/>
                            <fieldname="last_name"/>
                            <fieldname="date_of_birth"/>
                        </group>
                        <group>
                            <fieldname="document_number"
                                attrs="{'invisible':[('country_code','notin',['IT','US'])],'required':[('country_code','in',['IT','US'])]}"/>
                            <fieldname="id_type"attrs="{'invisible':[('shareholder_uuid','=',False)]}"/>
                            <fieldname="id_front"filename="id_front_filename"attrs="{'invisible':[('shareholder_uuid','=',False)]}"/>
                            <fieldname="id_front_filename"invisible="1"/>
                            <fieldname="id_back"filename="id_back_filename"
                                attrs="{'required':[('id_type','in',['ID_CARD','DRIVING_LICENSE'])],'invisible':[('id_type','notin',['ID_CARD','DRIVING_LICENSE'])]}"/>
                            <fieldname="id_back_filename"invisible="1"/>
                        </group>
                        <group>
                            <labelfor="street"string="Address"/>
                            <divclass="o_address_format">
                                <fieldname="street"placeholder="Street"class="o_address_street"/>
                                <fieldname="house_number_or_name"placeholder="Housenumberorname"class="o_address_street"/>
                                <fieldname="city"placeholder="City"class="o_address_city"/>
                                <fieldname="state_id"class="o_address_state"placeholder="State"options="{'no_open':True,'no_quick_create':True}"
                                    attrs="{'required':[('country_code','in',['AU','CA','IT','US'])]}"/>
                                <fieldname="zip"placeholder="ZIP"class="o_address_zip"/>
                                <fieldname="country_id"placeholder="Country"class="o_address_country"options="{'no_open':True,'no_create':True}"/>
                                <fieldname="country_code"invisible="1"/>
                            </div>
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <recordid="adyen_bank_account_view_form"model="ir.ui.view">
        <fieldname="name">adyen.bank.account.view.form</field>
        <fieldname="model">adyen.bank.account</field>
        <fieldname="arch"type="xml">
            <formstring="AdyenBankAccount">
                <header>
                    <fieldname="kyc_status"widget="statusbar"statusbar_visible="awaiting_data,pending,passed"/>
                </header>
                <sheet>
                    <divclass="alertalert-warning"role="alert"
                        attrs="{'invisible':[('kyc_status_message','=',False)]}">
                        <fieldname="kyc_status_message"/>
                    </div>
                    <group>
                        <fieldname="bank_account_uuid"invisible="1"/>
                        <group>
                            <fieldname="country_id"options='{"no_open":True,"no_create":True}'/>
                            <fieldname="country_code"invisible="1"/>
                            <fieldname="currency_id"/>
                            <fieldname="iban"
                                attrs="{'invisible':[('country_code','notin',['AT','BE','CH','CZ','DE','ES','FI','FR','GB','GR','HR','IE','IT','LT','LU','NL','PL','PT'])],
                                        'required':[('country_code','in',['AT','BE','CH','CZ','DE','ES','FI','FR','GB','GR','HR','IE','IT','LT','LU','NL','PL','PT'])]}"/>
                            <fieldname="account_type"
                                attrs="{'invisible':[('country_code','!=','US')],'required':[('country_code','=','US')]}"/>
                            <fieldname="account_number"
                                attrs="{'invisible':[('country_code','notin',['AU','CA','US'])],'required':[('country_code','in',['AU','CA','US'])]}"/>
                            <fieldname="branch_code"
                                attrs="{'invisible':[('country_code','notin',['AU','CA','US'])],'required':[('country_code','in',['AU','CA','US'])]}"/>
                            <fieldname="bank_code"
                                attrs="{'invisible':[('country_code','!=','CA')],'required':[('country_code','=','CA')]}"/>
                            <fieldname="bank_statement"filename="bank_statement_filename"attrs="{'invisible':[('bank_account_uuid','=',False)]}"/>
                            <fieldname="bank_statement_filename"invisible="1"/>
                        </group>
                        <group>
                            <fieldname="owner_name"/>
                            <labelfor="owner_street"string="OwnerAddress"attrs="{'invisible':[('country_code','notin',['CA','US'])]}"/>
                            <divclass="o_address_format"attrs="{'invisible':[('country_code','notin',['CA','US'])]}">
                                <fieldname="owner_street"placeholder="Street"class="o_address_street"attrs="{'required':[('country_code','in',['CA','US'])]}"/>
                                <fieldname="owner_house_number_or_name"placeholder="Housenumberorname"class="o_address_street"attrs="{'required':[('country_code','in',['CA','US'])]}"/>
                                <fieldname="owner_city"placeholder="City"class="o_address_city"attrs="{'required':[('country_code','in',['CA','US'])]}"/>
                                <fieldname="owner_state_id"class="o_address_state"placeholder="State"options="{'no_open':True,'no_quick_create':True}"
                                    attrs="{'required':[('country_code','in',['CA','US'])]}"/>
                                <fieldname="owner_zip"placeholder="ZIP"class="o_address_zip"attrs="{'required':[('country_code','in',['CA','US'])]}"/>
                                <fieldname="owner_country_id"placeholder="Country"class="o_address_country"options='{"no_open":True,"no_create":True}'
                                    attrs="{'required':[('country_code','in',['CA','US'])]}"/>
                            </div>
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <recordid="adyen_payout_view_form"model="ir.ui.view">
        <fieldname="name">adyen.payout.view.form</field>
        <fieldname="model">adyen.payout</field>
        <fieldname="arch"type="xml">
            <formstring="AdyenPayout">
                <header>
                    <buttonname="send_payout_request"string="Requestapayoutnow"class="oe_highlight"type="object"attrs="{'invisible':[('code','=',False)]}"/>
                </header>
                <sheet>
                    <group>
                        <fieldname="code"invisible="1"/>
                        <fieldname="name"/>
                        <fieldname="payout_schedule"/>
                        <fieldname="adyen_bank_account_id"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <recordid="adyen_account_action_create"model="ir.actions.act_window">
        <fieldname="name">CreateanAdyenAccount</field>
        <fieldname="res_model">adyen.account</field>
        <fieldname="view_mode">form</field>
    </record>
</flectra>
