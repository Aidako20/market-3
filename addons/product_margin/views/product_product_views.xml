<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
    <recordmodel="ir.ui.view"id="view_product_margin_graph">
            <fieldname="name">product.margin.graph</field>
            <fieldname="model">product.product</field>
            <fieldname="priority"eval="50"/>
            <fieldname="arch"type="xml">
                <graphstring="ProductMargins"type="bar"sample="1">
                    <fieldname="product_tmpl_id"/>
                    <fieldname="total_margin"type="measure"operator="+"/>
                </graph>
            </field>
    </record>

     <recordid="view_product_margin_form"model="ir.ui.view">
            <fieldname="name">product.margin.form.inherit</field>
            <fieldname="model">product.product</field>
            <fieldname="priority">50</field>
            <fieldname="arch"type="xml">
                 <formstring="ProductMargins">
                    <groupcol="4">
                        <fieldname="name"/>
                        <fieldname="default_code"/>
                    </group>
                    <notebook>
                    <pagestring="Margins"name="margins">
                        <groupstring="AnalysisCriteria">
                            <fieldname="date_from"/>
                            <fieldname="date_to"/>
                            <newline/>
                            <fieldname="invoice_state"/>

                            <separatorstring="Sales"colspan="4"/>
                            <fieldname="sale_avg_price"string="Avg.UnitPrice"/>
                            <fieldname="list_price"string="CatalogPrice"readonly="1"/>
                            <fieldname="sale_num_invoiced"/>
                            <fieldname="sales_gap"/>
                            <fieldname="turnover"/>
                            <fieldname="sale_expected"/>

                            <separatorstring="Purchases"colspan="4"/>
                            <fieldname="purchase_avg_price"string="Avg.UnitPrice"/>
                            <fieldname="standard_price"string="StandardPrice"/>
                            <fieldname="purchase_num_invoiced"/>
                            <fieldname="purchase_gap"/>
                            <fieldname="total_cost"/>
                            <fieldname="normal_cost"/>

                            <separatorstring="Margins"colspan="4"/>
                            <fieldname="total_margin"/>
                            <fieldname="expected_margin"/>
                            <fieldname="total_margin_rate"widget="progressbar"/>
                            <fieldname="expected_margin_rate"widget="progressbar"/>
                         </group>
                    </page>
                    </notebook>
                </form>
            </field>
        </record>

        <recordid="view_product_margin_tree"model="ir.ui.view">
            <fieldname="name">product.margin.tree</field>
            <fieldname="model">product.product</field>
            <fieldname="priority"eval="50"/>
            <fieldname="arch"type="xml">
                <treestring="ProductMargins">
                    <fieldname="name"/>
                    <fieldname="default_code"/>
                    <fieldname="sale_avg_price"/>
                    <fieldname="sale_num_invoiced"/>
                    <fieldname="turnover"sum="Turnover"/>
                    <fieldname="sales_gap"sum="SalesGap"/>
                    <fieldname="total_cost"sum="TotalCost"/>
                    <fieldname="purchase_num_invoiced"string="#Purchased"/>
                    <fieldname="total_margin"sum="TotalMargin"/>
                    <fieldname="expected_margin"/>
                    <fieldname="total_margin_rate" widget="progressbar"/>
                    <fieldname="expected_margin_rate"widget="progressbar"/>
                    <fieldname="categ_id"invisible="1"/>
                    <fieldname="uom_id"invisible="1"/>
                    <fieldname="type"invisible="1"/>
                    <fieldname="company_id"invisible="1"/>
            </tree>
            </field>
        </record>

    <menuitemaction="product_margin_act_window"id="menu_action_product_margin"name="ProductMargins"sequence="20"parent="account.account_reports_management_menu"/>

</flectra>
