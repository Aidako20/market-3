<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
    <data>
        <!--LINT.TRACKER-->
        <recordid="link_tracker_view_search"model="ir.ui.view">
            <fieldname="name">link.tracker.view.search</field>
            <fieldname="model">link.tracker</field>
            <fieldname="arch"type="xml">
                <searchstring="Links">
                    <fieldname="url"string="TitleandURL"filter_domain="['|',('title','ilike',self),('url','ilike',self)]"/>
                    <fieldname="title"/>
                    <fieldname="label"/>
                    <fieldname="campaign_id"/>
                    <fieldname="medium_id"/>
                    <fieldname="source_id"/>
                    <groupexpand="0"string="GroupBy">
                        <filterstring="Campaign"name="groupby_campaign_id"context="{'group_by':'campaign_id'}"/>
                        <filterstring="Medium"name="groupby_medium_id"context="{'group_by':'medium_id'}"/>
                        <filterstring="Source"name="groupby_source_id"context="{'group_by':'source_id'}"/>
                    </group>
                </search>
            </field>
        </record>

        <recordid="link_tracker_view_form"model="ir.ui.view">
            <fieldname="name">link.tracker.view.form</field>
            <fieldname="model">link.tracker</field>
            <fieldname="arch"type="xml">
                <formstring="WebsiteLink"duplicate="0">
                    <sheet>
                        <divclass="oe_button_box"name="button_box">
                            <buttontype="object"icon="fa-sign-out"name="action_visit_page"
                                string="VisitPage"class="oe_stat_button"/>

                            <buttontype="object"class="oe_stat_button"name="action_view_statistics"icon="fa-bar-chart-o">
                                <fieldname="count"string="Clicks"widget="statinfo"/>
                            </button>
                        </div>
                        <group>
                            <groupname="url"string="URL">
                                <fieldname="title"/>
                                <fieldname="label"/>
                                <fieldname="url"/>
                                <fieldname="short_url"/>
                            </group>
                            <groupname="utm"string="UTM">
                                <fieldname="campaign_id"/>
                                <fieldname="medium_id"/>
                                <fieldname="source_id"/>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <recordid="link_tracker_view_tree"model="ir.ui.view">
            <fieldname="name">link.tracker.view.tree</field>
            <fieldname="model">link.tracker</field>
            <fieldname="arch"type="xml">
                <treestring="Links"sample="1">
                    <fieldname="create_date"/>
                    <fieldname="title"/>
                    <fieldname="label"/>
                    <fieldname="url"/>
                    <fieldname="short_url"optional="hide"/>
                    <fieldname="count"/>
                    <buttonname="action_visit_page"type="object"string="VisitPage"icon="fa-external-link"/>
                </tree>
            </field>
        </record>

        <recordid="link_tracker_view_graph"model="ir.ui.view">
            <fieldname="name">link.tracker.view.graph</field>
            <fieldname="model">link.tracker</field>
            <fieldname="arch"type="xml">
                <graphstring="Links"type="bar"sample="1">
                    <fieldname="url"type="row"/>
                    <fieldname="count"type="measure"/>
                </graph>
            </field>
        </record>

        <recordid="link_tracker_action"model="ir.actions.act_window">
            <fieldname="name">LinkTracker</field>
            <fieldname="res_model">link.tracker</field>
            <fieldname="view_mode">tree,form,graph</field>
            <fieldname="view_id"ref="link_tracker_view_tree"/>
            <fieldname="help"type="html">
                <pclass="o_view_nocontent_smiling_face">
                    Createalinktracker
                </p><p>
                    TrackersareusedtocollectcountstataboutclickonlinksandgenerateshortURLs.
                </p>
            </field>
        </record>

        <!--LINK.TRACKER.CLICK-->
        <recordid="link_tracker_click_view_search"model="ir.ui.view">
            <fieldname="name">link.tracker.click.view.search</field>
            <fieldname="model">link.tracker.click</field>
            <fieldname="arch"type="xml">
                <searchstring="Clicks">
                    <fieldname="link_id"/>
                    <fieldname="country_id"/>
                    <groupexpand="0"string="GroupBy">
                        <filterstring="Link"name="groupby_link_id"domain="[]"context="{'group_by':'link_id'}"/>
                        <filterstring="Country"name="groupby_country_id"context="{'group_by':'country_id'}"/>
                    </group>
                </search>
            </field>
        </record>

        <recordid="link_tracker_click_view_form"model="ir.ui.view">
            <fieldname="name">link.tracker.click.view.form</field>
            <fieldname="model">link.tracker.click</field>
            <fieldname="arch"type="xml">
                <formstring="LinkClick"create="0">
                    <sheet>
                        <group>
                            <fieldname="link_id"/>
                            <fieldname="ip"/>
                            <fieldname="country_id"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <recordid="link_tracker_click_view_tree"model="ir.ui.view">
            <fieldname="name">link.tracker.click.view.tree</field>
            <fieldname="model">link.tracker.click</field>
            <fieldname="arch"type="xml">
                <treestring="LinksClicks"create="0">
                    <fieldname="link_id"/>
                    <fieldname="ip"/>
                    <fieldname="country_id"/>
                </tree>
            </field>
        </record>

        <recordid="link_tracker_click_view_graph"model="ir.ui.view">
            <fieldname="name">link.tracker.click.view.graph</field>
            <fieldname="model">link.tracker.click</field>
            <fieldname="arch"type="xml">
                <graphstring="LinkClicks"type="pie"sample="1">
                    <fieldname="link_id"/>
                    <fieldname="ip"/>
                    <fieldname="country_id"/>
                </graph>
            </field>
        </record>

        <recordid="link_tracker_click_action_statistics"model="ir.actions.act_window">
            <fieldname="name">ClickStatistics</field>
            <fieldname="res_model">link.tracker.click</field>
            <fieldname="view_mode">graph,tree,form</field>
            <fieldname="domain">[]</field>
            <fieldname="context">{'search_default_groupby_country_id':1}</field>
            <fieldname="help"type="html">
                <pclass="o_view_nocontent_smiling_face">
                    Nodatayet!
                </p>
            </field>
        </record>

        <recordid="link_tracker_action_campaign"model="ir.actions.act_window">
            <fieldname="name">StatisticsofClicks</field>
            <fieldname="res_model">link.tracker</field>
            <fieldname="view_mode">tree,form,graph</field>
            <fieldname="view_id"ref="link_tracker.link_tracker_view_tree"/>
            <fieldname="help"type="html">
                <pclass="o_view_nocontent_smiling_face">
                    Createalinktracker
                </p><p>
                    TrackersareusedtocollectcountstataboutclickonlinksandgenerateshortURLs.
                </p>
            </field>
            <fieldname="context">{'search_default_campaign_id':active_id}</field>
        </record>

        <!--MENUS-->
        <menuitemid="link_tracker_menu_main"
            name="LinkTracker"
            parent="utm.menu_link_tracker_root"
            action="link_tracker_action"
            groups="base.group_no_one"/>
    </data>
</flectra>
