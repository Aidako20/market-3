<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
    <data>

        <recordid="view_move_form_inherit"model="ir.ui.view">
            <fieldname="name">stock.move.form.inherit</field>
            <fieldname="model">stock.move</field>
            <fieldname="inherit_id"ref="stock.view_move_form"/>
            <fieldname="arch"type="xml">
                <xpathexpr="//div[@name='button_box']"position="inside">
                    <buttonname="action_get_account_moves"icon="fa-usd"class="oe_stat_button"string="AccountingEntries"type="object"groups="account.group_account_readonly"/>
                </xpath>
            </field>
        </record>

        <recordid="view_inventory_form_inherit"model="ir.ui.view">
            <fieldname="name">stock.inventory.form.inherit</field>
            <fieldname="model">stock.inventory</field>
            <fieldname="inherit_id"ref="stock.view_inventory_form"/>
            <fieldname="arch"type="xml">
                <xpathexpr="//field[@name='company_id']"position="before">
                    <fieldname="accounting_date"attrs="{'readonly':[('state','=','done')]}"/>
                </xpath>
                <xpathexpr="//div[@name='button_box']"position="inside">
                    <fieldname="has_account_moves"invisible="1"/>
                    <buttonname="action_get_account_moves"type="object"
                            string="AccountingEntries"icon="fa-usd"class="oe_stat_button"
                            attrs="{'invisible':[('has_account_moves','=',False)]}"/>
                </xpath>
            </field>
        </record>

        <recordid="view_inventory_tree"model="ir.ui.view">
            <fieldname="name">stock.inventory.tree.inherit.stock.account</field>
            <fieldname="model">stock.inventory</field>
            <fieldname="inherit_id"ref="stock.view_inventory_tree"/>
            <fieldname="arch"type="xml">
                <xpathexpr="//field[@name='date']"position="after">
                    <fieldname="accounting_date"optional="hide"/>
                </xpath>
            </field>
        </record>

        <recordid="view_location_form_inherit"model="ir.ui.view">
            <fieldname="name">stock.location.form.inherit</field>
            <fieldname="model">stock.location</field>
            <fieldname="inherit_id"ref="stock.view_location_form"/>
            <fieldname="arch"type="xml">
                <xpathexpr="//group[@name='additional_info']"position="after">
                    <groupstring="AccountingInformation"attrs="{'invisible':[('usage','notin',('inventory','production'))]}">
                        <fieldname="valuation_in_account_id"options="{'no_create':True}"/>
                        <fieldname="valuation_out_account_id"options="{'no_create':True}"/>
                    </group>
                </xpath>
            </field>
        </record>

        <recordid="view_stock_return_picking_form_inherit_stock_account"model="ir.ui.view">
            <fieldname="name">stock.return.picking.stock.account.form</field>
            <fieldname="inherit_id"ref="stock.view_stock_return_picking_form"/>
            <fieldname="model">stock.return.picking</field>
            <fieldname="arch"type="xml">
                <xpathexpr="//field[@name='product_return_moves']/tree"position="inside">
                    <fieldname="to_refund"groups="base.group_no_one"/>
                </xpath>
            </field>
        </record>

    </data>
</flectra>
