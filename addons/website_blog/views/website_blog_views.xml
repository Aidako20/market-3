<?xmlversion="1.0"?>
<flectra>

        <!--Blogviews-->
        <recordid="view_blog_blog_list"model="ir.ui.view">
            <fieldname="name">blog.blog.list</field>
            <fieldname="model">blog.blog</field>
            <fieldname="arch"type="xml">
                <treestring="Blogs">
                    <fieldname="name"/>
                    <fieldname="blog_post_count"/>
                    <fieldname="website_id"groups="website.group_multi_website"/>
                    <fieldname="active"invisible="1"/>
                </tree>
            </field>
        </record>
        <recordid="view_blog_blog_form"model="ir.ui.view">
            <fieldname="name">blog.blog.form</field>
            <fieldname="model">blog.blog</field>
            <fieldname="arch"type="xml">
                <formstring="Blog">
                    <sheet>
                        <widgetname="web_ribbon"title="Archived"bg_color="bg-danger"attrs="{'invisible':[('active','=',True)]}"/>
                        <group>
                            <fieldname="active"invisible="1"/>
                            <fieldname="name"/>
                            <fieldname="subtitle"/>
                            <fieldname="website_id"options="{'no_create':True}"groups="website.group_multi_website"/>
                        </group>
                    </sheet>
                    <divclass="oe_chatter">
                        <fieldname="message_follower_ids"groups="base.group_user"/>
                        <fieldname="message_ids"/>
                    </div>
                </form>
            </field>
        </record>

        <!--pagelistview -->
        <recordid="view_blog_post_list"model="ir.ui.view">
            <fieldname="name">blog.post.list</field>
            <fieldname="model">blog.post</field>
            <fieldname="arch"type="xml">
                <treestring="BlogPosts"multi_edit="1"sample="1">
                    <fieldname="name"/>
                    <fieldname="active"invisible="1"/>
                    <fieldname="author_id"/>
                    <fieldname="blog_id"/>
                    <fieldname="website_id"groups="website.group_multi_website"/>
                    <fieldname="is_published"string="IsPublished"optional="hide"/>
                    <fieldname="visits"readonly="1"/>
                    <fieldname="create_uid"invisible="1"/>
                    <fieldname="write_uid"/>
                    <fieldname="write_date"/>
                </tree>
            </field>
        </record>
        <!--pageformview -->
        <recordid="view_blog_post_form"model="ir.ui.view">
            <fieldname="name">blog.post.form</field>
            <fieldname="model">blog.post</field>
            <fieldname="arch"type="xml">
                <formstring="BlogPost">
                    <sheet>
                        <divclass="oe_button_box"name="button_box"attrs="{'invisible':[('active','=',False)]}">
                            <fieldname="is_published"widget="website_redirect_button"/>
                        </div>
                        <widgetname="web_ribbon"title="Archived"bg_color="bg-danger"attrs="{'invisible':[('active','=',True)]}"/>
                        <groupname="blog_details">
                            <fieldname="blog_id"/>
                            <fieldname="active"invisible="1"/>
                            <fieldname="name"placeholder="BlogPostTitle"/>
                            <fieldname="subtitle"placeholder="BlogSubtitle"/>
                            <fieldname="tag_ids"widget="many2many_tags"/>
                            <fieldname="website_id"groups="website.group_multi_website"/>
                        </group>
                        <groupname="publishing_details"string="PublishingOptions">
                            <fieldname="author_id"/>
                            <fieldname="create_date"groups="base.group_no_one"/>
                            <fieldname="post_date"/>
                            <fieldname="write_uid"/>
                            <fieldname="write_date"/>
                        </group>
                        <notebook>
                            <pagename="seo"string="SEO"groups="base.group_no_one">
                                <groupname="default_opengraph">
                                    <fieldname="website_meta_title"string="MetaTitle"/>
                                    <fieldname="website_meta_description"string="MetaDescription"/>
                                    <fieldname="website_meta_keywords"string="MetaKeywords"help="Separateeverykeywordwithacomma"/>
                                </group>
                            </page>
                        </notebook>
                    </sheet>
                    <divclass="oe_chatter">
                        <fieldname="message_follower_ids"groups="base.group_user"/>
                        <fieldname="message_ids"/>
                    </div>
                </form>
            </field>
        </record>
        <!--pagesearchview -->
        <recordid="view_blog_post_search"model="ir.ui.view">
            <fieldname="name">blog.post.search</field>
            <fieldname="model">blog.post</field>
            <fieldname="arch"type="xml">
                <searchstring="BlogPost">
                    <filterstring="Archived"name="inactive"domain="[('active','=',False)]"/>
                    <fieldname="name"string="Content"filter_domain="['|',('name','ilike',self),('content','ilike',self)]"/>
                    <fieldname="write_uid"/>
                    <fieldname="blog_id"/>
                    <groupexpand="0"string="GroupBy">
                        <filterstring="Blog"name="group_by_blog"domain="[]"context="{'group_by':'blog_id'}"/>
                        <filterstring="Author"name="group_by_author"domain="[]"context="{'group_by':'create_uid'}"/>
                        <filterstring="LastContributor"name="last_contributor"domain="[]"context="{'group_by':'write_uid'}"/>
                    </group>
                </search>
            </field>
        </record>

        <recordid="blog_post_view_kanban"model="ir.ui.view">
            <fieldname="name">blog.post.kanban</field>
            <fieldname="model">blog.post</field>
            <fieldname="arch"type="xml">
                <kanbanclass="o_kanban_mobile"sample="1">
                    <fieldname="name"/>
                    <fieldname="blog_id"/>
                    <fieldname="author_id"/>
                    <fieldname="post_date"/>
                    <templates>
                        <tt-name="kanban-box">
                            <divclass="oe_kanban_global_click">
                                <divclass="rowmb4">
                                    <strongclass="col-8">
                                        <spant-esc="record.name.value"/>
                                    </strong>
                                    <strongclass="col-4text-right">
                                        <spant-esc="record.blog_id.value"/>
                                    </strong>
                                    <divclass="col-8">
                                        <iclass="fafa-clock-o"role="img"aria-label="Postdate"title="Postdate"/><spant-esc="record.post_date.value"/>
                                    </div>
                                    <divclass="col-4text-right">
                                        <imgt-if="record.author_id.raw_value"
                                             t-att-title="record.author_id.value"
                                             t-att-alt="record.author_id.value"
                                             class="oe_kanban_avataro_image_24_cover"
                                             t-att-src="kanban_image('res.partner','image_128',record.author_id.raw_value)"/>
                                    </div>
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>

        <!--pageaction-->
        <recordid="action_blog_post"model="ir.actions.act_window">
            <fieldname="name">BlogPosts</field>
            <fieldname="res_model">blog.post</field>
            <fieldname="view_mode">tree,form,kanban</field>
            <fieldname="view_id"ref="view_blog_post_list"/>
            <fieldname="search_view_id"ref="view_blog_post_search"/>
            <fieldname="help"type="html">
                <pclass="o_view_nocontent_smiling_face">
                    Createanewblogpost
                </p>
            </field>
        </record>

        <recordid="blog_blog_view_search"model="ir.ui.view">
            <fieldname="name">blog.blog.search</field>
            <fieldname="model">blog.blog</field>
            <fieldname="arch"type="xml">
                <searchstring="Blog">
                    <fieldname="name"/>
                    <filterstring="Archived"name="inactive"domain="[('active','=',False)]"/>
                </search>
            </field>
        </record>

        <recordid="action_blog_blog"model="ir.actions.act_window">
            <fieldname="name">Blogs</field>
            <fieldname="res_model">blog.blog</field>
            <fieldname="view_mode">tree,form</field>
        </record>

        <recordid="blog_tag_tree"model="ir.ui.view">
            <fieldname="name">blog_tag_tree</field>
            <fieldname="model">blog.tag</field>
            <fieldname="arch"type="xml">
                <treestring="TagList">
                    <fieldname="name"/>
                    <fieldname="category_id"/>
                    <fieldname="post_ids"/>
                </tree>
            </field>
        </record>

        <recordid="blog_tag_form"model="ir.ui.view">
            <fieldname="name">blog_tag_form</field>
            <fieldname="model">blog.tag</field>
            <fieldname="arch"type="xml">
                <formstring="TagForm">
                    <sheet>
                        <group>
                            <fieldname="name"/>
                            <fieldname="category_id"/>
                        </group>
                        <labelfor="post_ids"string="Usedin:"/>
                        <fieldname="post_ids"/>
                    </sheet>
                </form>
            </field>
        </record>

        <recordid="action_tags"model="ir.actions.act_window">
            <fieldname="name">BlogTags</field>
            <fieldname="res_model">blog.tag</field>
            <fieldname="view_mode">tree,form</field>
            <fieldname="view_id"ref="blog_tag_tree"/>
        </record>

        <recordid="blog_tag_category_form"model="ir.ui.view">
            <fieldname="name">blog_tag_category_form</field>
            <fieldname="model">blog.tag.category</field>
            <fieldname="arch"type="xml">
                <formstring="TagCategoryForm">
                    <sheet>
                        <group>
                            <fieldname="name"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <recordid="blog_tag_category_tree"model="ir.ui.view">
            <fieldname="name">blog_tag_category_tree</field>
            <fieldname="model">blog.tag.category</field>
            <fieldname="arch"type="xml">
                <treestring="TagCategories">
                    <fieldname="name"/>
                </tree>
            </field>
        </record>

        <recordid="action_tag_category"model="ir.actions.act_window">
            <fieldname="name">TagCategory</field>
            <fieldname="res_model">blog.tag.category</field>
            <fieldname="view_mode">tree,form</field>
            <fieldname="view_id"ref="blog_tag_category_tree"/>
        </record>

        <menuitemname="Blogs"
            id="menu_website_blog_root"
            sequence="20"
            parent="website.menu_website_configuration"
            groups="website.group_website_designer"
            action="action_blog_post"/>

        <menuitemname="Blogs"
            id="menu_website_blog_root_global"
            sequence="100"
            parent="website.menu_website_global_configuration"
            groups="website.group_website_designer"/>

        <menuitemid="menu_website_blog_tag_category_global"parent="menu_website_blog_root_global"
                  name="TagCategories"action="action_tag_category"sequence="50"/>

        <menuitemid="menu_blog_tag_global"parent="menu_website_blog_root_global"name="Tags"action="action_tags"sequence="40"/>

        <menuitemid="menu_blog_global"parent="menu_website_blog_root_global"name="Blogs"action="action_blog_blog"sequence="20"/>
</flectra>
