<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
    <templateid="report_coupon">
                    <tt-call="web.internal_layout">
                    <divclass="card">
                    <divclass="card-body">
                    <divclass="page">
                        <divclass="rowtext-center">
                            <divclass="o_offercol-lg-12">
                                <h4t-if="o.partner_id.name">
                                    Congratulations
                                    <tt-esc="o.partner_id.name"/>,
                                </h4>
                                <tt-set="text">onyournextorder</t>
                                <h4>Hereisyourrewardfrom<tt-esc="o.program_id.company_id.name"/>.</h4>
                                <tt-if="o.program_id.reward_type=='discount'">
                                    <tt-set="trans_text">off%s</t>
                                    <tt-set="text"t-value="trans_text%text"/>
                                    <h1t-if="o.program_id.discount_type=='fixed_amount'"style="font-size:55px;color:#009EFB">
                                        <strong><spant-field="o.program_id.discount_fixed_amount"t-options='{"widget":"monetary","display_currency":o.program_id.currency_id}'/></strong>
                                    </h1>
                                    <h1t-if="o.program_id.discount_type=='percentage'"style="font-size:55px;color:#009EFB">
                                        <strong><spant-field="o.program_id.discount_percentage"/>%</strong>
                                    </h1>
                                    <tt-if="o.program_id.discount_apply_on=='specific_products'">
                                        <tt-if="len(o.program_id.discount_specific_product_ids)>1">
                                            <tt-set="text">offonsomeproducts*</t>
                                            <tt-set="display_specific_products"t-value="True"/>
                                        </t>
                                        <tt-else="">
                                            <tt-set="trans_text">offon%s</t>                                           
                                            <tt-set="text"t-value="trans_text%o.program_id.discount_specific_product_ids.name"/>
                                        </t>
                                    </t>
                                    <tt-if="o.program_id.discount_apply_on=='cheapest_product'">
                                        <tt-set="text">offonthecheapestproduct</t>
                                    </t>
                                </t>
                                <tt-if="o.program_id.reward_type=='product'">
                                    <strongstyle="font-size:55px;color:#009EFB">
                                        <tt-esc="'get%sfree%s'%(o.program_id.reward_product_quantity,o.program_id.reward_product_id.name)"/>
                                    </strong>
                                </t>
                                <tt-if="o.program_id.reward_type=='free_shipping'">
                                    <strongstyle="font-size:55px;color:#009EFB">getfreeshipping</strong>
                                </t>
                                <h1class="font-weight-bold"style="font-size:34px"t-esc="text"/>
                                <br/>
                                <h4t-if="o.expiration_date">
                                    Usethispromocodebefore
                                    <spant-field="o.expiration_date"t-options='{"format":"yyyy-MM-d"}'/>
                                </h4>
                                <h2class="mt32"style="margin-top:32px">
                                    <strongclass="bg-light"t-esc="o.code"style="padding:20px10px;"></strong>
                                </h2>
                                <h4t-if="o.program_id.rule_min_quantity>1">
                                    <span>Minimumpurchaseof</span>
                                    <strongt-esc="o.program_id.rule_min_quantity"/><span>products</span>
                                </h4>
                                <h4t-if="o.program_id.rule_minimum_amount">
                                    <span>Validforpurchaseabove</span>
                                    <strongt-esc="o.program_id.rule_minimum_amount"t-options="{'widget':'monetary','display_currency':o.program_id.currency_id}"/>
                                </h4>
                                <pt-if="display_specific_products">
                                    <small>
                                        *Validforfollowingproducts:<tt-esc="','.join(o.program_id.discount_specific_product_ids.mapped('name'))"/>
                                    </small>
                                </p>
                                <br/>
                                <imgalt="Barcode"t-att-src="'/report/barcode/Code128/%s'%o.code"/>
                                <br/><br/>
                                <h4>Thankyou,</h4>
                                <br/>
                                <divclass="mt32">
                                    <divclass="text-center">
                                        <imgalt="Logo"t-att-src="'/logo?company=%d'%(o.program_id.company_id)"t-att-alt="'%s'%(o.program_id.company_id.name)"style="border:0pxsolidtransparent;height:50;width:200px;"height="50"/>
                                    </div>
                                </div>
                                <div>
                                    <divclass="text-centerd-inline-block">
                                        <spant-field="o.program_id.company_id.partner_id"
                                            t-options='{"widget":"contact","fields":["address","email"],"no_marker":True}'/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                </div>
        </t>
    </template>

    <templateid="report_coupon_i18n">
        <tt-call="web.html_container">
            <tt-foreach="docs"t-as="o">
                <tt-set="o"t-value="o.with_context(lang=o.partner_id.langoro.env.lang)"/>
                <tt-call="coupon.report_coupon"t-lang="o.partner_id.langoro.env.lang"/>
            </t>
        </t>
    </template>
</flectra>
