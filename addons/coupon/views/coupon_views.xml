<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
    <recordid="coupon_view_tree"model="ir.ui.view">
        <fieldname="name">coupon.coupon.tree</field>
        <fieldname="model">coupon.coupon</field>
        <fieldname="arch"type="xml">
            <treestring="Coupons"create="false"edit="false"delete="false">
                <fieldname="code"/>
                <fieldname="expiration_date"/>
                <fieldname="program_id"/>
                <fieldname="partner_id"/>
                <fieldname="state"/>
            </tree>
        </field>
    </record>

    <recordid="coupon_action"model="ir.actions.act_window">
        <fieldname="name">Coupons</field>
        <fieldname="res_model">coupon.coupon</field>
        <fieldname="view_id"ref="coupon_view_tree"/>
        <fieldname="domain">[('program_id','=',active_id)]</field>
        <fieldname="context">{}</field>
    </record>


    <recordid="coupon_view_form"model="ir.ui.view">
        <fieldname="name">coupon.coupon.form</field>
        <fieldname="model">coupon.coupon</field>
        <fieldname="arch"type="xml">
            <formstring="Coupons"create="false"edit="false"delete="false">
                <header>
                    <buttonname="action_coupon_sent"type="object"string="SendbyEmail"class="oe_highlight"attrs="{'invisible':[('state','notin',['new','sent'])]}"/>
                    <buttonname="action_coupon_cancel"type="object"string="Cancel"class="oe_highlight"attrs="{'invisible':[('state','!=','new')]}"/>
                    <fieldname="state"widget="statusbar"statusbar_visible="new,sent,used,expired"context="{'state':state}"/>
                </header>
                <sheet>
                    <group>
                        <fieldname="code"/>
                        <fieldname="expiration_date"/>
                        <fieldname="partner_id"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

</flectra>
