<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
    <recordid="product_template_tree_view"model="ir.ui.view">
        <fieldname="name">product.template.product.tree</field>
        <fieldname="model">product.template</field>
        <fieldname="arch"type="xml">
            <treestring="Product"multi_edit="1"sample="1">
                <fieldname="product_variant_count"invisible="1"/>
                <fieldname="sale_ok"invisible="1"/>
                <fieldname="currency_id"invisible="1"/>
                <fieldname="cost_currency_id"invisible="1"/>

                <fieldname="sequence"widget="handle"readonly="1"/>
                <fieldname="name"string="ProductName"/>
                <fieldname="default_code"optional="show"/>
                <fieldname="barcode"optional="hide"attrs="{'readonly':[('product_variant_count','>',1)]}"/>
                <fieldname="company_id"options="{'no_create':True}"
                    groups="base.group_multi_company"optional="hide"/>
                <fieldname="list_price"string="SalesPrice"widget='monetary'options="{'currency_field':'currency_id'}"optional="show"decoration-muted="notsale_ok"/>
                <fieldname="standard_price"widget='monetary'options="{'currency_field':'cost_currency_id'}"optional="show"readonly="1"/>
                <fieldname="categ_id"optional="hide"/>
                <fieldname="type"optional="hide"readonly="1"/>
                <fieldname="uom_id"readonly="1"optional="show"groups="uom.group_uom"/>
                <fieldname="active"invisible="1"/>
                <fieldname="activity_exception_decoration"widget="activity_exception"/>
            </tree>
        </field>
    </record>

    <recordid="product_template_only_form_view"model="ir.ui.view">
        <fieldname="name">product.template.product.form</field>
        <fieldname="model">product.template</field>
        <fieldname="mode">primary</field>
        <fieldname="priority"eval="8"/>
        <fieldname="inherit_id"ref="product.product_template_form_view"/>
        <fieldname="arch"type="xml">
            <xpathexpr="//form"position="attributes">
                <attributename="name">ProductTemplate</attribute>
            </xpath>
            <fieldname="categ_id"position="after">
                <fieldname="default_code"attrs="{'invisible':[('product_variant_count','>',1)]}"/>
                <fieldname="barcode"attrs="{'invisible':[('product_variant_count','>',1)]}"/>
            </field>

            <divname="button_box"position="inside">
                <buttonname="%(product.product_variant_action)d"type="action"
                    icon="fa-sitemap"class="oe_stat_button"
                    attrs="{'invisible':[('product_variant_count','&lt;=',1)]}"
                    groups="product.group_product_variant">
                    <fieldstring="Variants"name="product_variant_count"widget="statinfo"/>
                </button>
            </div>

            <xpathexpr="//page[@name='general_information']"position="after">
                <pagename="variants"string="Variants"groups="product.group_product_variant">
                    <fieldname="attribute_line_ids"widget="one2many"context="{'show_attribute':False}">
                        <treestring="Variants"editable="bottom">
                            <fieldname="attribute_id"attrs="{'readonly':[('id','!=',False)]}"/>
                            <fieldname="value_ids"widget="many2many_tags"options="{'no_create_edit':True}"context="{'default_attribute_id':attribute_id,'show_attribute':False}"/>
                        </tree>
                    </field>
                        <pclass="oe_greyoe_edit_only">
                        <strong>Warning</strong>:addingordeletingattributes
                        willdeleteandrecreateexistingvariantsandlead
                        tothelossoftheirpossiblecustomizations.
                    </p>
                </page>
            </xpath>
        </field>
    </record>

    <recordid="product_template_kanban_view"model="ir.ui.view">
        <fieldname="name">Product.template.product.kanban</field>
        <fieldname="model">product.template</field>
        <fieldname="arch"type="xml">
            <kanbansample="1">
                <fieldname="id"/>
                <fieldname="product_variant_count"/>
                <fieldname="currency_id"/>
                <fieldname="activity_state"/>
                <progressbarfield="activity_state"colors='{"planned":"success","today":"warning","overdue":"danger"}'/>
                <templates>
                    <tt-name="kanban-box">
                        <divclass="oe_kanban_global_click">
                            <divclass="o_kanban_image">
                                <imgt-att-src="kanban_image('product.template','image_128',record.id.raw_value)"alt="Product"class="o_image_64_contain"/>
                            </div>
                            <divclass="oe_kanban_details">
                                <strongclass="o_kanban_record_title">
                                    <fieldname="name"/>
                                </strong>
                                <tt-if="record.default_code.value">[<fieldname="default_code"/>]</t>
                                <divt-if="record.product_variant_count.value&gt;1"groups="product.group_product_variant">
                                    <strong>
                                        <tt-esc="record.product_variant_count.value"/>Variants
                                    </strong>
                                </div>
                                <divname="product_lst_price"class="mt-1">
                                    Price:<fieldname="lst_price"widget="monetary"options="{'currency_field':'currency_id','field_digits':True}"></field>
                                </div>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <recordid="product_template_view_activity"model="ir.ui.view">
        <fieldname="name">product.template.activity</field>
        <fieldname="model">product.template</field>
        <fieldname="arch"type="xml">
            <activitystring="Products">
                <fieldname="id"/>
                <templates>
                    <divt-name="activity-box">
                        <imgt-att-src="activity_image('product.template','image_128',record.id.raw_value)"role="img"t-att-title="record.id.value"t-att-alt="record.id.value"/>
                        <div>
                            <fieldname="name"display="full"/>
                            <divt-if="record.default_code.value"class="text-muted">
                                [<fieldname="default_code"/>]
                            </div>
                        </div>
                    </div>
                </templates>
            </activity>
        </field>
    </record>

    <recordid="product_template_action"model="ir.actions.act_window">
        <fieldname="name">Products</field>
        <fieldname="type">ir.actions.act_window</field>
        <fieldname="res_model">product.template</field>
        <fieldname="view_mode">kanban,tree,form</field>
        <fieldname="view_id"ref="product_template_kanban_view"/>
        <fieldname="search_view_id"ref="product.product_template_search_view"/>
        <fieldname="context">{"search_default_filter_to_sell":1}</field>
        <fieldname="help"type="html">
            <pclass="o_view_nocontent_smiling_face">
                Createanewproduct
            </p><p>
                Youmustdefineaproductforeverythingyousellorpurchase,
                whetherit'sastorableproduct,aconsumableoraservice.
            </p>
        </field>
    </record>

    <recordid="action_product_template_price_list_report"model="ir.actions.server">
        <fieldname="name">GeneratePricelist</field>
        <fieldname="groups_id"eval="[(4,ref('product.group_product_pricelist'))]"/>
        <fieldname="model_id"ref="product.model_product_template"/>
        <fieldname="binding_model_id"ref="product.model_product_template"/>
        <fieldname="state">code</field>
        <fieldname="code">
ctx=env.context
ctx.update({'default_pricelist':env['product.pricelist'].search([],limit=1).id})
action={
    'name':'PricelistReport',
    'type':'ir.actions.client',
    'tag':'generate_pricelist',
    'context':ctx,
}
        </field>
    </record>

</flectra>
