<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
    <data>

        <recordmodel="ir.ui.view"id="product_pricelist_item_view_search">
            <fieldname="name">product.pricelist.item.search</field>
            <fieldname="model">product.pricelist.item</field>
            <fieldname="arch"type="xml">
                <searchstring="ProductsPriceRulesSearch">
                    <filtername="ProductRule"domain="[('applied_on','=','1_product')]"/>
                    <filtername="VariantRule"domain="[('applied_on','=','0_product_variant')]"groups="product.group_product_variant"/>
                    <separator/>
                    <fieldname="pricelist_id"/>
                    <fieldname="company_id"groups="base.group_multi_company"/>
                    <fieldname="currency_id"groups="base.group_multi_currency"/>
                    <filterstring="Archived"name="inactive"domain="[('active','=',False)]"/>
                    <groupexpand="0"string="GroupBy">
                        <filterstring="Product"name="groupby_product"domain="[]"context="{'group_by':'product_tmpl_id'}"/>
                        <filterstring="Variant"
                          name="groupby_product_variant"
                          domain="[('applied_on','=','0_product_variant')]"
                          context="{'group_by':'product_tmpl_id'}"
                          groups="product.group_product_variant"/>
                        <filterstring="Pricelist"
                          name="groupby_vendor"
                          domain="[]"
                          context="{'group_by':'pricelist_id'}"
                          groups="product.group_product_pricelist"/>
                    </group>
                </search>
            </field>
        </record>

        <recordid="product_pricelist_item_tree_view"model="ir.ui.view">
          <fieldname="name">product.pricelist.item.tree</field>
          <fieldname="model">product.pricelist.item</field>
          <fieldname="priority">10</field>
          <fieldname="arch"type="xml">
            <treestring="PriceRules">
              <fieldname="pricelist_id"/>
              <fieldname="name"string="AppliedOn"/>
              <fieldname="price"/>
              <fieldname="min_quantity"colspan="4"/>
              <fieldname="date_start"optional="hide"/>
              <fieldname="date_end"optional="hide"/>
              <fieldname="company_id"groups="base.group_multi_company"optional="show"/>
            </tree>
          </field>
        </record>

        <recordid="product_pricelist_item_tree_view_from_product"model="ir.ui.view">
            <!--Accessandeditpricerulesfromagivenproduct/productvariant-->
            <fieldname="name">product.pricelist.item.tree</field>
            <fieldname="model">product.pricelist.item</field>
            <fieldname="priority">100</field>
            <fieldname="arch"type="xml">
                <treestring="PricelistItems"editable="bottom">
                    <!--Scope=comingfromaproduct/producttemplate-->
                    <fieldname="pricelist_id"string="Pricelist"options="{'no_create_edit':1,'no_open':1}"/>
                    <fieldname="name"string="AppliedOn"/>
                    <fieldname="categ_id"invisible="1"/>
                    <fieldname="product_tmpl_id"
                      invisible="context.get('active_model')!='product.category'"
                      attrs="{'required':[('applied_on','=','1_product')]}"
                      domain="[('categ_id','=',context.get('default_categ_id',True)),'|',('company_id','=',company_id),('company_id','=',False)]"
                      options="{'no_create_edit':1,'no_open':1}"/>
                    <fieldname="product_id"
                      groups="product.group_product_variant"
                      invisible="context.get('product_without_variants',False)"
                      readonly="context.get('active_model')=='product.product'"
                      attrs="{'required':[('applied_on','=','0_product_variant')]}"
                      domain="['|','|',
                        ('id','=',context.get('default_product_id',0)),
                        ('product_tmpl_id','=',context.get('default_product_tmpl_id',0)),
                        ('categ_id','=',context.get('default_categ_id',0)),'|',('company_id','=',company_id),('company_id','=',False)
                      ]"
                      options="{'no_create_edit':1,'no_open':1}"
                      />
                    <fieldname="min_quantity"colspan="4"/>
                    <fieldname="currency_id"invisible="1"/>
                    <fieldname="fixed_price"string="Price"required='1'/>
                    <fieldname="date_start"optional="show"/>
                    <fieldname="date_end"optional="show"/>
                    <fieldname="applied_on"invisible="1"/>
                    <fieldname="company_id"groups="base.group_multi_company"optional="show"options="{'no_create':1,'no_open':1}"/>
                </tree>
            </field>
        </record>

        <recordid="product_pricelist_item_form_view"model="ir.ui.view">
            <fieldname="name">product.pricelist.item.form</field>
            <fieldname="model">product.pricelist.item</field>
            <fieldname="arch"type="xml">
                <formstring="PricelistItems">
                    <sheet>
                      <h1><fieldname="name"/></h1>
                      <group>
                          <groupname="pricelist_rule_target">
                              <fieldname="applied_on"widget="radio"/>
                              <fieldname="categ_id"attrs="{
                                  'invisible':[('applied_on','!=','2_product_category')],
                                  'required':[('applied_on','=','2_product_category')]}"
                                options="{'no_create':1}"/>
                              <fieldname="product_tmpl_id"attrs="{
                                'invisible':[('applied_on','!=','1_product')],
                                'required':[('applied_on','=','1_product')]}"
                                options="{'no_create':1}"/>
                              <fieldname="product_id"attrs="{
                                'invisible':[('applied_on','!=','0_product_variant')],
                                'required':[('applied_on','=','0_product_variant')]}"
                                options="{'no_create':1}"/>
                          </group>
                          <groupname="pricelist_rule_limits">
                              <fieldname="min_quantity"/>
                              <fieldname="date_start"/>
                              <fieldname="date_end"/>
                          </group>
                          <groupname="pricelist_rule_related"groups="base.group_no_one">
                              <!--InfosfromthepricelistforUIrendering(monetaryfields,...)-->
                              <fieldname="pricelist_id"invisible="1"/>
                              <fieldname="currency_id"groups="base.group_multi_currency"/>
                              <fieldname="company_id"groups="base.group_multi_company"/>
                          </group>
                      </group>
                      <groupstring="PriceComputation"name="pricelist_rule_computation"groups="product.group_sale_pricelist">
                          <groupname="pricelist_rule_method">
                              <fieldname="compute_price"string="ComputePrice"widget="radio"/>
                          </group>
                          <groupname="pricelist_rule_base">
                              <fieldname="fixed_price"attrs="{'invisible':[('compute_price','!=','fixed')]}"/>
                              <labelfor="percent_price"attrs="{'invisible':[('compute_price','!=','percentage')]}"/>
                              <divattrs="{'invisible':[('compute_price','!=','percentage')]}">
                                  <fieldname="percent_price"
                                    class="oe_inline"
                                    attrs="{'invisible':[('compute_price','!=','percentage')]}"/>
                                  %%
                              </div>
                              <fieldname="base"attrs="{'invisible':[('compute_price','!=','formula')]}"/>
                              <fieldname="base_pricelist_id"attrs="{
                                'invisible':['|',('compute_price','!=','formula'),('base','!=','pricelist')],
                                'required':[('compute_price','=','formula'),('base','=','pricelist')],
                                'readonly':[('base','!=','pricelist')]}"/>
                          </group>
                      </group>
                      <divclass="oe_grey"groups="uom.group_uom">
                          <p>ThecomputedpriceisexpressedinthedefaultUnitofMeasureoftheproduct.</p>
                      </div>
                      <groupname="pricelist_rule_advanced"col="6"attrs="{'invisible':[('compute_price','!=','formula')]}"groups="product.group_sale_pricelist">
                          <labelfor="base"string="NewPrice="/>
                          <div>
                              <spanattrs="{'invisible':[('base','!=','list_price')]}">SalesPrice - </span>
                              <spanattrs="{'invisible':[('base','!=','standard_price')]}">Cost - </span>
                              <spanattrs="{'invisible':[('base','!=','pricelist')]}">OtherPricelist - </span>
                          </div>
                          <labelfor="price_discount"/>
                          <divclass="o_row">
                              <fieldname="price_discount"/>
                              <span>%%</span>
                          </div>
                          <labelstring="+"for="price_surcharge"/>
                          <fieldname="price_surcharge"nolabel="1"/>

                          <fieldname="price_round"string="RoundingMethod"/>
                          <fieldname="price_min_margin"string="Min.Margin"/>
                          <fieldname="price_max_margin"string="Max.Margin"/>
                      </group>
                    </sheet>
                </form>
            </field>
        </record>

        <recordmodel="ir.ui.view"id="product_pricelist_view_search">
            <fieldname="name">product.pricelist.search</field>
            <fieldname="model">product.pricelist</field>
            <fieldname="arch"type="xml">
                <searchstring="ProductsPriceSearch">
                    <fieldname="name"string="ProductsPrice"/>
                    <fieldname="currency_id"groups="base.group_multi_currency"/>
                    <filterstring="Archived"name="inactive"domain="[('active','=',False)]"/>
                </search>
            </field>
        </record>


        <recordid="product_pricelist_view_tree"model="ir.ui.view">
            <fieldname="name">product.pricelist.tree</field>
            <fieldname="model">product.pricelist</field>
            <fieldname="arch"type="xml">
                <treestring="ProductsPriceList"sample="1">
                    <fieldname="sequence"widget="handle"/>
                    <fieldname="name"/>
                    <fieldname="discount_policy"groups="product.group_discount_per_so_line"/>
                    <fieldname="currency_id"groups="base.group_multi_currency"/>
                    <fieldname="company_id"groups="base.group_multi_company"/>
                </tree>
            </field>
        </record>

        <recordid="product_pricelist_view_kanban"model="ir.ui.view">
            <fieldname="name">product.pricelist.kanban</field>
            <fieldname="model">product.pricelist</field>
            <fieldname="arch"type="xml">
                <kanbanclass="o_kanban_mobile"sample="1">
                    <templates>
                        <tt-name="kanban-box">
                            <divt-attf-class="oe_kanban_global_click">
                                <divid="product_pricelist"class="o_kanban_record_topmb0">
                                    <divclass="o_kanban_record_headings">
                                        <strongclass="o_kanban_record_title"><span><fieldname="name"/></span></strong>
                                    </div>
                                    <strong><iclass="fafa-money"role="img"aria-label="Currency"title="Currency"></i><fieldname="currency_id"/></strong>
                                </div>
                                <fieldname="discount_policy"groups="product.group_discount_per_so_line"/>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>

        <recordid="product_pricelist_view"model="ir.ui.view">
            <fieldname="name">product.pricelist.form</field>
            <fieldname="model">product.pricelist</field>
            <fieldname="arch"type="xml">
                <formstring="ProductsPriceList">
                    <sheet>
                        <widgetname="web_ribbon"title="Archived"bg_color="bg-danger"attrs="{'invisible':[('active','=',True)]}"/>
                        <divclass="oe_title">
                            <h1><fieldname="name"placeholder="e.g.USDRetailers"/></h1>
                        </div>
                        <group>
                          <groupname="pricelist_settings">
                              <fieldname="currency_id"groups="base.group_multi_currency"/>
                              <fieldname="active"invisible="1"/>
                              <fieldname="company_id"groups="base.group_multi_company"options="{'no_create':True}"/>
                          </group>
                        </group>
                        <notebook>
                            <pagename="pricelist_rules"string="PriceRules">
                              <fieldname="item_ids"nolabel="1"context="{'default_base':'list_price'}">
                                  <treestring="PricelistItems"editable="bottom">
                                      <fieldname="product_tmpl_id"string="Products"required="1"/>
                                      <fieldname="product_id"string="Variants"
                                        groups="product.group_product_variant"
                                        domain="[('product_tmpl_id','=',product_tmpl_id)]"
                                        options="{'no_create':1}"/>
                                      <fieldname="min_quantity"/>
                                      <fieldname="fixed_price"string="Price"/>
                                      <fieldname="currency_id"invisible="1"/>
                                      <fieldname="pricelist_id"invisible="1"/>
                                      <!--PricelistIDishereonlyforrelatedfieldstobecorrectlycomputed-->
                                      <fieldname="date_start"/>
                                      <fieldname="date_end"/>
                                      <fieldname="base"invisible="1"/>
                                      <fieldname="applied_on"invisible="1"/>
                                      <fieldname="company_id"invisible="1"/>
                                  </tree>
                              </field>
                            </page>
                            <pagename="pricelist_config"string="Configuration">
                                <group>
                                    <groupname="pricelist_availability"string="Availability">
                                        <fieldname="country_group_ids"widget="many2many_tags"/>
                                    </group>
                                    <groupname="pricelist_discounts"groups="product.group_discount_per_so_line"string="Discounts">
                                        <fieldname="discount_policy"widget="radio"/>
                                    </group>
                                </group>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>

        <recordid="product_pricelist_view_inherit"model="ir.ui.view">
            <fieldname="name">product.pricelist.form.inherit</field>
            <fieldname="model">product.pricelist</field>
            <fieldname="inherit_id"ref="product.product_pricelist_view"/>
            <fieldname="groups_id"eval="[(4,ref('product.group_sale_pricelist'))]"/>
            <fieldname="arch"type="xml">
                <!--Wheninadvancedpricelistmode:pricelistrules
                  Shouldopeninaformviewandnotbeeditableinlineanymore.
                -->
                <fieldname="item_ids"position="replace">
                  <fieldname="item_ids"nolabel="1"context="{'default_base':'list_price'}"groups="product.group_product_pricelist">
                      <treestring="PricelistItems">
                          <fieldname="name"string="ApplicableOn"/>
                          <fieldname="min_quantity"/>
                          <fieldname="price"string="Price"/>
                          <fieldname="date_start"/>
                          <fieldname="date_end"/>
                          <fieldname="base"invisible="1"/>
                          <fieldname="price_discount"invisible="1"/>
                          <fieldname="applied_on"invisible="1"/>
                          <fieldname="compute_price"invisible="1"/>
                      </tree>
                  </field>
                </field>
            </field>
        </record>

        <recordmodel="ir.ui.view"id="inherits_website_sale_country_group_form">
            <fieldname="name">website_sale.country_group.form</field>
            <fieldname="model">res.country.group</field>
            <fieldname="inherit_id"ref="base.view_country_group_form"/>
            <fieldname="arch"type="xml">
                <groupname="country_group"position="after">
                    <fieldname="pricelist_ids"/>
                </group>
            </field>
        </record>
        <recordid="product_pricelist_action2"model="ir.actions.act_window">
            <fieldname="name">Pricelists</field>
            <fieldname="type">ir.actions.act_window</field>
            <fieldname="res_model">product.pricelist</field>
            <fieldname="view_mode">tree,kanban,form</field>
            <fieldname="search_view_id"ref="product_pricelist_view_search"/>
            <fieldname="context">{"default_base":'list_price'}</field>
            <fieldname="help"type="html">
              <pclass="o_view_nocontent_smiling_face">
                Createanewpricelist
              </p><p>
                Apriceisasetofsalespricesorrulestocomputethepriceofsalesorderlinesbasedonproducts,productcategories,datesandorderedquantities.
                Thisistheperfecttooltohandleseveralpricings,seasonaldiscounts,etc.
              </p><p>
                Youcanassignpriceliststoyourcustomersorselectonewhencreatinganewsalesquotation.
              </p>
            </field>
        </record>

        <recordid="product_pricelist_item_action"model="ir.actions.act_window">
            <fieldname="name">PriceRules</field>
            <fieldname="type">ir.actions.act_window</field>
            <fieldname="res_model">product.pricelist.item</field>
            <fieldname="view_mode">tree,form</field>
        </record>
    </data>
</flectra>
