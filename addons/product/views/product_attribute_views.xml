<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
    <recordid="attribute_tree_view"model="ir.ui.view">
        <fieldname="name">product.attribute.tree</field>
        <fieldname="model">product.attribute</field>
        <fieldname="arch"type="xml">
            <treestring="VariantValues">
                <fieldname="sequence"widget="handle"/>
                <fieldname="name"/>
                <fieldname="display_type"/>
                <fieldname="create_variant"/>
            </tree>
        </field>
    </record>

    <recordid="product_attribute_view_form"model="ir.ui.view">
        <fieldname="name">product.attribute.form</field>
        <fieldname="model">product.attribute</field>
        <fieldname="arch"type="xml">
            <formstring="ProductAttribute">
            <fieldname="is_used_on_products"invisible="1"/>
            <sheet>
                <groupname="main_fields"class="o_label_nowrap">
                    <labelfor="name"string="AttributeName"/>
                    <fieldname="name"nolabel="1"/>
                    <fieldname="display_type"widget="radio"/>
                    <fieldname="create_variant"widget="radio"attrs="{'readonly':[('is_used_on_products','=',True)]}"/>
                </group>
                <notebook>
                    <pagestring="AttributeValues"name="attribute_values">
                        <fieldname="value_ids"widget="one2many"nolabel="1">
                            <treestring="Values"editable="bottom">
                                <fieldname="sequence"widget="handle"/>
                                <fieldname="name"/>
                                <fieldname="display_type"invisible="1"/>
                                <fieldname="is_custom"groups="product.group_product_variant"/>
                                <fieldname="html_color"attrs="{'column_invisible':[('parent.display_type','!=','color')]}"widget="color"/>
                            </tree>
                        </field>
                    </page>
                    <pagestring="RelatedProducts"name="related_products"attrs="{'invisible':[('is_used_on_products','=',False)]}">
                        <fieldname="product_tmpl_ids">
                            <tree>
                                <fieldname="name"/>
                            </tree>
                        </field>
                    </page>
                </notebook>
            </sheet>
            </form>
        </field>
    </record>

    <recordid="attribute_action"model="ir.actions.act_window">
        <fieldname="name">Attributes</field>
        <fieldname="type">ir.actions.act_window</field>
        <fieldname="res_model">product.attribute</field>
        <fieldname="view_mode">tree,form</field>
    </record>

    <recordid="product_template_attribute_line_form"model="ir.ui.view">
        <fieldname="name">product.template.attribute.line.form</field>
        <fieldname="model">product.template.attribute.line</field>
        <fieldname="mode">primary</field>
        <fieldname="priority"eval="8"/>
        <fieldname="arch"type="xml">
            <formstring="ProductAttributeandValues">
                <groupname="main_field">
                    <labelfor="attribute_id"string="AttributeName"/>
                    <fieldname="attribute_id"nolabel="1"/>
                    <fieldname="value_ids"widget="one2many">
                        <treestring="Values">
                            <fieldname="name"/>
                            <fieldname="html_color"/>
                        </tree>
                        <formstring="Values">
                            <fieldname="name"/>
                        </form>
                    </field>
                </group>
            </form>
        </field>
    </record>

    <recordid="product_template_attribute_value_view_tree"model="ir.ui.view">
        <fieldname="name">product.template.attribute.value.view.tree</field>
        <fieldname="model">product.template.attribute.value</field>
        <fieldname="type">tree</field>
        <fieldname="arch"type="xml">
            <treestring="Attributes"create="0"delete="0">
                <fieldname="attribute_id"/>
                <fieldname="name"/>
                <fieldname="display_type"/>
                <fieldname="html_color"attrs="{'invisible':[('display_type','!=','color')]}"widget="color"/>
                <fieldname="ptav_active"optional="hide"/>
                <fieldname="price_extra"widget="monetary"options="{'field_digits':True}"/>
                <fieldname="currency_id"invisible="1"/>
            </tree>
        </field>
    </record>

    <recordid="product_template_attribute_value_view_form"model="ir.ui.view">
        <fieldname="name">product.template.attribute.value.view.form.</field>
        <fieldname="model">product.template.attribute.value</field>
        <fieldname="type">form</field>
        <fieldname="arch"type="xml">
            <formstring="ProductAttribute"create="0"delete="0">
                <sheet>
                    <group>
                        <fieldname="ptav_active"readonly="1"attrs="{'invisible':[('ptav_active','=',True)]}"/>
                        <fieldname="name"/>
                        <fieldname="display_type"invisible="1"/>
                        <fieldname="html_color"attrs="{'invisible':[('display_type','!=','color')]}"/>
                        <fieldname="price_extra"widget="monetary"options="{'field_digits':True}"/>
                        <fieldname="currency_id"invisible="1"/>
                        <fieldname="exclude_for"widget="one2many"mode="tree">
                            <treeeditable="bottom">
                                <fieldname="product_tmpl_id"/>
                                <fieldname="value_ids"widget="many2many_tags"options="{'no_create':True}"/>
                            </tree>
                        </field>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <recordid="product_template_attribute_value_view_search"model="ir.ui.view">
        <fieldname="model">product.template.attribute.value</field>
        <fieldname="arch"type="xml">
            <search>
                <fieldname="name"/>
                <filterstring="Active"name="active"domain="[('ptav_active','=',True)]"/>
                <filterstring="Inactive"name="inactive"domain="[('ptav_active','=',False)]"/>
            </search>
        </field>
    </record>

    <recordid="product_attribute_value_action"model="ir.actions.act_window">
        <fieldname="name">ProductVariantValues</field>
        <fieldname="res_model">product.template.attribute.value</field>
        <fieldname="view_mode">tree,form</field>
        <fieldname="domain">[('product_tmpl_id','=',active_id)]</field>
        <fieldname="view_ids"
                eval="[(5,0,0),
                (0,0,{'view_mode':'tree','view_id':ref('product.product_template_attribute_value_view_tree')}),
                (0,0,{'view_mode':'form','view_id':ref('product.product_template_attribute_value_view_form')})]"/>
        <fieldname="context">{
            'default_product_tmpl_id':active_id,
            'search_default_active':1,
        }</field>
    </record>

</flectra>
