<?xmlversion="1.0"encoding="UTF-8"?>
<flectra>

  <!--TODOensurebarcodeworkingwithmatrix(configuratormobiletask?)-->

  <recordid="purchase_order_form_matrix"model="ir.ui.view">
    <fieldname="name">purchase.order.form.inherit.matrix</field>
    <fieldname="model">purchase.order</field>
    <fieldname="inherit_id"ref="purchase.purchase_order_form"/>
    <fieldname="arch"type="xml">
      <xpathexpr="//tree/field[@name='product_id']"position="attributes">
          <attributename="invisible">1</attribute>
      </xpath>
      <xpathexpr="//tree/field[@name='product_id']"position="after">
          <fieldname="product_template_id"
            string="Product"
            attrs="{
                'readonly':[('state','in',('purchase','toapprove','done','cancel'))],
                'required':[('display_type','=',False)],
            }"
            options="{'no_open':True}"
            context="{'partner_id':parent.partner_id}"
            widget="matrix_configurator"/>
          <fieldname="product_template_attribute_value_ids"invisible="1"/>
          <fieldname="product_no_variant_attribute_value_ids"invisible="1"/>
          <fieldname="is_configurable_product"invisible="1"/>
      </xpath>
      <fieldname="partner_id"position="after">
          <fieldname="grid"invisible="1"/>
          <fieldname="grid_product_tmpl_id"invisible="1"/>
          <fieldname="grid_update"invisible="1"/>
      </field>
      <xpathexpr="//group[@name='other_info']"position="inside">
          <fieldname="report_grids"groups="base.group_no_one"/>
      </xpath>
    </field>
  </record>

</flectra>
