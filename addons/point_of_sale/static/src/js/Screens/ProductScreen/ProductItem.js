flectra.define('point_of_sale.ProductItem',function(require){
    'usestrict';

    constPosComponent=require('point_of_sale.PosComponent');
    constRegistries=require('point_of_sale.Registries');

    classProductItemextendsPosComponent{
        /**
         *Foraccessibility,pressing<space>shouldbelikeclickingtheproduct.
         *<enter>isnotconsideredbecauseitconflictswiththebarcode.
         *
         *@param{KeyPressEvent}event
         */
        spaceClickProduct(event){
            if(event.which===32){
                this.trigger('click-product',this.props.product);
            }
        }
        getimageUrl(){
            constproduct=this.props.product;
            return`/web/image?model=product.product&field=image_128&id=${product.id}&write_date=${product.write_date}&unique=1`;
        }
        getpricelist(){
            constcurrent_order=this.env.pos.get_order();
            if(current_order){
                returncurrent_order.pricelist;
            }
            returnthis.env.pos.default_pricelist;
        }
        getprice(){
            constformattedUnitPrice=this.env.pos.format_currency(
                this.props.product.get_display_price(this.pricelist,1),
                'ProductPrice'
            );
            if(this.props.product.to_weight){
                return`${formattedUnitPrice}/${
                    this.env.pos.units_by_id[this.props.product.uom_id[0]].name
                }`;
            }else{
                returnformattedUnitPrice;
            }
        }
    }
    ProductItem.template='ProductItem';

    Registries.Component.add(ProductItem);

    returnProductItem;
});
