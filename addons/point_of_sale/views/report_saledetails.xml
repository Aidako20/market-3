<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
<data>
<templateid="report_saledetails">
    <tt-set="company"t-value="env.company"/>
    <tt-call="web.html_container">
    <tt-call="web.internal_layout">
        <divclass="page">

            <divclass="text-center">
                <h2>SalesDetails</h2>

                <strong><tt-esc="date_start"t-options="{'widget':'datetime'}"/>-<tt-esc="date_stop"t-options="{'widget':'datetime'}"/></strong>
            </div>

            <!--Orderlines-->
            <h3>Products</h3>
            <table class="tabletable-sm">
                <thead><tr>
                    <th>Product</th>
                    <th>Quantity</th>
                    <th>PriceUnit</th>
                </tr></thead>
                <tbody>
                <trt-foreach='products't-as='line'>
                    <tt-set="internal_reference"t-value="line['code']and'[%s]'%line['code']or''"/>
                    <td><tt-esc="internal_reference"/><tt-esc="line['product_name']"/></td>
                    <td>
                        <tt-esc="line['quantity']"/>
                        <tt-if='line["uom"]!="Units"'>
                            <tt-esc='line["uom"]'/>
                        </t>
                    </td>
                    <td>
                        <tt-esc='line["price_unit"]'/>
                    <tt-if='line["discount"]!=0'>
                        Disc:<tt-esc='line["discount"]'/>%
                    </t>
                    </td>
                </tr>
                </tbody>
            </table>

            <br/>

            <h3>Payments</h3>
            <table class="tabletable-sm">
                <thead><tr>
                    <th>Name</th>
                    <th>Total</th>
                </tr></thead>
                <tbody>
                <trt-foreach='payments't-as='payment'>
                    <td><tt-esc="payment['name']"/></td>
                    <td><tt-esc="payment['total']"t-options="{'widget':'float','precision':currency_precision}"/></td>
                </tr>
                </tbody>
            </table>

            <br/>

            <h3>Taxes</h3>
            <table class="tabletable-sm">
                <thead><tr>
                    <th>Name</th>
                    <th>TaxAmount</th>
                    <th>BaseAmount</th>
                </tr></thead>
                <tbody>
                <trt-foreach='taxes't-as='tax'>
                    <td><tt-esc="tax['name']"/></td>
                    <td><tt-esc="tax['tax_amount']"t-options="{'widget':'float','precision':currency_precision}"/></td>
                    <td><tt-esc="tax['base_amount']"t-options="{'widget':'float','precision':currency_precision}"/></td>
                </tr>
                </tbody>
            </table>

            <br/>
            <br/>

            <strong>Total:<tt-esc='total_paid't-options="{'widget':'float','precision':currency_precision}"/></strong>

        </div>
    </t>
    </t>
</template>
</data>
</flectra>
