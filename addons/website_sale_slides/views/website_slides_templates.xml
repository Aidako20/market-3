<?xmlversion="1.0"?>
<flectra><data>

<!--LESSON-->
<templateid="lesson_content_quiz"inherit_id="website_slides.lesson_content_quiz">
    <xpathexpr="//div[hasclass('o_wslides_js_lesson_quiz')]"position="attributes">
        <attributename="t-att-data-price">product_info['price']ifproduct_infoelseNone</attribute>
        <attributename="t-att-data-currency-name">product_info['currency_id'].nameifproduct_infoelseNone</attribute>
        <attributename="t-att-data-currency-symbol">product_info['currency_id'].symbolifproduct_infoelseNone</attribute>
        <attributename="t-att-data-has-discounted-price">product_info['has_discounted_price']ifproduct_infoelseNone</attribute>
        <attributename="t-att-data-product-id">slide.channel_id.product_id.idifslide.channel_id.product_idelseNone</attribute>
        <attributename="t-att-data-list-price">product_info['list_price']ifproduct_infoelseNone</attribute>
    </xpath>
</template>

<templatename="BuyCourseToDownloadResource"id="slide_aside_training_category_buy_course"inherit_id="website_slides.slide_aside_training_category">
    <xpathexpr="//div[hasclass('o_wslides_js_course_join')]"position="inside">
        <lit-elif="aside_slide.channel_id.enroll=='payment'"class="text-decoration-nonesmall">
            <iclass="fafa-downloadmr-1"/>
            <tt-call="website_sale_slides.course_buy_course_link">
                <tt-set="slide"t-value="aside_slide"/>
            </t>
        </li>
    </xpath>
</template>

<templatename="BuyCourseToDownloadResourceSlideDetail"id="slide_content_detailed_buy_course"inherit_id="website_slides.slide_content_detailed">
    <xpathexpr="//div[hasclass('o_wslides_js_course_join')]"position="inside">
        <spant-elif="slide.channel_id.enroll=='payment'"class="text-mutedmr-autoborder-leftpl-3">
            <tt-call="website_sale_slides.course_buy_course_link"/>
        </span>
    </xpath>
</template>

<!--Tweak"preview"badge:displayFreePreviewifpayment-basedcourse-->
<templateid="course_slides_list_slide"
    name="Slidetemplateforatrainingchannel(Sale)"
    inherit_id="website_slides.course_slides_list_slide">
    <xpathexpr="//a[@t-if='channel.can_upload']/span/span"position="replace">
        <spant-if="channel.enroll=='payment'">FreePreview</span>
        <spant-else="">Preview</span>
    </xpath>
    <xpathexpr="//t[@t-elif='slide.is_previewandnotchannel.is_member']/span/span"position="replace">
        <spant-if="channel.enroll=='payment'">FreePreview</span>
        <spant-else="">Preview</span>
    </xpath>
</template>

<!--FULLSCREEN-->
<templateid="slide_fullscreen"inherit_id="website_slides.slide_fullscreen">
    <xpathexpr="//div[hasclass('o_wslides_fs_main')]"position="attributes">
        <attributename="t-att-data-price">product_info['price']ifproduct_infoelseNone</attribute>
        <attributename="t-att-data-currency-name">product_info['currency_id'].nameifproduct_infoelseNone</attribute>
        <attributename="t-att-data-currency-symbol">product_info['currency_id'].symbolifproduct_infoelseNone</attribute>
        <attributename="t-att-data-has-discounted-price">product_info['has_discounted_price']ifproduct_infoelseNone</attribute>
        <attributename="t-att-data-product-id">slide.channel_id.product_id.idifproduct_infoelseNone</attribute>
        <attributename="t-att-data-list-price">product_info['list_price']ifproduct_infoelseNone</attribute>
    </xpath>
</template>

<templatename="BuyCourseToDownloadResourceFullscreen"id="slide_fullscreen_sidebar_category_buy_course"inherit_id="website_slides.slide_fullscreen_sidebar_category">
    <xpathexpr="//div[hasclass('o_wslides_js_course_join')]"position="inside">
        <lit-elif="slide.channel_id.enroll=='payment'"class="o_wslides_fs_slide_linkmb-1">
            <iclass="fafa-downloadmr-1"/>
            <tt-call="website_sale_slides.course_buy_course_link"/>
        </li>
    </xpath>
</template>

<!--COURSE-->
<templatename="DocumentationCourseContent:addBuyButtoninnav"id="course_slides_cards_buy_course"inherit_id="website_slides.course_slides_cards">
    <xpathexpr="//nav[hasclass('navbar')]"position="before">
        <divclass="col-12col-md-4col-lg-3"
            t-if="(notchannel.is_memberorchannel.can_upload)andchannel.enroll=='payment'">
            <divclass="bg-whitepx-3py-2border-leftborder-right">
                <divclass="o_wslides_sidebar_topd-flexjustify-content-between">
                    <divclass="o_wslides_js_course_joinflex-grow-1">
                        <tt-call="website_sale_slides.course_buy_course_button"/>
                    </div>
                    <buttont-attf-class="btnd-md-nonebg-whiteml-1border#{'align-self-end'ifchannel.is_memberelse'align-self-startalert'}"type="button"data-toggle="collapse"data-target="#o_wslides_sidebar_collapse"aria-expanded="false"aria-controls="o_wslides_sidebar_collapse">Moreinfo</button>
                </div>
                <divid="o_wslides_sidebar_collapse"class="collapsed-md-block">
                    <tableclass="tabletable-smmt-3">
                        <tbody>
                            <tr>
                                <thclass="border-top-0">LastUpdate</th>
                                <tdclass="border-top-0"><tt-esc="channel.slide_last_update"t-options="{'widget':'date'}"/></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </xpath>
</template>

<templatename="CourseSidebar(infos,CTA)"id='course_sidebar'inherit_id="website_slides.course_sidebar">
    <!--Channelmaintemplate:overridebuttontojoinchannel-->
    <xpathexpr="//div[hasclass('o_wslides_js_course_join')]"position="inside">
        <tt-if="(notchannel.is_memberorchannel.can_publish)andchannel.enroll=='payment'">
            <tt-call="website_sale_slides.course_buy_course_button"/>
        </t>
    </xpath>
</template>

<!--TOOLS-->
<templatename="BuyCourseLink"id="course_buy_course_link">
    <aclass="post_link"t-att-href="'/shop/cart/update?product_id=%s'%slide.channel_id.product_id.id">
        BuyCourse</a>todownloadresources
</template>

<templatename="BuyCourseButton"id="course_buy_course_button">
    <tt-if="channel.product_id.website_published">
        <divt-attf-class="text-centerd-flexalign-items-centertext-centerpb-1#{'justify-content-between'ifproduct_info['has_discounted_price']else'justify-content-around'}">
            <divclass="css_editable_mode_hidden">
                <!--realprice-->
                <divclass="oe_pricefont-weight-boldtext-nowraph2my-2"
                     t-esc="product_info['price']"
                     t-options="{'widget':'monetary','display_currency':product_info['currency_id']}"/>
                <spanitemprop="price"style="display:none;"t-esc="product_info['price']"/>
                <spanitemprop="priceCurrency"style="display:none;"t-esc="product_info['currency_id'].name"/>
                <!--originaldiscountedprice,ifany-->
                <delt-att-class="'text-600text-nowrapoe_default_price%s'%(''ifproduct_info['has_discounted_price']else'd-none')"
                     t-esc="product_info['list_price']"
                     t-options="{'widget':'monetary','display_currency':product_info['currency_id']}"/>
            </div>
            <divclass="css_non_editable_mode_hiddendecimal_precisionoe_pricefont-weight-boldtext-nowraph2my-2"
                 t-att-data-precision="str(product_info['currency_id'].decimal_places)">
                <spant-field="channel.product_id.list_price"t-options="{'widget':'monetary','display_currency':product_info['currency_id']}"/>
            </div>
        </div>
        <divclass="oe_website_sale">
            <divclass="add_to_cart_button">
                <formaction="/shop/cart/update"method="POST">
                    <inputtype="hidden"name="csrf_token"t-att-value="request.csrf_token()"/>
                    <inputtype="hidden"class="product_id"name="product_id"t-att-value="channel.product_id.id"/>
                    <inputtype="hidden"class="product_template_id"name="product_template_id"t-att-value="channel.product_id.id"/>
                    <aid="add_to_cart"role="button"class="btnbtn-primarybtn-blockjs_check_producto_js_add_to_carta-submit"href="#">
                        <iclass="fafa-shopping-cart"></i>AddtoCart
                    </a>
                    <divid="product_option_block"/>
                </form>
            </div>
            <divclass="buy_now_button"/>
        </div>
    </t>
    <tt-else="">
        <divclass="alertmy-0bg-200text-center">
            CourseNotBuyable
        </div>
    </t>
</template>

<templatename="AllowBuyNow"id="course_option_buy_course_now"inherit_id="website_sale_slides.course_buy_course_button"active="False"customize_show="True">
    <xpathexpr="//div[hasclass('buy_now_button')]"position="inside">
        <divstyle="margin-top:5px;">
            <arole="button"class="btnbtn-outline-primarybtn-blockpost_link"t-att-href="'/shop/cart/update?product_id=%s&amp;express=1'%channel.product_id.id">
                <iclass="fafa-bolt"></i>BuyNow
            </a>
        </div>
    </xpath>
</template>

</data></flectra>
