<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
    <templateid="portal_my_task"inherit_id="project.portal_my_task"priority="40">

        <!--addabuttontotherightofthe'description'titleaccordingtothemode(edit/read)-->
        <xpathexpr="//div[@t-if='task.description']//div[hasclass('d-flex')]"position="inside">
            <tt-if="task._use_portal_pad()">
                <tt-if="request.params.get('edit')">
                    <arole="button"class="btnbtn-primarybtn-smml-auto"t-attf-href="/my/task/#{task.id}">Save</a>
                </t>
                <tt-else="">
                    <arole="button"class="btnbtn-primarybtn-smml-auto"t-attf-href="/my/task/#{task.id}?edit=1">Edit</a>
                </t>
            </t>
        </xpath>

        <!--showthedescription(readmode)orapad(editmode)-->
        <xpathexpr="//div[@t-field='task.description']"position="replace">
            <tt-if="task._use_portal_pad()">
                <tt-if="request.params.get('edit')">
                    <divclass="o_pad_project_container">
                        <iframewidth="100%"height="100%"frameborder="0"t-att-src="task.description_pad+'?showChat=false&amp;userName='+request.env.user.name"/>
                    </div>
                </t>
                <tt-else="">
                    <divclass="py-1px-2bg-100small"t-raw="task._get_pad_content()"/>
                </t>
            </t>
            <tt-else="">
                <t>$0</t>
            </t>
        </xpath>
    </template>
</flectra>
