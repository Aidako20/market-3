<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
    <recordid="mailing_trace_view_search"model="ir.ui.view">
        <fieldname="name">mailing.trace.view.search.inherit.sms</field>
        <fieldname="model">mailing.trace</field>
        <fieldname="inherit_id"ref="mass_mailing.mailing_trace_view_search"/>
        <fieldname="arch"type="xml">
           <xpathexpr="//field[@name='email']"position="after">
                <fieldname="sms_sms_id_int"/>
                <fieldname="sms_sms_id"/>
                <fieldname="sms_number"/>
           </xpath>
        </field>
    </record>

    <recordid="mailing_trace_view_tree"model="ir.ui.view">
        <fieldname="name">mailing.trace.view.tree.inherit.sms</field>
        <fieldname="model">mailing.trace</field>
        <fieldname="inherit_id"ref="mass_mailing.mailing_trace_view_tree"/>
        <fieldname="arch"type="xml">
            <xpathexpr="//field[@name='email']"position="before">
                <fieldname="trace_type"/>
            </xpath>
            <xpathexpr="//field[@name='email']"position="after">
                <fieldname="sms_number"/>
            </xpath>
        </field>
    </record>

    <recordid="mailing_trace_view_tree_sms"model="ir.ui.view">
        <fieldname="name">mailing.trace.view.tree.sms</field>
        <fieldname="model">mailing.trace</field>
        <fieldname="priority">20</field>
        <fieldname="arch"type="xml">
            <treestring="SMSTraces"create="0">
                <fieldname="sms_number"/>
                <fieldname="state"/>
                <fieldname="scheduled"/>
                <fieldname="sent"/>
                <fieldname="clicked"/>
                <fieldname="bounced"/>
                <fieldname="exception"/>
                <fieldname="ignored"/>
                <fieldname="failure_type"/>
            </tree>
        </field>
    </record>

    <recordid="mailing_trace_view_form"model="ir.ui.view">
        <fieldname="name">mailing.trace.view.form.inherit.sms</field>
        <fieldname="model">mailing.trace</field>
        <fieldname="inherit_id"ref="mass_mailing.mailing_trace_view_form"/>
        <fieldname="arch"type="xml">
            <xpathexpr="//span[@name='trace_type_name_mail']"position="attributes">
                <attributename="attrs">{'invisible':[('trace_type','!=','mail')]}</attribute>
            </xpath>
            <xpathexpr="//span[@name='trace_type_name_mail']"position="after">
                <spanname="trace_type_name_sms"attrs="{'invisible':[('trace_type','!=','sms')]}">Thissms</span>
            </xpath>
            <xpathexpr="//field[@name='email']"position="attributes">
                <attributename="attrs">{'invisible':[('trace_type','!=','mail')]}</attribute>
            </xpath>
            <xpathexpr="//field[@name='mail_mail_id_int']"position="attributes">
                <attributename="attrs">{'invisible':[('trace_type','!=','mail')]}</attribute>
            </xpath>
            <xpathexpr="//field[@name='message_id']"position="attributes">
                <attributename="attrs">{'invisible':[('trace_type','!=','mail')]}</attribute>
            </xpath>
            <xpathexpr="//field[@name='opened']"position="attributes">
                <attributename="attrs">{'invisible':[('trace_type','=','sms')]}</attribute>
            </xpath>
            <xpathexpr="//field[@name='replied']"position="attributes">
                <attributename="attrs">{'invisible':[('trace_type','=','sms')]}</attribute>
            </xpath>
            <xpathexpr="//field[@name='email']"position="after">
                <fieldname="sms_number"attrs="{'invisible':[('trace_type','!=','sms')]}"/>
                <fieldname="sms_sms_id_int"attrs="{'invisible':[('trace_type','!=','sms')]}"/>
                <fieldname="sms_code"attrs="{'invisible':[('trace_type','!=','sms')]}"/>
            </xpath>
        </field>
    </record>

    <recordid="mailing_trace_view_form_sms"model="ir.ui.view">
        <fieldname="name">mailing.trace.view.form.sms</field>
        <fieldname="model">mailing.trace</field>
        <fieldname="priority">20</field>
        <fieldname="arch"type="xml">
            <formstring="SMSTrace"create="0">
                <header>
                    <fieldname="state"widget="statusbar"/>
                </header>
                <sheet>
                    <divclass="alertalert-infotext-center"attrs="{'invisible':[('exception','=',False)]}"role="alert">
                        <strong>ThisSMScouldnotbesent.</strong>
                    </div>
                    <divclass="alertalert-infotext-center"attrs="{'invisible':[('bounced','=',False)]}"role="alert">
                        <strong>Thisnumberappearstobeinvalid.</strong>
                    </div>
                    <group>
                        <group>
                            <fieldname="sms_number"/>
                            <fieldname="mass_mailing_id"/>
                            <fieldname="campaign_id"groups="mass_mailing.group_mass_mailing_campaign"/>
                            <fieldname="sms_sms_id_int"groups="base.group_no_one"/>
                            <fieldname="model"groups="base.group_no_one"/>
                            <fieldname="res_id"groups="base.group_no_one"/>
                        </group>
                        <group>
                            <fieldname="scheduled"/>
                            <fieldname="sent"/>
                            <fieldname="clicked"/>
                            <fieldname="bounced"/>
                            <fieldname="exception"/>
                            <fieldname="failure_type"attrs="{'invisible':[('exception','=',False)]}"/>
                            <fieldname="ignored"/>
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>
</flectra>
