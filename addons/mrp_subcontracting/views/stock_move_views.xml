<?xmlversion="1.0"encoding="utf-8"?>
<flectra>

    <recordid="mrp_subcontracting_stock_move_line_tree_view"model="ir.ui.view">
        <fieldname="name">mrp.subcontracting.stock.move.line.tree.view</field>
        <fieldname="model">stock.move.line</field>
        <fieldname="priority">1000</field>
        <fieldname="arch"type="xml">
            <treeeditable="bottom">
                <fieldname="company_id"invisible="1"/>
                <fieldname="product_uom_category_id"invisible="1"/>
                <fieldname="owner_id"invisible="1"/>
                <fieldname="tracking"invisible="1"/>
                <fieldname="package_id"invisible="1"/>
                <fieldname="result_package_id"invisible="1"/>
                <fieldname="location_id"invisible="1"/>
                <fieldname="location_dest_id"invisible="1"/>
                <fieldname="state"invisible="1"/>
                <!--Don'tputmove_idheretoavoidthattheframeworksendfalsymove_id-->
                <fieldname="id"invisible="1"/>
                <fieldname="product_id"required="1"/>
                <fieldname="lot_id"groups="stock.group_production_lot"
                    attrs="{'invisible':[('tracking','notin',('serial','lot'))],'required':[('tracking','in',('serial','lot'))]}"
                    context="{'default_product_id':product_id,'default_company_id':company_id}"/>
                <fieldname="product_uom_qty"readonly="1"force_save="1"/>
                <fieldname="qty_done"/>
                <fieldname="product_uom_id"groups="uom.group_uom"/>
            </tree>
        </field>
    </record>
    <recordid="mrp_subcontracting_move_form_view"model="ir.ui.view">
        <fieldname="name">mrp.subcontracting.move.form.view</field>
        <fieldname="model">stock.move</field>
        <fieldname="priority">1000</field>
        <fieldname="arch"type="xml">
            <formcreate="0"delete="0">
                <header>
                    <fieldname="state"widget="statusbar"/>
                </header>
                <sheet>
                    <fieldname="product_uom_category_id"invisible="1"/>
                    <fieldname="company_id"invisible="1"/>
                    <fieldname="product_id"invisible="1"/>
                    <fieldname="sequence"invisible="1"/>
                    <fieldname="location_id"invisible="1"/>
                    <fieldname="picking_id"invisible="1"/>
                    <fieldname="location_dest_id"invisible="1"/>
                    <fieldname="has_tracking"invisible="1"/>
                    <fieldname="product_uom_qty"invisible="1"/>
                    <group>
                        <fieldname="order_finished_lot_ids"widget="many2many_tags"/>
                        <fieldname="product_uom"groups="uom.group_uom"/>
                        <fieldname="quantity_done"string="TotalConsumed"readonly="1"/>
                    </group>
                    <fieldname="move_line_ids"
                        attrs="{'readonly':[('state','in',['done','cancel'])]}"
                        context="{'default_product_uom_id':product_uom,'default_picking_id':picking_id,'default_move_id':id,'default_product_id':product_id,'default_location_id':location_id,'default_location_dest_id':location_dest_id,'default_company_id':company_id}">
                        <treeeditable="bottom"decoration-muted="statein('done','cancel')">
                            <fieldname="company_id"invisible="1"/>
                            <fieldname="state"invisible="1"/>
                            <fieldname="tracking"invisible="1"/>
                            <fieldname="product_uom_id"invisible="1"/>
                            <fieldname="product_uom_category_id"invisible="1"/>
                            <fieldname="picking_id"invisible="1"/>
                            <fieldname="move_id"invisible="1"/>
                            <fieldname="location_id"invisible="1"/>
                            <fieldname="location_dest_id"invisible="1"/>
                            <fieldname="product_id"readonly="1"force_save="1"/>
                            <fieldname="qty_done"/>
                            <fieldname="lot_id"attrs="{'column_invisible':[('parent.has_tracking','notin',('serial','lot'))],'required':[('tracking','in',('serial','lot'))]}"context="{'default_product_id':product_id,'default_company_id':company_id}"groups="stock.group_production_lot"/>
                        </tree>
                    </field>
                </sheet>
            </form>
        </field>
    </record>
    <recordid="mrp_subcontracting_move_tree_view"model="ir.ui.view">
        <fieldname="name">mrp.subcontracting.move.tree.view</field>
        <fieldname="model">stock.move</field>
        <fieldname="priority">1000</field>
        <fieldname="arch"type="xml">
            <treedelete="0"create="0"decoration-muted="is_done"decoration-warning="quantity_done-product_uom_qty&gt;0.0001"decoration-success="notis_doneandquantity_done-product_uom_qty&lt;0.0001">
                <fieldname="company_id"invisible="1"/>
                <fieldname="sequence"invisible="1"/>
                <fieldname="product_uom_category_id"invisible="1"/>
                <fieldname="name"invisible="1"/>
                <fieldname="unit_factor"invisible="1"/>
                <fieldname="date"invisible="1"/>
                <fieldname="picking_type_id"invisible="1"/>
                <fieldname="has_tracking"invisible="1"/>
                <fieldname="operation_id"invisible="1"/>
                <fieldname="is_done"invisible="1"/>
                <fieldname="bom_line_id"invisible="1"/>
                <fieldname="location_id"invisible="1"/>
                <fieldname="warehouse_id"invisible="1"/>
                <fieldname="product_uom_qty"invisible="1"/>
                <fieldname="location_dest_id"invisible="1"/>
                <fieldname="state"invisible="1"force_save="1"/>
                <fieldname="raw_material_production_id"invisible="1"/>
                <fieldname="product_id"required="1"/>
                <fieldname="order_finished_lot_ids"widget="many2many_tags"/>
                <fieldname="reserved_availability"attrs="{'invisible':[('is_done','=',True)]}"string="Reserved"/>
                <fieldname="quantity_done"string="Consumed"readonly="1"/>
                <fieldname="product_uom"groups="uom.group_uom"/>
            </tree>
        </field>
    </record>
</flectra>
