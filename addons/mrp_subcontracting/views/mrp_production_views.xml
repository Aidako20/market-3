<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
    <recordid="mrp_production_subcontracting_form_view"model="ir.ui.view">
        <fieldname="name">mrp.production.subcontracting.form.view</field>
        <fieldname="model">mrp.production</field>
        <fieldname="mode">primary</field>
        <fieldname="priority">1000</field>
        <fieldname="inherit_id"ref="mrp.mrp_production_form_view"/>
        <fieldname="arch"type="xml">
            <xpathexpr="//header"position="replace">
                <fieldname="state"invisible="1"/>
            </xpath>
            <xpathexpr="//div[@name='button_box']"position="replace"/>
            <xpathexpr="//group[@name='group_extra_info']"position="attributes">
                <attributename="invisible">1</attribute>
            </xpath>
            <xpathexpr="//page[@name='operations']"position="attributes">
                <attributename="invisible">1</attribute>
            </xpath>
            <xpathexpr="//field[@name='lot_producing_id']"position="attributes">
                <attributename="attrs">{'invisible':[('product_tracking','in',('none',False))]}</attribute>
            </xpath>
            <xpathexpr="//page[@name='miscellaneous']"position="attributes">
                <attributename="invisible">1</attribute>
            </xpath>
            <xpathexpr="//field[@name='name']"position="attributes">
                <attributename="invisible">1</attribute>
            </xpath>
            <xpathexpr="//field[@name='priority']"position="attributes">
                <attributename="invisible">1</attribute>
            </xpath>
            <xpathexpr="//field[@name='bom_id']"position="attributes">
                <attributename="invisible">1</attribute>
            </xpath>
            <xpathexpr="//button[@name='action_generate_serial']"position="attributes">
                <attributename="invisible">1</attribute>
            </xpath>
            <xpathexpr="//field[@name='move_raw_ids']"position="attributes">
                <attributename="invisible">1</attribute>
                <attributename="readonly">1</attribute>
            </xpath>
            <xpathexpr="//field[@name='move_raw_ids']"position="after">
                <fieldname="move_line_raw_ids"force_save="1"
                    context="{'tree_view_ref':'mrp_subcontracting.mrp_subcontracting_stock_move_line_tree_view','default_company_id':company_id,'default_location_id':location_src_id,'default_location_dest_id':production_location_id}"
                    />
            </xpath>
            <xpathexpr="//sheet"position="inside">
                <footer>
                    <buttonname="subcontracting_record_component"attrs="{'invisible':['|',('state','=','to_close'),('qty_producing','&lt;',0.001)]}"string="Continue"type="object"class="oe_highlight"/>
                    <buttonname="subcontracting_record_component"attrs="{'invisible':[('state','!=','to_close')]}"string="RecordProduction"type="object"class="oe_highlight"/>
                    <buttonname="action_subcontracting_discard_remaining_components"string="Discard"type="object"/>
                </footer>
            </xpath>
        </field>
    </record>
</flectra>

