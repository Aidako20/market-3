<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
    <recordmodel="ir.module.category"id="base.module_category_human_resources_time_off">
        <fieldname="description">Helpsyoumanageyourtimeoff.</field>
        <fieldname="sequence">10</field>
    </record>

    <recordid="group_hr_holidays_responsible"model="res.groups">
        <fieldname="name">Responsible</field>
        <fieldname="category_id"ref="base.module_category_human_resources_time_off"/>
        <fieldname="implied_ids"eval="[(4,ref('base.group_user'))]"/>
    </record>

    <recordid="group_hr_holidays_user"model="res.groups">
        <fieldname="name">AllApprover</field>
        <fieldname="category_id"ref="base.module_category_human_resources_time_off"/>
        <fieldname="implied_ids"eval="[(4,ref('hr_holidays.group_hr_holidays_responsible'))]"/>
    </record>

    <recordid="group_hr_holidays_manager"model="res.groups">
        <fieldname="name">Administrator</field>
        <fieldname="category_id"ref="base.module_category_human_resources_time_off"/>
        <fieldname="implied_ids"eval="[(4,ref('hr_holidays.group_hr_holidays_user'))]"/>
        <fieldname="users"eval="[(4,ref('base.user_root')),(4,ref('base.user_admin'))]"/>
    </record>

    <datanoupdate="1">

    <recordid="base.default_user"model="res.users">
        <fieldname="groups_id"eval="[(4,ref('hr_holidays.group_hr_holidays_manager'))]"/>
    </record>

    <recordid="hr_leave_rule_employee"model="ir.rule">
        <fieldname="name">TimeOffbase.group_userread</field>
        <fieldname="model_id"ref="model_hr_leave"/>
        <fieldname="domain_force">[('employee_id.user_id','=',user.id)]</field>
        <fieldname="perm_create"eval="False"/>
        <fieldname="perm_write"eval="False"/>
        <fieldname="perm_unlink"eval="False"/>
        <fieldname="groups"eval="[(4,ref('base.group_user'))]"/>
    </record>

    <recordid="hr_leave_rule_employee_update"model="ir.rule">
        <fieldname="name">TimeOffbase.group_usercreate/write</field>
        <fieldname="model_id"ref="model_hr_leave"/>
        <fieldname="domain_force">[
            ('holiday_type','=','employee'),
            '|',
                '&amp;',
                    ('employee_id.user_id','=',user.id),
                    ('state','notin',['validate','validate1']),
                '&amp;',
                    ('validation_type','in',['manager','both','no_validation']),
                    ('employee_id.leave_manager_id','=',user.id),
        ]</field>
        <fieldname="perm_read"eval="False"/>
        <fieldname="perm_unlink"eval="False"/>
        <fieldname="groups"eval="[(4,ref('base.group_user'))]"/>
    </record>

    <recordid="hr_leave_rule_employee_unlink"model="ir.rule">
        <fieldname="name">TimeOffbase.group_userunlink</field>
        <fieldname="model_id"ref="model_hr_leave"/>
        <fieldname="domain_force">[('employee_id.user_id','=',user.id),('state','=','draft')]</field>
        <fieldname="perm_read"eval="False"/>
        <fieldname="perm_write"eval="False"/>
        <fieldname="perm_create"eval="False"/>
        <fieldname="groups"eval="[(4,ref('base.group_user'))]"/>
    </record>

    <recordid="hr_leave_rule_responsible_read"model="ir.rule">
        <fieldname="name">TimeOffResponsibleread</field>
        <fieldname="model_id"ref="model_hr_leave"/>
        <fieldname="domain_force">[
                ('employee_id.leave_manager_id','=',user.id),
        ]</field>
        <fieldname="perm_write"eval="False"/>
        <fieldname="perm_create"eval="False"/>
        <fieldname="perm_unlink"eval="False"/>
        <fieldname="groups"eval="[(4,ref('hr_holidays.group_hr_holidays_responsible'))]"/>
    </record>

    <recordid="hr_leave_rule_responsible_update"model="ir.rule">
        <fieldname="name">TimeOffResponsiblecreate/write</field>
        <fieldname="model_id"ref="model_hr_leave"/>
        <fieldname="domain_force">[
            ('holiday_type','=','employee'),
            '|',
                '&amp;',
                    ('employee_id.user_id','=',user.id),
                    ('state','!=','validate'),
                ('employee_id.leave_manager_id','=',user.id),
        ]</field>
        <fieldname="perm_read"eval="False"/>
        <fieldname="perm_unlink"eval="False"/>
        <fieldname="groups"eval="[(4,ref('hr_holidays.group_hr_holidays_responsible'))]"/>
    </record>

    <recordid="hr_leave_rule_user_read"model="ir.rule">
        <fieldname="name">TimeOffAllApproverread</field>
        <fieldname="model_id"ref="model_hr_leave"/>
        <fieldname="domain_force">[(1,'=',1)]</field>
        <fieldname="perm_write"eval="True"/>
        <fieldname="perm_create"eval="True"/>
        <fieldname="perm_unlink"eval="True"/>
        <fieldname="groups"eval="[(4,ref('hr_holidays.group_hr_holidays_user'))]"/>
    </record>

    <recordid="hr_leave_rule_officer_update"model="ir.rule">
        <fieldname="name">TimeOffAllApprovercreate/write</field>
        <fieldname="model_id"ref="model_hr_leave"/>
        <fieldname="domain_force">[
            ('holiday_type','=','employee'),
            '|',
                '&amp;',
                    ('employee_id.user_id','=',user.id),
                    ('state','!=','validate'),
                '|',
                    ('employee_id.user_id','!=',user.id),
                    ('employee_id.user_id','=',False)
        ]</field>
        <fieldname="perm_read"eval="False"/>
        <fieldname="perm_unlink"eval="False"/>
        <fieldname="groups"eval="[(4,ref('hr_holidays.group_hr_holidays_user'))]"/>
    </record>

    <recordid="hr_leave_rule_manager"model="ir.rule">
        <fieldname="name">TimeOffAdministrator</field>
        <fieldname="model_id"ref="model_hr_leave"/>
        <fieldname="domain_force">[(1,'=',1)]</field>
        <fieldname="groups"eval="[(4,ref('group_hr_holidays_manager'))]"/>
    </record>

    <recordid="hr_leave_rule_multicompany"model="ir.rule">
        <fieldname="name">TimeOff:multicompanyglobalrule</field>
        <fieldname="model_id"ref="model_hr_leave"/>
        <fieldname="domain_force">[('holiday_status_id.company_id','in',company_ids+[False])]</field>
    </record>

    <recordid="hr_leave_allocation_rule_multicompany"model="ir.rule">
        <fieldname="name">LeaveAllocations:multicompanyglobalrule</field>
        <fieldname="model_id"ref="model_hr_leave_allocation"/>
        <fieldname="domain_force">[('holiday_status_id.company_id','in',company_ids+[False])]</field>
    </record>

    <recordid="hr_leave_allocation_rule_employee"model="ir.rule">
        <fieldname="name">Allocations:employee:readown</field>
        <fieldname="model_id"ref="model_hr_leave_allocation"/>
        <fieldname="domain_force">[
            '|',
                ('employee_id.leave_manager_id','=',user.id),
                ('employee_id.user_id','=',user.id),
        ]</field>
        <fieldname="perm_create"eval="False"/>
        <fieldname="perm_write"eval="False"/>
        <fieldname="perm_unlink"eval="False"/>
        <fieldname="groups"eval="[(4,ref('base.group_user'))]"/>
    </record>

    <recordid="hr_leave_allocation_rule_employee_update"model="ir.rule">
        <fieldname="name">Allocations:base.group_usercreate/write</field>
        <fieldname="model_id"ref="model_hr_leave_allocation"/>
        <fieldname="domain_force">[
            ('holiday_status_id.allocation_type','=','fixed_allocation'),
            ('holiday_type','=','employee'),
            '|',
                '&amp;',
                    ('employee_id.user_id','=',user.id),
                    ('state','notin',['validate','validate1']),
                '&amp;',
                    ('validation_type','in',['manager','both']),
                    ('employee_id.leave_manager_id','=',user.id),
        ]</field>
        <fieldname="perm_read"eval="False"/>
        <fieldname="perm_unlink"eval="False"/>
        <fieldname="groups"eval="[(4,ref('base.group_user'))]"/>
    </record>

    <recordid="hr_leave_allocation_rule_officer_read"model="ir.rule">
        <fieldname="name">Allocations:seealltimeoff:readall</field>
        <fieldname="model_id"ref="model_hr_leave_allocation"/>
        <fieldname="domain_force">[(1,'=',1)]</field>
        <fieldname="perm_create"eval="False"/>
        <fieldname="perm_write"eval="False"/>
        <fieldname="perm_unlink"eval="False"/>
        <fieldname="groups"eval="[(4,ref('hr_holidays.group_hr_holidays_user'))]"/>
    </record>

    <recordid="hr_leav_allocation_rule_employee_unlink"model="ir.rule">
        <fieldname="name">Allocationsbase.group_userunlink</field>
        <fieldname="model_id"ref="model_hr_leave_allocation"/>
        <fieldname="domain_force">[('employee_id.user_id','=',user.id),('state','=','draft')]</field>
        <fieldname="perm_read"eval="False"/>
        <fieldname="perm_write"eval="False"/>
        <fieldname="perm_create"eval="False"/>
        <fieldname="groups"eval="[(4,ref('base.group_user'))]"/>
    </record>

    <recordid="hr_leave_allocation_rule_officer_update"model="ir.rule">
        <fieldname="name">Allocations:holidayuser:create/write</field>
        <fieldname="model_id"ref="model_hr_leave_allocation"/>
        <fieldname="domain_force">[
            ('holiday_type','=','employee'),
            '|',
                '&amp;',
                    ('employee_id.user_id','=',user.id),
                    ('state','!=','validate'),
                '|',
                    ('employee_id.user_id','!=',user.id),
                    ('employee_id.user_id','=',False)
        ]</field>
        <fieldname="groups"eval="[(4,ref('hr_holidays.group_hr_holidays_user'))]"/>
    </record>

    <recordid="hr_leave_allocation_rule_manager"model="ir.rule">
        <fieldname="name">Allocations:administrator:nolimit</field>
        <fieldname="model_id"ref="model_hr_leave_allocation"/>
        <fieldname="domain_force">[(1,'=',1)]</field>
        <fieldname="groups"eval="[(4,ref('group_hr_holidays_manager'))]"/>
    </record>

    <recordid="resource_leaves_base_user"model="ir.rule">
        <fieldname="name">TimeOffResources:Approver</field>
        <fieldname="model_id"ref="model_resource_calendar_leaves"/>
        <fieldname="domain_force">[(1,'=',1)]</field>
        <fieldname="perm_create"eval="False"/>
        <fieldname="perm_write"eval="False"/>
        <fieldname="perm_unlink"eval="False"/>
        <fieldname="groups"eval="[(4,ref('base.group_user'))]"/>
    </record>

    <!--FIXMERLiMaybethisshouldberestrictedsomewhat-->
    <recordid="resource_leaves_holidays_user"model="ir.rule">
        <fieldname="name">TimeOffResources:AllApprover</field>
        <fieldname="model_id"ref="model_resource_calendar_leaves"/>
        <fieldname="domain_force">[(1,'=',1)]</field>
        <fieldname="groups"eval="[(4,ref('hr_holidays.group_hr_holidays_user'))]"/>
    </record>

    <recordid="hr_holidays_status_rule_multi_company"model="ir.rule">
        <fieldname="name">TimeOffmulticompanyrule</field>
        <fieldname="model_id"ref="model_hr_leave_type"/>
        <fieldname="domain_force">[('company_id','in',company_ids+[False])]</field>
    </record>

    <recordid="hr_leave_report_calendar_rule_multi_company"model="ir.rule">
        <fieldname="name">TimeOffReportCalendar:multicompanyglobalrule</field>
        <fieldname="model_id"ref="model_hr_leave_report_calendar"/>
        <fieldname="global"eval="True"/>
        <fieldname="domain_force">[('company_id','in',company_ids+[False])]</field>
    </record>

    </data>
</flectra>
