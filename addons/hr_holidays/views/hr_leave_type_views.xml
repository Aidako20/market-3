<?xmlversion='1.0'encoding='UTF-8'?>
<flectra>

    <recordid="view_holidays_status_filter"model="ir.ui.view">
        <fieldname="name">hr.leave.type.filter</field>
        <fieldname="model">hr.leave.type</field>
        <fieldname="arch"type="xml">
            <searchstring="SearchTimeOffType">
                <fieldname="name"string="TimeOffTypes"/>
                <fieldname="code"/>
                <fieldname="create_calendar_meeting"/>
                <separator/>
                <filterstring="Archived"name="inactive"domain="[('active','=',False)]"/>
            </search>
        </field>
    </record>

    <recordid="edit_holiday_status_form"model="ir.ui.view">
        <fieldname="name">hr.leave.type.form</field>
        <fieldname="model">hr.leave.type</field>
        <fieldname="arch"type="xml">
            <formstring="TimeOffType">
                <sheet>
                    <divclass="oe_button_box"name="button_box">
                        <buttonclass="oe_stat_button"type="object"name="action_see_days_allocated"icon="fa-archive"attrs="{'invisible':[('allocation_type','=','no')]}">
                            <divclass="o_stat_info">
                                <fieldname="group_days_allocation"/>
                                <spanclass="o_stat_text">GroupDaysAllocated</span>
                            </div>
                        </button>
                        <buttonclass="oe_stat_button"type="object"name="action_see_group_leaves"icon="fa-archive">
                            <divclass="o_stat_info">
                                <fieldname="group_days_leave"/>
                                <spanclass="o_stat_text">GroupTimeOff</span>
                            </div>
                        </button>
                    </div>
                    <widgetname="web_ribbon"title="Archived"bg_color="bg-danger"attrs="{'invisible':[('active','=',True)]}"/>
                    <divclass="oe_title">
                        <h1><fieldname="name"/></h1>
                    </div>
                    <group>
                        <groupname="description"string="Options">
                            <fieldname="active"invisible="1"/>
                            <fieldname="code"string="PayrollCode"/>
                            <fieldname="request_unit"widget="radio"/>
                        </group>
                        <groupname="validity"string="Validity">
                            <fieldname="validity_start"/>
                            <fieldname="validity_stop"/>
                        </group>
                        <groupname="allocation_validation"string="AllocationRequests">
                            <fieldname="allocation_type"widget="radio"force_save="1"/>
                            <fieldname="allocation_validation_type"string="Approval"widget="radio"attrs="{'invisible':[('allocation_type','!=','fixed_allocation')]}"/>
                            <fieldname="responsible_id"domain="[('share','=',False)]"
                                attrs="{
                                'invisible':[('leave_validation_type','in',['no_validation','manager']),'|',('allocation_type','=','no'),('allocation_validation_type','=','manager')],
                                'required':['|',('leave_validation_type','in',['hr','both']),'&amp;',('allocation_type','in',['fixed_allocation','fixed']),('allocation_validation_type','in',['hr','both'])]}"/>
                        </group>
                        <groupname="leave_validation"string="TimeOffRequests">
                            <fieldname="leave_validation_type"string="Approval"widget="radio"/>
                        </group>
                        <groupname="notification"string="Notification"colspan="2"groups="base.group_no_one">
                            <group>
                                <fieldname="leave_notif_subtype_id"
                                       domain="[('res_model','=','hr.leave')]"
                                       context="{'default_name':name,'default_res_model':'hr.leave'}"/>
                                <fieldname="allocation_notif_subtype_id"
                                       domain="[('res_model','=','hr.leave.allocation')]"
                                       context="{'default_name':name,'default_res_model':'hr.leave.allocation'}"/>
                            </group>
                         </group>
                        <groupname="calendar"string="Calendar"groups="base.group_no_one">
                            <fieldname="create_calendar_meeting"/>
                            <fieldname="color_name"/>
                            <fieldname="company_id"groups="base.group_multi_company"/>
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <recordid="hr_holiday_status_view_kanban"model="ir.ui.view">
        <fieldname="name">hr.leave.type.kanban</field>
        <fieldname="model">hr.leave.type</field>
        <fieldname="arch"type="xml">
            <kanbanclass="o_kanban_mobile">
                <templates>
                    <tt-name="kanban-box">
                        <divt-attf-class="oe_kanban_global_click">
                            <div>
                                <strong><fieldname="name"/></strong>
                            </div>
                            <div>
                                <span>MaxTimeOff:<fieldname="max_leaves"/></span>
                                <spanclass="float-right">TimeOffTaken:<fieldname="leaves_taken"/></span>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <recordid="view_holiday_status_normal_tree"model="ir.ui.view">
        <fieldname="name">hr.leave.type.normal.tree</field>
        <fieldname="model">hr.leave.type</field>
        <fieldname="arch"type="xml">
            <treestring="TimeOffType">
                <fieldname="display_name"/>
                <fieldname="code"/>
                <fieldname="allocation_type"/>
                <fieldname="leave_validation_type"/>
                <fieldname="allocation_validation_type"/>
                <fieldname="validity_start"/>
                <fieldname="validity_stop"/>
                <fieldname="company_id"groups="base.group_multi_company"/>
            </tree>
        </field>
    </record>

    <recordid="open_view_holiday_status"model="ir.actions.act_window">
        <fieldname="name">TimeOffTypes</field>
        <fieldname="type">ir.actions.act_window</field>
        <fieldname="res_model">hr.leave.type</field>
        <fieldname="view_mode">tree,kanban,form</field>
    </record>

</flectra>
