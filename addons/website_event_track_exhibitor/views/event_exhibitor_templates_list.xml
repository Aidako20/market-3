<?xmlversion="1.0"encoding="utf-8"?>
<flectra>

<templateid="event_exhibitors"name="EventExhibitors">
    <tt-call="website_event.layout">
        <divclass="o_wevent_onlineo_wevent_online_bgo_wesponsor_index">
            <!--Topbar-->
            <tt-call="website_event_track_exhibitor.exhibitors_topbar"/>
            <!--Drag/DropArea-->
            <divid="oe_structure_wesponsor_index_1"class="oe_structure"/>
            <!--Content-->
            <divclass="o_wesponsor_containercontainer">
                <divclass="row">
                    <tt-call="website_event_track_exhibitor.exhibitors_search"/>
                </div>
                <divclass="row">
                    <tt-call="website_event_track_exhibitor.exhibitors_main"/>
                </div>
            </div>
            <!--Drag/DropArea-->
            <divid="oe_structure_wesponsor_index_2"class="oe_structuremb-5"/>
        </div>
    </t>
</template>

<!--============================================================-->
<!--TOPBAR:BASENAVIGATION-->
<!--============================================================-->

<!--TOPBAR:BASENAVIGATION-->

<!--Maintopbar-->
<templateid="exhibitors_topbar"
    name="ExhibitorTools">
    <navclass="navbarnavbar-lightborder-topshadow-smd-print-none">
        <divclass="container">
            <divclass="d-flexflex-columnflex-sm-rowjustify-content-betweenw-100">
                <ulclass="o_wesponsor_topbar_filterso_wevent_index_topbar_filtersnav"/>
                <divclass="d-flexalign-items-centerflex-wrappl-sm-3pr-0">
                    <tt-call="website_event.events_search_box">
                        <tt-set="_searches"t-value="searches"/>
                        <tt-set="action"t-value="'/event/%s/exhibitors'%(slug(event))"/>
                        <tt-set="_placeholder"t-value="'Searchanexhibitor...'"/>
                    </t>
                </div>
            </div>
        </div>
    </nav>
</template>

<!--Topbar:optionalcountryfilters-->
<templateid="exhibitors_topbar_country"
    inherit_id="website_event_track_exhibitor.exhibitors_topbar"
    name="FilterbyCountry"
    active="True"
    customize_show="True">
    <xpathexpr="//ul[hasclass('o_wesponsor_topbar_filters')]"position="inside">
        <liclass="nav-itemdropdownmr-2my-1">
            <ahref="#"role="button"class="btndropdown-toggle"data-toggle="dropdown">
                <iclass="fafa-folder-open"/>
                ByCountry
            </a>
            <divclass="dropdown-menu">
                <at-att-href="'/event/%s/exhibitors?%s'%(slug(event),keep_query('*',countries=''))"
                    t-attf-class="dropdown-itemd-flexalign-items-centerjustify-content-between#{'active'ifnotsearch_countrieselse''}">
                    AllCountries
                </a>
                <tt-foreach="sponsor_countries"t-as="sponsor_country">
                    <at-att-href="'/event/%s/exhibitors?%s'%(
                            slug(event),
                            keep_query('*',countries=str((search_countries-sponsor_country).idsifsponsor_countryinsearch_countrieselse(sponsor_country|search_countries).ids))
                        )"
                        t-attf-class="dropdown-itemd-flexalign-items-centerjustify-content-between#{'active'ifsponsor_countryinsearch_countrieselse''}">
                        <tt-esc="sponsor_country.name"/>
                    </a>
                </t>
            </div>
        </li>
    </xpath>
</template>

<!--Topbar:optionalsponsorshipfilters-->
<templateid="exhibitors_topbar_sponsorship"
    inherit_id="website_event_track_exhibitor.exhibitors_topbar"
    name="FilterbySponsorship"
    active="True"
    customize_show="True">
    <xpathexpr="//ul[hasclass('o_wesponsor_topbar_filters')]"position="inside">
        <liclass="nav-itemdropdownmr-2my-1">
            <ahref="#"role="button"class="btndropdown-toggle"data-toggle="dropdown">
                <iclass="fafa-folder-open"/>
                BySponsorship
            </a>
            <divclass="dropdown-menu">
                <at-att-href="'/event/%s/exhibitors?%s'%(slug(event),keep_query('*',sponsorships=''))"
                    t-attf-class="dropdown-itemd-flexalign-items-centerjustify-content-between#{'active'ifnotsearch_sponsorshipselse''}">
                    AllSponsorships
                </a>
                <tt-foreach="sponsor_types"t-as="sponsor_type">
                    <at-att-href="'/event/%s/exhibitors?%s'%(
                            slug(event),
                            keep_query('*',sponsorships=str((search_sponsorships-sponsor_type).idsifsponsor_typeinsearch_sponsorshipselse(sponsor_type|search_sponsorships).ids))
                        )"
                        t-attf-class="dropdown-itemd-flexalign-items-centerjustify-content-between#{'active'ifsponsor_typeinsearch_sponsorshipselse''}">
                        <tt-esc="sponsor_type.name"/>
                    </a>
                </t>
            </div>
        </li>
    </xpath>
</template>

<!--============================================================-->
<!--CONTENT:MAINTEMPLATES-->
<!--============================================================-->

<!--ExhibitorsMainDisplay-->
<templateid="exhibitors_main"name="Exhibitors:MainDisplay">
    <!--Noexhibitors-->
    <tt-if="notsponsor_categories">
        <divclass="col-12">
            <divclass="h2mb-3">Noexhibitorfound.</div>
            <divt-if="search_key"class="alertalert-infotext-center">
                <pclass="m-0">Wedidnotfindanyexhibitormatchingyour<strongt-esc="search_key"/>search.</p>
            </div>
            <divt-else=""class="alertalert-infotext-center"groups="event.group_event_manager">
                <pclass="m-0">Addsomeexhibitorstogetstarted!</p>
            </div>
        </div>
    </t>
    <!--Cards-->
    <divclass="col-12"t-call="website_event_track_exhibitor.exhibitors_display_cards"/>
</template>

<!--Exhibitors:Cards-baseddisplay-->
<templateid="exhibitors_display_cards"name="ExhibitorsCards">
    <divt-foreach="sponsor_categories"t-as="sponsor_category"class="rowmb-3">
        <divclass="col-12">
            <h2class="m-0"t-esc="sponsor_category['sponsorship'].name"/>
            <hrclass="mt-2pb-1mb-1"/>
        </div>
        <divt-foreach="sponsor_category['sponsors']"t-as="sponsor"class="col-md-6col-lg-3mb-4">
            <tt-call="website_event_track_exhibitor.exhibitor_card"/>
        </div>
    </div>
</template>

<!--============================================================-->
<!--TOOLTEMPLATES-->
<!--============================================================-->

<templateid="exhibitor_card"name="ExhibitorCard">
    <articlet-att-class="'h-100cardborder-0shadow-smo_wesponsor_card%s'%('o_wesponsor_card_unpublished'ifnotsponsor.is_publishedelse'')"
        itemscope="itemscope"itemtype="http://schema.org/Event">
        <divclass="h-100rowno-gutters">
            <tt-set="sponsor_image_url"t-value="sponsor.website_image_url"/>
            <headert-att-class="'overflow-hiddencol-12rounded-topposition-static%s'%('bg-secondary'ifnotsponsor_image_urlelse'')">

                <smallt-if="notsponsor.is_published"class="o_wesponsor_card_header_badgebg-danger">
                    <iclass="fafa-banmr-2"/>Unpublished
                </small>

                <divt-att-data-sponsor-url="sponsor.website_url"class="o_wesponsor_js_connect"
                     t-attf-data-register-url="/event/#{slug(event)}/register?from_sponsor_id=#{sponsor.id}"
                     t-att-data-is-participating="event.is_participating"
                     t-att-data-sponsor-id="sponsor.id"
                     t-att-data-event-is-ongoing="sponsor.event_id.is_ongoing"
                     t-att-data-sponsor-is-ongoing="sponsor.is_in_opening_hours"
                     t-att-data-user-event-manager="user_event_manager">
                    <divt-if="sponsor_image_url"class="card-img-topposition-statico_wesponsor_bg_image"
                        t-attf-style="padding-top:50%;background-image:url(#{sponsor_image_url});">
                        <divclass="o_wesponsor_connect_button">
                            <ahref="#"class="btnbtn-primaryh3">
                                <tt-if="notuser_event_managerandnotsponsor.event_id.is_ongoingandnotevent.is_participating">
                                    Register
                                </t>
                                <tt-else="">Connect</t>
                            </a>
                        </div>
                        <imgclass="position-absolutemr-2mt-2"
                            style="right:0;top:0;max-height:20px;"
                            t-if="sponsor.partner_id.country_id"
                            t-att-src="sponsor.partner_id.country_id.image_url"
                            t-att-alt="sponsor.partner_id.country_id.name"/>
                    </div>
                    <divt-else=""class="o_wesponsor_gradientcard-img-topposition-relative"
                        style="padding-top:50%">
                        <divclass="o_wesponsor_connect_button">
                            <ahref="#"class="btnbtn-primaryh3">
                                <tt-if="notuser_event_managerandnotsponsor.event_id.is_ongoingandnotevent.is_participating">
                                    Register
                                </t>
                                <tt-else="">Connect</t>
                            </a>
                        </div>
                    </div>
                </div>
            </header>
            <divclass="col-12">
                <mainclass="card-bodyh-100">
                    <!--Title-->
                    <h5class="card-titlemt-0mb-0text-truncated-flexalign-items-top">
                        <spant-field="sponsor.name"itemprop="name"/>
                        <spant-if="sponsor.is_in_opening_hoursandsponsor.chat_room_id"
                            class="ml-autobadgebadge-danger">Live
                        </span>
                    </h5>
                    <!--Catchysentence-->
                    <spanclass="text-muted"t-esc="sponsor.subtitle"/>
                </main>
            </div>
        </div>
    </article>
</template>

<!--Searchedterms-->
<templateid="exhibitors_search"name="Exhibitors:searchterms">
    <divclass="d-flexalign-items-centermb-3">
        <tt-foreach="search_countries"t-as="country">
            <spanclass="align-items-baselineborderd-inline-flexpl-2mt-3roundedml16mb-2bg-white">
                <iclass="fafa-tagmr-2text-muted"/>
                <tt-esc="country.display_name"/>
                <at-att-href="'/event/%s/exhibitors?%s'%(
                    slug(event),
                    keep_query('*',countries=str((search_countries-country).ids)))"
                    class="btnborder-0py-1">&#215;</a>
            </span>
        </t>
        <tt-foreach="search_sponsorships"t-as="sponsorship">
            <spanclass="align-items-baselineborderd-inline-flexpl-2mt-3roundedml16mb-2bg-white">
                <iclass="fafa-tagmr-2text-muted"/>
                <tt-esc="sponsorship.display_name"/>
                <at-att-href="'/event/%s/exhibitors?%s'%(
                    slug(event),
                    keep_query('*',sponsorships=str((search_sponsorships-sponsorship).ids)))"
                    class="btnborder-0py-1">&#215;</a>
            </span>
        </t>
    </div>
</template>

</flectra>
