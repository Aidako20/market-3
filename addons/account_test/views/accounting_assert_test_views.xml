<?xmlversion="1.0"encoding="utf-8"?>
<flectra>

        <recordmodel="ir.ui.view"id="account_assert_tree">
            <fieldname="name">accounting.assert.test.tree</field>
            <fieldname="model">accounting.assert.test</field>
            <fieldname="arch"type="xml">
                <treestring="Tests">
                    <fieldname="sequence"/>
                    <fieldname="name"/>
                    <fieldname="desc"/>
                </tree>
            </field>
        </record>

        <recordmodel="ir.ui.view"id="account_assert_form">
            <fieldname="name">accounting.assert.test.form</field>
            <fieldname="model">accounting.assert.test</field>
            <fieldname="arch"type="xml">
                <formstring="Tests">
                    <sheet>
                        <group>
                            <group>
                                <fieldname="name"/>
                                <fieldname="sequence"/>
                            </group>
                            <group>
                                <fieldname="active"widget="boolean_toggle"/>
                            </group>
                        </group>
                        <notebook>
                            <pagestring="Description"name="description">
                                <fieldname="desc"nolabel="1"/>
                            </page>
                            <pagestring="Expression"name="expression">
                                <groupstring="PythonCode">
                                    <fieldcolspan="4"name="code_exec"nolabel="1"/>
                                </group>
                                <groupstring="CodeHelp">
                                    <pre>
Codeshouldalwayssetavariablenamed`result`withtheresultofyourtest,thatcanbealistor
adictionary.If`result`isanemptylist,itmeansthatthetestwassuccessful.Otherwiseitwill
trytotranslateandprintwhatisinside`result`.

Iftheresultofyourtestisadictionary,youcansetavariablenamed`column_order`tochoosein
whatorderyouwanttoprint`result`'scontent.

Shouldyouneedthem,youcanalsousethefollowingvariablesintoyourcode:
    *cr:cursortothedatabase
    *uid:IDofthecurrentuser

Inanyways,thecodemustbelegalpythonstatementswithcorrectindentation(ifneeded).

Example:
    sql='''SELECTid,name,ref,date
             FROMaccount_move_line
             WHEREaccount_idIN(SELECTidFROMaccount_accountWHEREtype='view')
          '''
    cr.execute(sql)
    result=cr.dictfetchall()
                                    </pre>
                                </group>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>

        <recordid="accounting_assert_test_view_search"model="ir.ui.view">
            <fieldname="name">accounting.assert.test.view.search</field>
            <fieldname="model">accounting.assert.test</field>
            <fieldname="arch"type="xml">
                <searchstring="SearchAccountTest">
                    <fieldstring="Name"name="name"/>
                    <fieldstring="Description"name="desc"/>
                    <separator/>
                    <filterstring="Archived"name="inactive"domain="[('active','=',False)]"/>
                </search>
            </field>
        </record>

        <recordmodel="ir.actions.act_window"id="action_accounting_assert">
            <fieldname="name">AccountingTests</field>
            <fieldname="res_model">accounting.assert.test</field>
            <fieldname="view_mode">tree,form</field>
            <fieldname="search_view_id"ref="accounting_assert_test_view_search"/>
            <fieldname="help"type="html">
              <pclass="o_view_nocontent_smiling_face">
                Createanewaccountingtest
              </p>
            </field>
        </record>

        <menuitemname="AccountingTests"parent="account.menu_finance_reports"id="menu_action_license"action="action_accounting_assert"sequence="50"groups="base.group_no_one"/>

</flectra>
