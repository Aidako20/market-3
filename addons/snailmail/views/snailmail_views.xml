<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
    <recordmodel="ir.ui.view"id="snailmail_letter_list">
        <fieldname="name">snailmail.letter.tree</field>
        <fieldname="model">snailmail.letter</field>
        <fieldname="arch"type="xml">
            <treedecoration-danger="state=='error'"decoration-muted="state=='sent'"string="Letters">
                <fieldname="attachment_id"string="Document"/>
                <fieldname="partner_id"/>
                <fieldname="user_id"/>
                <fieldname="state"invisible="1"/>
                <fieldname="info_msg"widget="html"/>
                <fieldname="company_id"groups="base.group_multi_company"/>
            </tree>
        </field>
    </record>

    <recordmodel="ir.ui.view"id="snailmail_letter_form">
        <fieldname="name">snailmail.letter.form</field>
        <fieldname="model">snailmail.letter</field>
        <fieldname="arch"type="xml">
            <form>
                <header>
                    <buttonname="snailmail_print"string="SendNow"type="object"states="pending,error"class="oe_highlight"/>
                    <buttonname="cancel"string="Cancel"type="object"states="pending,error"/>
                    <fieldname="state"widget="statusbar"statusbar_visible="pending,sent,canceled"/>
                </header>
                <sheet>
                    <divclass="oe_title">
                        <h1><fieldname="display_name"/></h1>
                    </div>
                    <group>
                        <fieldname="reference"widget="reference"/>
                        <fieldname="attachment_datas"filename="attachment_fname"/>
                        <fieldname="attachment_fname"invisible="1"/>
                        <fieldname="partner_id"/>
                        <fieldname="user_id"/>
                        <fieldname="info_msg"widget="html"/>
                    </group>
                    <groupgroups="base.group_no_one">
                        <fieldname="model"/>
                        <fieldname="res_id"/>
                        <fieldname="color"/>
                        <fieldname="duplex"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <recordmodel="ir.actions.act_window"id="action_mail_letters">
        <fieldname="name">SnailmailLetters</field>
        <fieldname="res_model">snailmail.letter</field>
        <fieldname="view_mode">form,tree</field>
        <fieldname="domain">[('state','!=','draft')]</field>
        <fieldname="view_id"ref="snailmail_letter_list"/>
    </record>

    <menuitemid="menu_snailmail_letters"parent="base.menu_email"action="action_mail_letters"
              sequence="50"/>
</flectra>
