<?xmlversion="1.0"encoding="utf-8"?>
<flectra>
        <recordid="view_sale_advance_payment_inv"model="ir.ui.view">
            <fieldname="name">InvoiceOrders</field>
            <fieldname="model">sale.advance.payment.inv</field>
            <fieldname="arch"type="xml">
                <formstring="InvoiceSalesOrder">
                    <pclass="oe_grey">
                        Invoiceswillbecreatedindraftsothatyoucanreview
                        thembeforevalidation.
                    </p>
                    <group>
                        <fieldname="count"attrs="{'invisible':[('count','=',1)]}"readonly="True"/>
                        <fieldname="advance_payment_method"class="oe_inline"widget="radio"
                            attrs="{'invisible':[('count','&gt;',1)]}"/>
                        <fieldname="has_down_payments"invisible="1"/>
                        <labelfor="deduct_down_payments"string=""attrs="{'invisible':['|',('has_down_payments','=',False),('advance_payment_method','!=','delivered')]}"/>
                        <divattrs="{'invisible':['|',('has_down_payments','=',False),('advance_payment_method','!=','delivered')]}"
                            id="down_payment_details">
                            <fieldname="deduct_down_payments"nolabel="1"/>
                            <labelfor="deduct_down_payments"/>
                        </div>
                        <fieldname="product_id"
                            context="{'default_invoice_policy':'order'}"class="oe_inline"
                            invisible="1"/>
                        <labelfor="amount"attrs="{'invisible':[('advance_payment_method','notin',('fixed','percentage'))]}"/>
                        <divattrs="{'invisible':[('advance_payment_method','notin',('fixed','percentage'))]}"
                            id="payment_method_details">
                            <fieldname="currency_id"invisible="1"/>
                            <fieldname="fixed_amount"
                                attrs="{'required':[('advance_payment_method','=','fixed')],'invisible':[('advance_payment_method','!=','fixed')]}"class="oe_inline"/>
                            <fieldname="amount"
                                attrs="{'required':[('advance_payment_method','=','percentage')],'invisible':[('advance_payment_method','!=','percentage')]}"class="oe_inline"/>
                            <span
                                attrs="{'invisible':[('advance_payment_method','!=','percentage')]}"class="oe_inline">%</span>
                        </div>
                        <fieldname="deposit_account_id"options="{'no_create':True}"class="oe_inline"
                            attrs="{'invisible':['|',('advance_payment_method','notin',('fixed','percentage')),('product_id','!=',False)]}"groups="account.group_account_manager"/>
                        <fieldname="deposit_taxes_id"class="oe_inline"widget="many2many_tags"
                            domain="[('type_tax_use','=','sale')]"
                            attrs="{'invisible':['|',('advance_payment_method','notin',('fixed','percentage')),('product_id','!=',False)]}"/>
                    </group>
                    <footer>
                        <buttonname="create_invoices"id="create_invoice_open"string="CreateandViewInvoice"type="object"
                            context="{'open_invoices':True}"class="btn-primary"/>
                        <buttonname="create_invoices"id="create_invoice"string="CreateInvoice"type="object"/>
                        <buttonstring="Cancel"class="btn-secondary"special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>

        <recordid="action_view_sale_advance_payment_inv"model="ir.actions.act_window">
            <fieldname="name">Createinvoices</field>
            <fieldname="type">ir.actions.act_window</field>
            <fieldname="res_model">sale.advance.payment.inv</field>
            <fieldname="view_mode">form</field>
            <fieldname="target">new</field>
            <!--TODO:checkifweneedthis-->
            <fieldname="binding_model_id"ref="sale.model_sale_order"/>
            <fieldname="binding_view_types">list</field>
        </record>

</flectra>
