<?xmlversion="1.0"encoding="utf-8"?>
<flectra>

    <recordid="base.group_multi_currency"model="res.groups">
        <!--
            Salesmulti-currencyisbasedonpricelists,ifmulti-currencyisenabled,
            enablepricelists.
        -->
        <fieldname="implied_ids"eval="[(4,ref('product.group_product_pricelist'))]"/>
    </record>

     <recordid="group_auto_done_setting"model="res.groups">
        <fieldname="name">LockConfirmedSales</field>
        <fieldname="category_id"ref="base.module_category_hidden"/>
    </record>

    <recordid="group_delivery_invoice_address"model="res.groups">
        <fieldname="name">AddressesinSalesOrders</field>
        <fieldname="category_id"ref="base.module_category_hidden"/>
    </record>

    <recordid="group_warning_sale"model="res.groups">
        <fieldname="name">Awarningcanbesetonaproductoracustomer(Sale)</field>
        <fieldname="category_id"ref="base.module_category_hidden"/>
    </record>

    <recordid="group_proforma_sales"model="res.groups">
        <fieldname="name">Pro-formaInvoices</field>
        <fieldname="category_id"ref="base.module_category_hidden"/>
    </record>

    <recordmodel="res.users"id="base.user_root">
        <fieldeval="[(4,ref('base.group_partner_manager'))]"name="groups_id"/>
    </record>

    <recordmodel="res.users"id="base.user_admin">
        <fieldeval="[(4,ref('base.group_partner_manager'))]"name="groups_id"/>
    </record>

<datanoupdate="1">
    <!--Multi-CompanyRules-->

    <recordmodel="ir.rule"id="sale_order_comp_rule">
        <fieldname="name">SalesOrdermulti-company</field>
        <fieldname="model_id"ref="model_sale_order"/>
        <fieldname="domain_force">[('company_id','in',company_ids)]</field>
    </record>

    <recordmodel="ir.rule"id="sale_order_line_comp_rule">
        <fieldname="name">SalesOrderLinemulti-company</field>
        <fieldname="model_id"ref="model_sale_order_line"/>
        <fieldname="domain_force">[('company_id','in',company_ids)]</field>
    </record>

    <recordmodel="ir.rule"id="sale_order_report_comp_rule">
        <fieldname="name">SalesOrderAnalysismulti-company</field>
        <fieldname="model_id"ref="model_sale_report"/>
        <fieldname="domain_force">[('company_id','in',company_ids)]</field>
    </record>

    <!--Payments-->
    <recordid="payment_transaction_salesman_rule"model="ir.rule">
        <fieldname="name">Accesseverypaymenttransaction</field>
        <fieldname="model_id"ref="payment.model_payment_transaction"/>
        <fieldname="domain_force">[(1,'=',1)]</field>
        <fieldname="groups"eval="[(4,ref('sales_team.group_sale_salesman'))]"/>
    </record>

    <recordid="payment_token_salesman_rule"model="ir.rule">
        <fieldname="name">Accesseverypaymenttoken</field>
        <fieldname="model_id"ref="payment.model_payment_token"/>
        <fieldname="domain_force">[(1,'=',1)]</field>
        <fieldname="groups"eval="[(4,ref('sales_team.group_sale_salesman'))]"/>
    </record>

    <!--PortalAccessRules-->
    <recordid="sale_order_rule_portal"model="ir.rule">
        <fieldname="name">PortalPersonalQuotations/SalesOrders</field>
        <fieldname="model_id"ref="sale.model_sale_order"/>
        <fieldname="domain_force">[('message_partner_ids','child_of',[user.commercial_partner_id.id])]</field>
        <fieldname="groups"eval="[(4,ref('base.group_portal'))]"/>
        <fieldname="perm_unlink"eval="True"/>
        <fieldname="perm_write"eval="True"/>
        <fieldname="perm_read"eval="True"/>
        <fieldname="perm_create"eval="False"/>
    </record>

    <recordid="sale_order_line_rule_portal"model="ir.rule">
        <fieldname="name">PortalSalesOrdersLine</field>
        <fieldname="model_id"ref="sale.model_sale_order_line"/>
        <fieldname="domain_force">[('order_id.message_partner_ids','child_of',[user.commercial_partner_id.id])]</field>
        <fieldname="groups"eval="[(4,ref('base.group_portal'))]"/>
    </record>

    <!--Multi-Salesmensalesorderassignationrules-->

    <recordid="sale_order_personal_rule"model="ir.rule">
        <fieldname="name">PersonalOrders</field>
        <fieldref="model_sale_order"name="model_id"/>
        <fieldname="domain_force">['|',('user_id','=',user.id),('user_id','=',False)]</field>
        <fieldname="groups"eval="[(4,ref('sales_team.group_sale_salesman'))]"/>
    </record>
    <recordid="sale_order_see_all"model="ir.rule">
        <fieldname="name">AllOrders</field>
        <fieldref="model_sale_order"name="model_id"/>
        <fieldname="domain_force">[(1,'=',1)]</field>
        <fieldname="groups"eval="[(4,ref('sales_team.group_sale_salesman_all_leads'))]"/>
    </record>

    <recordid="sale_order_report_personal_rule"model="ir.rule">
        <fieldname="name">PersonalOrdersAnalysis</field>
        <fieldref="model_sale_report"name="model_id"/>
        <fieldname="domain_force">['|',('user_id','=',user.id),('user_id','=',False)]</field>
        <fieldname="groups"eval="[(4,ref('sales_team.group_sale_salesman'))]"/>
    </record>

    <recordid="sale_order_report_see_all"model="ir.rule">
        <fieldname="name">AllOrdersAnalysis</field>
        <fieldref="model_sale_report"name="model_id"/>
        <fieldname="domain_force">[(1,'=',1)]</field>
        <fieldname="groups"eval="[(4,ref('sales_team.group_sale_salesman_all_leads'))]"/>
    </record>

    <recordid="sale_order_line_personal_rule"model="ir.rule">
        <fieldname="name">PersonalOrderLines</field>
        <fieldref="model_sale_order_line"name="model_id"/>
        <fieldname="domain_force">['|',('salesman_id','=',user.id),('salesman_id','=',False)]</field>
        <fieldname="groups"eval="[(4,ref('sales_team.group_sale_salesman'))]"/>
    </record>

    <recordid="sale_order_line_see_all"model="ir.rule">
        <fieldname="name">AllOrdersLines</field>
        <fieldref="model_sale_order_line"name="model_id"/>
        <fieldname="domain_force">[(1,'=',1)]</field>
        <fieldname="groups"eval="[(4,ref('sales_team.group_sale_salesman_all_leads'))]"/>
    </record>

    <recordid="account_invoice_report_rule_see_personal"model="ir.rule">
        <fieldname="name">PersonalInvoicesAnalysis</field>
        <fieldname="model_id"ref="model_account_invoice_report"/>
        <fieldname="domain_force">['|',('invoice_user_id','=',user.id),('invoice_user_id','=',False)]</field>
        <fieldname="groups"eval="[(4,ref('sales_team.group_sale_salesman'))]"/>
    </record>

    <recordid="account_invoice_report_rule_see_all"model="ir.rule">
        <fieldname="name">AllInvoicesAnalysis</field>
        <fieldname="model_id"ref="model_account_invoice_report"/>
        <fieldname="domain_force">[(1,'=',1)]</field>
        <fieldname="groups"eval="[(4,ref('sales_team.group_sale_salesman_all_leads'))]"/>
    </record>

    <!--Paymenttransactionsandtokensaccessrules-->

    <recordid="payment_transaction_salesman_rule"model="ir.rule">
        <fieldname="name">Accesseverypaymenttransaction</field>
        <fieldname="model_id"ref="payment.model_payment_transaction"/>
        <fieldname="domain_force">[(1,'=',1)]</field>
        <fieldname="groups"eval="[(4,ref('sales_team.group_sale_salesman'))]"/>
    </record>

    <recordid="payment_token_salesman_rule"model="ir.rule">
        <fieldname="name">Accesseverypaymenttoken</field>
        <fieldname="model_id"ref="payment.model_payment_token"/>
        <fieldname="groups"eval="[(4,ref('sales_team.group_sale_salesman'))]"/>
    </record>

    <!--Multi-Salesmeninvoiceandaccountmoveassignationrules-->
    <recordid="account_invoice_rule_see_personal"model="ir.rule">
        <fieldname="name">PersonalInvoices</field>
        <fieldname="model_id"ref="model_account_move"/>
        <fieldname="domain_force">[('move_type','in',('out_invoice','out_refund')),'|',('invoice_user_id','=',user.id),('invoice_user_id','=',False)]</field>
        <fieldname="groups"eval="[(4,ref('sales_team.group_sale_salesman'))]"/>
    </record>

    <recordid="account_invoice_rule_see_all"model="ir.rule">
        <fieldname="name">AllInvoices</field>
        <fieldname="model_id"ref="model_account_move"/>
        <fieldname="domain_force">[('move_type','in',('out_invoice','out_refund'))]</field>
        <fieldname="groups"eval="[(4,ref('sales_team.group_sale_salesman_all_leads'))]"/>
    </record>

    <recordid="account_invoice_line_rule_see_personal"model="ir.rule">
        <fieldname="name">PersonalInvoiceLines</field>
        <fieldname="model_id"ref="model_account_move_line"/>
        <fieldname="domain_force">[('move_id.move_type','in',('out_invoice','out_refund')),'|',('move_id.invoice_user_id','=',user.id),('move_id.invoice_user_id','=',False)]</field>
        <fieldname="groups"eval="[(4,ref('sales_team.group_sale_salesman'))]"/>
    </record>

    <recordid="account_invoice_line_rule_see_all"model="ir.rule">
        <fieldname="name">AllInvoiceLines</field>
        <fieldname="model_id"ref="model_account_move_line"/>
        <fieldname="domain_force">[('move_id.move_type','in',('out_invoice','out_refund'))]</field>
        <fieldname="groups"eval="[(4,ref('sales_team.group_sale_salesman_all_leads'))]"/>
    </record>

    <recordid="account_invoice_send_rule_see_personal"model="ir.rule">
        <fieldname="name">PersonalInvoiceSendandPrint</field>
        <fieldname="model_id"ref="account.model_account_invoice_send"/>
        <fieldname="domain_force">[('invoice_ids.move_type','in',('out_invoice','out_refund')),'|',('invoice_ids.invoice_user_id','=',user.id),('invoice_ids.invoice_user_id','=',False)]</field>
        <fieldname="groups"eval="[(4,ref('sales_team.group_sale_salesman'))]"/>
    </record>

    <recordid="account_invoice_send_rule_see_all"model="ir.rule">
        <fieldname="name">AllInvoiceSendandPrint</field>
        <fieldname="model_id"ref="account.model_account_invoice_send"/>
        <fieldname="domain_force">[('invoice_ids.move_type','in',('out_invoice','out_refund'))]</field>
        <fieldname="groups"eval="[(4,ref('sales_team.group_sale_salesman_all_leads'))]"/>
    </record>

    <!--Wizardaccessrules-->
    <recordid="sale_payment_acquirer_onboarding_wizard_rule"model="ir.rule">
        <fieldname="name">PaymentAcquierOnboardingWizardRule</field>
        <fieldname="model_id"ref="model_sale_payment_acquirer_onboarding_wizard"/>
        <fieldname="domain_force">[('create_uid','=',user.id)]</field>
    </record>

    <recordid="sale_advance_payment_inv_rule"model="ir.rule">
        <fieldname="name">SalesAdvancePaymentInvoiceRule</field>
        <fieldname="model_id"ref="model_sale_advance_payment_inv"/>
        <fieldname="domain_force">[('create_uid','=',user.id)]</field>
    </record>

    <recordid="sale_order_cancel_rule"model="ir.rule">
        <fieldname="name">SalesOrderCancelRule</field>
        <fieldname="model_id"ref="model_sale_order_cancel"/>
        <fieldname="domain_force">[('create_uid','=',user.id)]</field>
    </record>
</data>
</flectra>
