<?xmlversion="1.0"encoding="utf-8"?>
<flectra>

    <recordid="view_order_product_pivot"model="ir.ui.view">
         <fieldname="name">sale.report.pivot</field>
         <fieldname="model">sale.report</field>
         <fieldname="arch"type="xml">
             <pivotstring="SalesAnalysis"disable_linking="True"sample="1">
                 <fieldname="team_id"type="col"/>
                 <fieldname="date"interval="month"type="row"/>
                 <fieldname="price_subtotal"type="measure"/>
             </pivot>
         </field>
    </record>

    <recordid="view_order_product_graph"model="ir.ui.view">
         <fieldname="name">sale.report.graph</field>
         <fieldname="model">sale.report</field>
         <fieldname="arch"type="xml">
             <graphstring="SalesAnalysis"type="line"sample="1"disable_linking="1">
                 <fieldname="date"type="row"interval="day"/>
                 <fieldname="price_subtotal"type="measure"/>
             </graph>
         </field>
    </record>

    <recordid="view_order_product_search"model="ir.ui.view">
        <fieldname="name">sale.report.search</field>
        <fieldname="model">sale.report</field>
        <fieldname="arch"type="xml">
            <searchstring="SalesAnalysis">
                <fieldname="date"/>
                <filterstring="Date"name="year"invisible="1"date="date"default_period="this_year"/>
                <filtername="Quotations"string="Quotations"domain="[('state','in',('draft','sent'))]"/>
                <filtername="Sales"string="SalesOrders"domain="[('state','notin',('draft','cancel','sent'))]"/>
                <separator/>
                <filtername="filter_date"date="date"default_period="this_month"/>
                <filtername="filter_order_date"invisible="1"string="OrderDate:Last365Days"domain="[('date','&gt;=',(datetime.datetime.combine(context_today()+relativedelta(days=-365),datetime.time(0,0,0))).strftime('%Y-%m-%d%H:%M:%S'))]"/>
                <separator/>
                <fieldname="user_id"/>
                <fieldname="team_id"/>
                <fieldname="product_id"/>
                <fieldname="categ_id"/>
                <fieldname="partner_id"/>
                <fieldname="country_id"/>
                <fieldname="industry_id"/>
                <groupexpand="0"string="ExtendedFilters">
                    <fieldname="categ_id"filter_domain="[('categ_id','child_of',self)]"/>
                    <fieldname="company_id"groups="base.group_multi_company"/>
                </group>
                <groupexpand="1"string="GroupBy">
                    <filterstring="Salesperson"name="User"context="{'group_by':'user_id'}"/>
                    <filterstring="SalesTeam"name="sales_channel"context="{'group_by':'team_id'}"/>
                    <filterstring="Customer"name="Customer"context="{'group_by':'partner_id'}"/>
                    <filterstring="CustomerCountry"name="country_id"context="{'group_by':'country_id'}"/>
                    <filterstring="CustomerIndustry"name="industry_id"context="{'group_by':'industry_id'}"/>
                    <filterstring="Product"name="Product"context="{'group_by':'product_id'}"/>
                    <filterstring="ProductCategory"name="Category"context="{'group_by':'categ_id'}"/>
                    <filtername="status"string="Status"context="{'group_by':'state'}"/>
                    <filterstring="Company"name="company"groups="base.group_multi_company"context="{'group_by':'company_id'}"/>
                    <separator/>
                    <filterstring="OrderDate"name="date"context="{'group_by':'date'}"/>
                </group>
            </search>
        </field>
    </record>

    <recordid="action_order_report_all"model="ir.actions.act_window">
        <fieldname="name">SalesAnalysis</field>
        <fieldname="res_model">sale.report</field>
        <fieldname="view_mode">graph,pivot</field>
        <fieldname="view_id"></field> <!--forceempty-->
        <fieldname="search_view_id"ref="view_order_product_search"/>
        <fieldname="context">{'search_default_Sales':1,'group_by_no_leaf':1,'group_by':[],'search_default_filter_order_date':1}</field>
        <fieldname="help">Thisreportperformsanalysisonyourquotationsandsalesorders.Analysischeckyoursalesrevenuesandsortitbydifferentgroupcriteria(salesman,partner,product,etc.)Usethisreporttoperformanalysisonsalesnothavinginvoicedyet.Ifyouwanttoanalyseyourturnover,youshouldusetheInvoiceAnalysisreportintheAccountingapplication.</field>
    </record>
</flectra>
